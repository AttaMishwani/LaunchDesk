var WE=t=>{throw TypeError(t)};var Ng=(t,e,n)=>e.has(t)||WE("Cannot "+n);var F=(t,e,n)=>(Ng(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?WE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,i)=>(Ng(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),je=(t,e,n)=>(Ng(t,e,"access private method"),n);var Uf=(t,e,n,i)=>({set _(a){me(t,e,a,n)},get _(){return F(t,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function jS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function fC(){if(JE)return uc;JE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return uc.Fragment=e,uc.jsx=n,uc.jsxs=n,uc}var ZE;function dC(){return ZE||(ZE=1,Og.exports=fC()),Og.exports}var E=dC(),Dg={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function mC(){if(eT)return Ce;eT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function N(B,oe,he){this.props=B,this.context=oe,this.refs=D,this.updater=he||x}N.prototype.isReactComponent={},N.prototype.setState=function(B,oe){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,oe,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=N.prototype;function z(B,oe,he){this.props=B,this.context=oe,this.refs=D,this.updater=he||x}var P=z.prototype=new V;P.constructor=z,I(P,N.prototype),P.isPureReactComponent=!0;var H=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function O(B,oe,he,le,_e,De){return he=De.ref,{$$typeof:t,type:B,key:oe,ref:he!==void 0?he:null,props:De}}function A(B,oe){return O(B.type,oe,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function k(B){var oe={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(he){return oe[he]})}var j=/\/+/g;function G(B,oe){return typeof B=="object"&&B!==null&&B.key!=null?k(""+B.key):oe.toString(36)}function U(){}function Pt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(U,U):(B.status="pending",B.then(function(oe){B.status==="pending"&&(B.status="fulfilled",B.value=oe)},function(oe){B.status==="pending"&&(B.status="rejected",B.reason=oe)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function ct(B,oe,he,le,_e){var De=typeof B;(De==="undefined"||De==="boolean")&&(B=null);var Ae=!1;if(B===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(B.$$typeof){case t:case e:Ae=!0;break;case y:return Ae=B._init,ct(Ae(B._payload),oe,he,le,_e)}}if(Ae)return _e=_e(B),Ae=le===""?"."+G(B,0):le,H(_e)?(he="",Ae!=null&&(he=Ae.replace(j,"$&/")+"/"),ct(_e,oe,he,"",function(Cr){return Cr})):_e!=null&&(C(_e)&&(_e=A(_e,he+(_e.key==null||B&&B.key===_e.key?"":(""+_e.key).replace(j,"$&/")+"/")+Ae)),oe.push(_e)),1;Ae=0;var Bt=le===""?".":le+":";if(H(B))for(var ot=0;ot<B.length;ot++)le=B[ot],De=Bt+G(le,ot),Ae+=ct(le,oe,he,De,_e);else if(ot=w(B),typeof ot=="function")for(B=ot.call(B),ot=0;!(le=B.next()).done;)le=le.value,De=Bt+G(le,ot++),Ae+=ct(le,oe,he,De,_e);else if(De==="object"){if(typeof B.then=="function")return ct(Pt(B),oe,he,le,_e);throw oe=String(B),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ee(B,oe,he){if(B==null)return B;var le=[],_e=0;return ct(B,le,"","",function(De){return oe.call(he,De,_e++)}),le}function ce(B){if(B._status===-1){var oe=B._result;oe=oe(),oe.then(function(he){(B._status===0||B._status===-1)&&(B._status=1,B._result=he)},function(he){(B._status===0||B._status===-1)&&(B._status=2,B._result=he)}),B._status===-1&&(B._status=0,B._result=oe)}if(B._status===1)return B._result.default;throw B._result}var ge=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function $e(){}return Ce.Children={map:ee,forEach:function(B,oe,he){ee(B,function(){oe.apply(this,arguments)},he)},count:function(B){var oe=0;return ee(B,function(){oe++}),oe},toArray:function(B){return ee(B,function(oe){return oe})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ce.Component=N,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=z,Ce.StrictMode=i,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(B){return W.H.useMemoCache(B)}},Ce.cache=function(B){return function(){return B.apply(null,arguments)}},Ce.cloneElement=function(B,oe,he){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var le=I({},B.props),_e=B.key,De=void 0;if(oe!=null)for(Ae in oe.ref!==void 0&&(De=void 0),oe.key!==void 0&&(_e=""+oe.key),oe)!ie.call(oe,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&oe.ref===void 0||(le[Ae]=oe[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=he;else if(1<Ae){for(var Bt=Array(Ae),ot=0;ot<Ae;ot++)Bt[ot]=arguments[ot+2];le.children=Bt}return O(B.type,_e,void 0,void 0,De,le)},Ce.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},Ce.createElement=function(B,oe,he){var le,_e={},De=null;if(oe!=null)for(le in oe.key!==void 0&&(De=""+oe.key),oe)ie.call(oe,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=oe[le]);var Ae=arguments.length-2;if(Ae===1)_e.children=he;else if(1<Ae){for(var Bt=Array(Ae),ot=0;ot<Ae;ot++)Bt[ot]=arguments[ot+2];_e.children=Bt}if(B&&B.defaultProps)for(le in Ae=B.defaultProps,Ae)_e[le]===void 0&&(_e[le]=Ae[le]);return O(B,De,void 0,void 0,null,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(B){return{$$typeof:d,render:B}},Ce.isValidElement=C,Ce.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:ce}},Ce.memo=function(B,oe){return{$$typeof:p,type:B,compare:oe===void 0?null:oe}},Ce.startTransition=function(B){var oe=W.T,he={};W.T=he;try{var le=B(),_e=W.S;_e!==null&&_e(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then($e,ge)}catch(De){ge(De)}finally{W.T=oe}},Ce.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ce.use=function(B){return W.H.use(B)},Ce.useActionState=function(B,oe,he){return W.H.useActionState(B,oe,he)},Ce.useCallback=function(B,oe){return W.H.useCallback(B,oe)},Ce.useContext=function(B){return W.H.useContext(B)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(B,oe){return W.H.useDeferredValue(B,oe)},Ce.useEffect=function(B,oe,he){var le=W.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(B,oe)},Ce.useId=function(){return W.H.useId()},Ce.useImperativeHandle=function(B,oe,he){return W.H.useImperativeHandle(B,oe,he)},Ce.useInsertionEffect=function(B,oe){return W.H.useInsertionEffect(B,oe)},Ce.useLayoutEffect=function(B,oe){return W.H.useLayoutEffect(B,oe)},Ce.useMemo=function(B,oe){return W.H.useMemo(B,oe)},Ce.useOptimistic=function(B,oe){return W.H.useOptimistic(B,oe)},Ce.useReducer=function(B,oe,he){return W.H.useReducer(B,oe,he)},Ce.useRef=function(B){return W.H.useRef(B)},Ce.useState=function(B){return W.H.useState(B)},Ce.useSyncExternalStore=function(B,oe,he){return W.H.useSyncExternalStore(B,oe,he)},Ce.useTransition=function(){return W.H.useTransition()},Ce.version="19.1.0",Ce}var tT;function Fd(){return tT||(tT=1,Dg.exports=mC()),Dg.exports}var L=Fd();const Qe=jS(L);var Pg={exports:{}},cc={},kg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT;function pC(){return nT||(nT=1,function(t){function e(ee,ce){var ge=ee.length;ee.push(ce);e:for(;0<ge;){var $e=ge-1>>>1,B=ee[$e];if(0<a(B,ce))ee[$e]=ce,ee[ge]=B,ge=$e;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ce=ee[0],ge=ee.pop();if(ge!==ce){ee[0]=ge;e:for(var $e=0,B=ee.length,oe=B>>>1;$e<oe;){var he=2*($e+1)-1,le=ee[he],_e=he+1,De=ee[_e];if(0>a(le,ge))_e<B&&0>a(De,le)?(ee[$e]=De,ee[_e]=ge,$e=_e):(ee[$e]=le,ee[he]=ge,$e=he);else if(_e<B&&0>a(De,ge))ee[$e]=De,ee[_e]=ge,$e=_e;else break e}}return ce}function a(ee,ce){var ge=ee.sortIndex-ce.sortIndex;return ge!==0?ge:ee.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,w=3,x=!1,I=!1,D=!1,N=!1,V=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function H(ee){for(var ce=n(p);ce!==null;){if(ce.callback===null)i(p);else if(ce.startTime<=ee)i(p),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(p)}}function W(ee){if(D=!1,H(ee),!I)if(n(m)!==null)I=!0,ie||(ie=!0,G());else{var ce=n(p);ce!==null&&ct(W,ce.startTime-ee)}}var ie=!1,O=-1,A=5,C=-1;function k(){return N?!0:!(t.unstable_now()-C<A)}function j(){if(N=!1,ie){var ee=t.unstable_now();C=ee;var ce=!0;try{e:{I=!1,D&&(D=!1,z(O),O=-1),x=!0;var ge=w;try{t:{for(H(ee),_=n(m);_!==null&&!(_.expirationTime>ee&&k());){var $e=_.callback;if(typeof $e=="function"){_.callback=null,w=_.priorityLevel;var B=$e(_.expirationTime<=ee);if(ee=t.unstable_now(),typeof B=="function"){_.callback=B,H(ee),ce=!0;break t}_===n(m)&&i(m),H(ee)}else i(m);_=n(m)}if(_!==null)ce=!0;else{var oe=n(p);oe!==null&&ct(W,oe.startTime-ee),ce=!1}}break e}finally{_=null,w=ge,x=!1}ce=void 0}}finally{ce?G():ie=!1}}}var G;if(typeof P=="function")G=function(){P(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Pt=U.port2;U.port1.onmessage=j,G=function(){Pt.postMessage(null)}}else G=function(){V(j,0)};function ct(ee,ce){O=V(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ge=w;w=ce;try{return ee()}finally{w=ge}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=w;w=ee;try{return ce()}finally{w=ge}},t.unstable_scheduleCallback=function(ee,ce,ge){var $e=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?$e+ge:$e):ge=$e,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ge+B,ee={id:y++,callback:ce,priorityLevel:ee,startTime:ge,expirationTime:B,sortIndex:-1},ge>$e?(ee.sortIndex=ge,e(p,ee),n(m)===null&&ee===n(p)&&(D?(z(O),O=-1):D=!0,ct(W,ge-$e))):(ee.sortIndex=B,e(m,ee),I||x||(I=!0,ie||(ie=!0,G()))),ee},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(ee){var ce=w;return function(){var ge=w;w=ce;try{return ee.apply(this,arguments)}finally{w=ge}}}}(Mg)),Mg}var rT;function gC(){return rT||(rT=1,kg.exports=pC()),kg.exports}var Lg={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function yC(){if(iT)return on;iT=1;var t=Fd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},on.flushSync=function(m){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=y,i.d.f()}},on.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},on.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},on.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:x}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},on.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},on.requestFormReset=function(m){i.d.r(m)},on.unstable_batchedUpdates=function(m,p){return m(p)},on.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.0",on}var sT;function vC(){if(sT)return Lg.exports;sT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lg.exports=yC(),Lg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function _C(){if(aT)return cc;aT=1;var t=gC(),e=Fd(),n=vC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),r;if(g===u)return d(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var T=!1,S=f.child;S;){if(S===o){T=!0,o=f,u=g;break}if(S===u){T=!0,u=f,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,u=f;break}if(S===u){T=!0,u=g,o=f;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),P=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var U=Symbol.for("react.client.reference");function Pt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===U?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case N:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case ie:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case P:return(r.displayName||"Context")+".Provider";case z:return(r._context.displayName||"Context")+".Consumer";case H:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:Pt(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Pt(r(s))}catch{}}return null}var ct=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},$e=[],B=-1;function oe(r){return{current:r}}function he(r){0>B||(r.current=$e[B],$e[B]=null,B--)}function le(r,s){B++,$e[B]=r.current,r.current=s}var _e=oe(null),De=oe(null),Ae=oe(null),Bt=oe(null);function ot(r,s){switch(le(Ae,s),le(De,r),le(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?xE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=xE(s),r=AE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(_e),le(_e,r)}function Cr(){he(_e),he(De),he(Ae)}function Xi(r){r.memoizedState!==null&&le(Bt,r);var s=_e.current,o=AE(s,r.type);s!==o&&(le(De,r),le(_e,o))}function ai(r){De.current===r&&(he(_e),he(De)),Bt.current===r&&(he(Bt),ic._currentValue=ge)}var ia=Object.prototype.hasOwnProperty,sa=t.unstable_scheduleCallback,aa=t.unstable_cancelCallback,tu=t.unstable_shouldYield,fh=t.unstable_requestPaint,$n=t.unstable_now,Nm=t.unstable_getCurrentPriorityLevel,nu=t.unstable_ImmediatePriority,So=t.unstable_UserBlockingPriority,oa=t.unstable_NormalPriority,Om=t.unstable_LowPriority,xo=t.unstable_IdlePriority,ru=t.log,dh=t.unstable_setDisableYieldValue,yt=null,Je=null;function On(r){if(typeof ru=="function"&&dh(r),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(yt,r)}catch{}}var sn=Math.clz32?Math.clz32:la,mh=Math.log,Dm=Math.LN2;function la(r){return r>>>=0,r===0?32:31-(mh(r)/Dm|0)|0}var ua=256,ca=4194304;function cr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ao(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=cr(u):(T&=S,T!==0?f=cr(T):o||(o=S&~r,o!==0&&(f=cr(o))))):(S=u&~g,S!==0?f=cr(S):T!==0?f=cr(T):o||(o=u&~r,o!==0&&(f=cr(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function ha(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function iu(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var r=ua;return ua<<=1,(ua&4194048)===0&&(ua=256),r}function au(){var r=ca;return ca<<=1,(ca&62914560)===0&&(ca=4194304),r}function oi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function li(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ou(r,s,o,u,f,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,M=r.expirationTimes,Y=r.hiddenUpdates;for(o=T&~o;0<o;){var te=31-sn(o),se=1<<te;S[te]=0,M[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var J=X[te];J!==null&&(J.lane&=-536870913)}o&=~se}u!==0&&Nr(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function Nr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-sn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function lu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-sn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Wi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ro(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ji(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:GE(r.type))}function ph(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var ht=Math.random().toString(36).slice(2),kt="__reactFiber$"+ht,Rt="__reactProps$"+ht,Kn="__reactContainer$"+ht,uu="__reactEvents$"+ht,Pm="__reactListeners$"+ht,Zi="__reactHandles$"+ht,gh="__reactResources$"+ht,fa="__reactMarker$"+ht;function es(r){delete r[kt],delete r[Rt],delete r[uu],delete r[Pm],delete r[Zi]}function ui(r){var s=r[kt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Kn]||o[kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=NE(r);r!==null;){if(o=r[kt])return o;r=NE(r)}return s}r=o,o=r.parentNode}return null}function Or(r){if(r=r[kt]||r[Kn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Dr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function mn(r){var s=r[gh];return s||(s=r[gh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(r){r[fa]=!0}var cu=new Set,Io={};function hr(r,s){ci(r,s),ci(r+"Capture",s)}function ci(r,s){for(Io[r]=s,r=0;r<s.length;r++)cu.add(s[r])}var yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vh={},da={};function _h(r){return ia.call(da,r)?!0:ia.call(vh,r)?!1:yh.test(r)?da[r]=!0:(vh[r]=!0,!1)}function ts(r,s,o){if(_h(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Pr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Kt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var ma,bh;function hi(r){if(ma===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ma=s&&s[1]||"",bh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+r+bh}var Co=!1;function No(r,s){if(!r||Co)return"";Co=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var X=J}Reflect.construct(r,[],se)}else{try{se.call()}catch(J){X=J}r.call(se.prototype)}}else{try{throw Error()}catch(J){X=J}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var M=T.split(`
`),Y=S.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===Y.length)for(u=M.length-1,f=Y.length-1;1<=u&&0<=f&&M[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==Y[f]){var te=`
`+M[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{Co=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?hi(o):""}function hu(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return No(r.type,!1);case 11:return No(r.type.render,!1);case 1:return No(r.type,!0);case 31:return hi("Activity");default:return""}}function Oo(r){try{var s="";do s+=hu(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function km(r){var s=fu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Do(r){r._valueTracker||(r._valueTracker=km(r))}function du(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=fu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function pa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Mm=/[\n"\\]/g;function It(r){return r.replace(Mm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Dn(r,s,o,u,f,g,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pn(s)):r.value!==""+pn(s)&&(r.value=""+pn(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?ns(r,T,pn(s)):o!=null?ns(r,T,pn(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+pn(S):r.removeAttribute("name")}function ga(r,s,o,u,f,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function ns(r,s,o){s==="number"&&pa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function fi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function tt(r,s,o){if(s!=null&&(s=""+pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+pn(o):""}function ya(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ct(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=pn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Yn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eh(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||va.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function mu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Eh(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Eh(r,g,s[g])}function pu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Po(r){return Um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var di=null;function Xn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,pi=null;function gu(r){var s=Or(r);if(s&&(r=s.stateNode)){var o=r[Rt]||null;e:switch(r=s.stateNode,s.type){case"input":if(Dn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Rt]||null;if(!f)throw Error(i(90));Dn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&du(u)}break e;case"textarea":tt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&fi(r,!!o.multiple,s,!1)}}}var kr=!1;function Th(r,s,o){if(kr)return r(s,o);kr=!0;try{var u=r(s);return u}finally{if(kr=!1,(mi!==null||pi!==null)&&(gf(),mi&&(s=mi,r=pi,pi=mi=null,gu(s),r)))for(s=0;s<r.length;s++)gu(r[s])}}function _a(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(fr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Wn=!1}var Mr=null,rs=null,gi=null;function yu(){if(gi)return gi;var r,s=rs,o=s.length,u,f="value"in Mr?Mr.value:Mr.textContent,g=f.length;for(r=0;r<o&&s[r]===f[r];r++);var T=o-r;for(u=1;u<=T&&s[o-u]===f[g-u];u++);return gi=f.slice(r,1<u?1-u:void 0)}function Lr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ur(){return!0}function vu(){return!1}function qt(r){function s(o,u,f,g,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ur:vu,this.isPropagationStopped=vu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=qt(Ye),Ea=y({},Ye,{view:0,detail:0}),wh=qt(Ea),Mo,Lo,Vr,Ta=y({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vr&&(Vr&&r.type==="mousemove"?(Mo=r.screenX-Vr.screenX,Lo=r.screenY-Vr.screenY):Lo=Mo=0,Vr=r),Mo)},movementY:function(r){return"movementY"in r?r.movementY:Lo}}),Jn=qt(Ta),Sh=y({},Ta,{dataTransfer:0}),Vm=qt(Sh),wa=y({},Ea,{relatedTarget:0}),Uo=qt(wa),_u=y({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=qt(_u),xh=y({},Ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jo=qt(xh),jm=y({},Ye,{data:0}),bu=qt(jm),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Rh[r])?!!s[r]:!1}function xa(){return Eu}var Ih=y({},Ea,{key:function(r){if(r.key){var s=Sa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Lr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ah[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(r){return r.type==="keypress"?Lr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Lr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zo=qt(Ih),Ch=y({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=qt(Ch),yi=y({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Nh=qt(yi),Oh=y({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=qt(Oh),Ph=y({},Ta,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bo=qt(Ph),gn=y({},Ye,{newState:0,oldState:0}),kh=qt(gn),Mh=[9,13,27,32],jr=fr&&"CompositionEvent"in window,h=null;fr&&"documentMode"in document&&(h=document.documentMode);var v=fr&&"TextEvent"in window&&!h,b=fr&&(!jr||h&&8<h&&11>=h),R=" ",$=!1;function Z(r,s){switch(r){case"keyup":return Mh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Mt(r,s){switch(r){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:($=!0,R);case"textInput":return r=s.data,r===R&&$?null:r;default:return null}}function qe(r,s){if(Be)return r==="compositionend"||!jr&&Z(r,s)?(r=yu(),gi=rs=Mr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ft[r.type]:s==="textarea"}function vi(r,s,o,u){mi?pi?pi.push(u):pi=[u]:mi=u,s=Tf(s,"onChange"),0<s.length&&(o=new ko("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Yt=null,zr=null;function wu(r){bE(r,0)}function Lh(r){var s=Dr(r);if(du(s))return r}function B_(r,s){if(r==="change")return s}var q_=!1;if(fr){var zm;if(fr){var Bm="oninput"in document;if(!Bm){var F_=document.createElement("div");F_.setAttribute("oninput","return;"),Bm=typeof F_.oninput=="function"}zm=Bm}else zm=!1;q_=zm&&(!document.documentMode||9<document.documentMode)}function H_(){Yt&&(Yt.detachEvent("onpropertychange",G_),zr=Yt=null)}function G_(r){if(r.propertyName==="value"&&Lh(zr)){var s=[];vi(s,zr,r,Xn(r)),Th(wu,s)}}function qR(r,s,o){r==="focusin"?(H_(),Yt=s,zr=o,Yt.attachEvent("onpropertychange",G_)):r==="focusout"&&H_()}function FR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lh(zr)}function HR(r,s){if(r==="click")return Lh(s)}function GR(r,s){if(r==="input"||r==="change")return Lh(s)}function QR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Pn=typeof Object.is=="function"?Object.is:QR;function Su(r,s){if(Pn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ia.call(s,f)||!Pn(r[f],s[f]))return!1}return!0}function Q_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function $_(r,s){var o=Q_(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Q_(o)}}function K_(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?K_(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Y_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=pa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=pa(r.document)}return s}function qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var $R=fr&&"documentMode"in document&&11>=document.documentMode,qo=null,Fm=null,xu=null,Hm=!1;function X_(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hm||qo==null||qo!==pa(u)||(u=qo,"selectionStart"in u&&qm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xu&&Su(xu,u)||(xu=u,u=Tf(Fm,"onSelect"),0<u.length&&(s=new ko("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=qo)))}function Aa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Fo={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Gm={},W_={};fr&&(W_=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Ra(r){if(Gm[r])return Gm[r];if(!Fo[r])return r;var s=Fo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in W_)return Gm[r]=s[o];return r}var J_=Ra("animationend"),Z_=Ra("animationiteration"),e0=Ra("animationstart"),KR=Ra("transitionrun"),YR=Ra("transitionstart"),XR=Ra("transitioncancel"),t0=Ra("transitionend"),n0=new Map,Qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qm.push("scrollEnd");function dr(r,s){n0.set(r,s),hr(s,[r])}var r0=new WeakMap;function Zn(r,s){if(typeof r=="object"&&r!==null){var o=r0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Oo(s)},r0.set(r,s),s)}return{value:r,source:s,stack:Oo(s)}}var er=[],Ho=0,$m=0;function Uh(){for(var r=Ho,s=$m=Ho=0;s<r;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var f=er[s];er[s++]=null;var g=er[s];if(er[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}g!==0&&i0(o,f,g)}}function Vh(r,s,o,u){er[Ho++]=r,er[Ho++]=s,er[Ho++]=o,er[Ho++]=u,$m|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Km(r,s,o,u){return Vh(r,s,o,u),jh(r)}function Go(r,s){return Vh(r,null,null,s),jh(r)}function i0(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&s!==null&&(f=31-sn(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function jh(r){if(50<Xu)throw Xu=0,eg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Qo={};function WR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,o,u){return new WR(r,s,o,u)}function Ym(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _i(r,s){var o=r.alternate;return o===null?(o=kn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function s0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function zh(r,s,o,u,f,g){var T=0;if(u=r,typeof r=="function")Ym(r)&&(T=1);else if(typeof r=="string")T=ZI(r,o,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=kn(31,o,s,f),r.elementType=C,r.lanes=g,r;case I:return Ia(o.children,f,g,s);case D:T=8,f|=24;break;case N:return r=kn(12,o,s,f|2),r.elementType=N,r.lanes=g,r;case W:return r=kn(13,o,s,f),r.elementType=W,r.lanes=g,r;case ie:return r=kn(19,o,s,f),r.elementType=ie,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case P:T=10;break e;case z:T=9;break e;case H:T=11;break e;case O:T=14;break e;case A:T=16,u=null;break e}T=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=kn(T,o,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function Ia(r,s,o,u){return r=kn(7,r,u,s),r.lanes=o,r}function Xm(r,s,o){return r=kn(6,r,null,s),r.lanes=o,r}function Wm(r,s,o){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var $o=[],Ko=0,Bh=null,qh=0,tr=[],nr=0,Ca=null,bi=1,Ei="";function Na(r,s){$o[Ko++]=qh,$o[Ko++]=Bh,Bh=r,qh=s}function a0(r,s,o){tr[nr++]=bi,tr[nr++]=Ei,tr[nr++]=Ca,Ca=r;var u=bi;r=Ei;var f=32-sn(u)-1;u&=~(1<<f),o+=1;var g=32-sn(s)+f;if(30<g){var T=f-f%5;g=(u&(1<<T)-1).toString(32),u>>=T,f-=T,bi=1<<32-sn(s)+f|o<<f|u,Ei=g+r}else bi=1<<g|o<<f|u,Ei=r}function Jm(r){r.return!==null&&(Na(r,1),a0(r,1,0))}function Zm(r){for(;r===Bh;)Bh=$o[--Ko],$o[Ko]=null,qh=$o[--Ko],$o[Ko]=null;for(;r===Ca;)Ca=tr[--nr],tr[nr]=null,Ei=tr[--nr],tr[nr]=null,bi=tr[--nr],tr[nr]=null}var yn=null,vt=null,Ke=!1,Oa=null,Br=!1,ep=Error(i(519));function Da(r){var s=Error(i(418,""));throw Iu(Zn(s,r)),ep}function o0(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[kt]=r,s[Rt]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<Ju.length;o++)Le(Ju[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),ga(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Do(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),ya(s,u.value,u.defaultValue,u.children),Do(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||SE(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=wf),s=!0):s=!1,s||Da(r)}function l0(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:yn=yn.return}}function Au(r){if(r!==yn)return!1;if(!Ke)return l0(r),Ke=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||gg(r.type,r.memoizedProps)),o=!o),o&&vt&&Da(r),l0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){vt=pr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}vt=null}}else s===27?(s=vt,_s(r.type)?(r=bg,bg=null,vt=r):vt=s):vt=yn?pr(r.stateNode.nextSibling):null;return!0}function Ru(){vt=yn=null,Ke=!1}function u0(){var r=Oa;return r!==null&&(An===null?An=r:An.push.apply(An,r),Oa=null),r}function Iu(r){Oa===null?Oa=[r]:Oa.push(r)}var tp=oe(null),Pa=null,Ti=null;function is(r,s,o){le(tp,s._currentValue),s._currentValue=o}function wi(r){r._currentValue=tp.current,he(tp)}function np(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function rp(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var T=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var M=0;M<s.length;M++)if(S.context===s[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),np(g.return,o,r),u||(T=null);break e}g=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),np(T,o,r),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===r){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Cu(r,s,o,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=f.type;Pn(f.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(f===Bt.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(ic):r=[ic])}f=f.return}r!==null&&rp(s,r,o,u),s.flags|=262144}function Fh(r){for(r=r.firstContext;r!==null;){if(!Pn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ka(r){Pa=r,Ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return c0(Pa,r)}function Hh(r,s){return Pa===null&&ka(r),c0(r,s)}function c0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ti===null){if(r===null)throw Error(i(308));Ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ti=Ti.next=s;return o}var JR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},ZR=t.unstable_scheduleCallback,eI=t.unstable_NormalPriority,Ut={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new JR,data:new Map,refCount:0}}function Nu(r){r.refCount--,r.refCount===0&&ZR(eI,function(){r.controller.abort()})}var Ou=null,sp=0,Yo=0,Xo=null;function tI(r,s){if(Ou===null){var o=Ou=[];sp=0,Yo=og(),Xo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sp++,s.then(h0,h0),s}function h0(){if(--sp===0&&Ou!==null){Xo!==null&&(Xo.status="fulfilled");var r=Ou;Ou=null,Yo=0,Xo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function nI(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var f0=ee.S;ee.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tI(r,s),f0!==null&&f0(r,s)};var Ma=oe(null);function ap(){var r=Ma.current;return r!==null?r:lt.pooledCache}function Gh(r,s){s===null?le(Ma,Ma.current):le(Ma,s.pool)}function d0(){var r=ap();return r===null?null:{parent:Ut._currentValue,pool:r}}var Du=Error(i(460)),m0=Error(i(474)),Qh=Error(i(542)),op={then:function(){}};function p0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $h(){}function g0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then($h,$h),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,v0(r),r;default:if(typeof s.status=="string")s.then($h,$h);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,v0(r),r}throw Pu=s,Du}}var Pu=null;function y0(){if(Pu===null)throw Error(i(459));var r=Pu;return Pu=null,r}function v0(r){if(r===Du||r===Qh)throw Error(i(483))}var ss=!1;function lp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function up(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function as(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function os(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=jh(r),i0(r,null,o),s}return Vh(r,u,s,o),jh(r)}function ku(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,lu(r,o)}}function cp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var hp=!1;function Mu(){if(hp){var r=Xo;if(r!==null)throw r}}function Lu(r,s,o,u){hp=!1;var f=r.updateQueue;ss=!1;var g=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,Y=M.next;M.next=null,T===null?g=Y:T.next=Y,T=M;var te=r.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==T&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=M))}if(g!==null){var se=f.baseState;T=0,te=Y=M=null,S=g;do{var X=S.lane&-536870913,J=X!==S.lane;if(J?(Fe&X)===X:(u&X)===X){X!==0&&X===Yo&&(hp=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=r,be=S;X=s;var it=o;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){se=we.call(it,se,X);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,X=typeof we=="function"?we.call(it,se,X):we,X==null)break e;se=y({},se,X);break e;case 2:ss=!0}}X=S.callback,X!==null&&(r.flags|=64,J&&(r.flags|=8192),J=f.callbacks,J===null?f.callbacks=[X]:J.push(X))}else J={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=J,M=se):te=te.next=J,T|=X;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;J=S,S=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);te===null&&(M=se),f.baseState=M,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,g===null&&(f.shared.lanes=0),ps|=T,r.lanes=T,r.memoizedState=se}}function _0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function b0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)_0(o[r],s)}var Wo=oe(null),Kh=oe(0);function E0(r,s){r=Ni,le(Kh,r),le(Wo,s),Ni=r|s.baseLanes}function fp(){le(Kh,Ni),le(Wo,Wo.current)}function dp(){Ni=Kh.current,he(Wo),he(Kh)}var ls=0,Ne=null,nt=null,Ct=null,Yh=!1,Jo=!1,La=!1,Xh=0,Uu=0,Zo=null,rI=0;function St(){throw Error(i(321))}function mp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Pn(r[o],s[o]))return!1;return!0}function pp(r,s,o,u,f,g){return ls=g,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=r===null||r.memoizedState===null?ib:sb,La=!1,g=o(u,f),La=!1,Jo&&(g=w0(s,o,u,f)),T0(r),g}function T0(r){ee.H=nf;var s=nt!==null&&nt.next!==null;if(ls=0,Ct=nt=Ne=null,Yh=!1,Uu=0,Zo=null,s)throw Error(i(300));r===null||Ht||(r=r.dependencies,r!==null&&Fh(r)&&(Ht=!0))}function w0(r,s,o,u){Ne=r;var f=0;do{if(Jo&&(Zo=null),Uu=0,Jo=!1,25<=f)throw Error(i(301));if(f+=1,Ct=nt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=cI,g=s(o,u)}while(Jo);return g}function iI(){var r=ee.H,s=r.useState()[0];return s=typeof s.then=="function"?Vu(s):s,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Ne.flags|=1024),s}function gp(){var r=Xh!==0;return Xh=0,r}function yp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function vp(r){if(Yh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yh=!1}ls=0,Ct=nt=Ne=null,Jo=!1,Uu=Xh=0,Zo=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Nt(){if(nt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var s=Ct===null?Ne.memoizedState:Ct.next;if(s!==null)Ct=s,nt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ct===null?Ne.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function _p(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vu(r){var s=Uu;return Uu+=1,Zo===null&&(Zo=[]),r=g0(Zo,r,s),s=Ne,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?ib:sb),r}function Wh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vu(r);if(r.$$typeof===P)return an(r)}throw Error(i(438,String(r)))}function bp(r){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_p(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=k;return s.index++,o}function Si(r,s){return typeof s=="function"?s(r):s}function Jh(r){var s=Nt();return Ep(s,nt,r)}function Ep(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var T=f.next;f.next=g.next,g.next=T}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var S=T=null,M=null,Y=s,te=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Fe&se)===se:(ls&se)===se){var X=Y.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===Yo&&(te=!0);else if((ls&X)===X){Y=Y.next,X===Yo&&(te=!0);continue}else se={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=se,T=g):M=M.next=se,Ne.lanes|=X,ps|=X;se=Y.action,La&&o(g,se),g=Y.hasEagerState?Y.eagerState:o(g,se)}else X={lane:se,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(S=M=X,T=g):M=M.next=X,Ne.lanes|=se,ps|=se;Y=Y.next}while(Y!==null&&Y!==s);if(M===null?T=g:M.next=S,!Pn(g,r.memoizedState)&&(Ht=!0,te&&(o=Xo,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=M,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Tp(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do g=r(g,T.action),T=T.next;while(T!==f);Pn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function S0(r,s,o){var u=Ne,f=Nt(),g=Ke;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Pn((nt||f).memoizedState,o);T&&(f.memoizedState=o,Ht=!0),f=f.queue;var S=R0.bind(null,u,f,r);if(ju(2048,8,S,[r]),f.getSnapshot!==s||T||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,el(9,Zh(),A0.bind(null,u,f,o,s),null),lt===null)throw Error(i(349));g||(ls&124)!==0||x0(u,s,o)}return o}function x0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=_p(),Ne.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function A0(r,s,o,u){s.value=o,s.getSnapshot=u,I0(s)&&C0(r)}function R0(r,s,o){return o(function(){I0(s)&&C0(r)})}function I0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Pn(r,o)}catch{return!0}}function C0(r){var s=Go(r,2);s!==null&&jn(s,r,2)}function wp(r){var s=Sn();if(typeof r=="function"){var o=r;if(r=o(),La){On(!0);try{o()}finally{On(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},s}function N0(r,s,o,u){return r.baseState=o,Ep(r,nt,typeof u=="function"?u:Si)}function sI(r,s,o,u,f){if(tf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};ee.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,O0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function O0(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=ee.T,T={};ee.T=T;try{var S=o(f,u),M=ee.S;M!==null&&M(T,S),D0(r,s,S)}catch(Y){Sp(r,s,Y)}finally{ee.T=g}}else try{g=o(f,u),D0(r,s,g)}catch(Y){Sp(r,s,Y)}}function D0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){P0(r,s,u)},function(u){return Sp(r,s,u)}):P0(r,s,o)}function P0(r,s,o){s.status="fulfilled",s.value=o,k0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,O0(r,o)))}function Sp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,k0(s),s=s.next;while(s!==u)}r.action=null}function k0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function M0(r,s){return s}function L0(r,s){if(Ke){var o=lt.formState;if(o!==null){e:{var u=Ne;if(Ke){if(vt){t:{for(var f=vt,g=Br;f.nodeType!==8;){if(!g){f=null;break t}if(f=pr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){vt=pr(f.nextSibling),u=f.data==="F!";break e}}Da(u)}u=!1}u&&(s=o[0])}}return o=Sn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:s},o.queue=u,o=tb.bind(null,Ne,u),u.dispatch=o,u=wp(!1),g=Cp.bind(null,Ne,!1,u.queue),u=Sn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=sI.bind(null,Ne,f,g,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function U0(r){var s=Nt();return V0(s,nt,r)}function V0(r,s,o){if(s=Ep(r,s,M0)[0],r=Jh(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Vu(s)}catch(T){throw T===Du?Qh:T}else u=s;s=Nt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,el(9,Zh(),aI.bind(null,f,o),null)),[u,g,r]}function aI(r,s){r.action=s}function j0(r){var s=Nt(),o=nt;if(o!==null)return V0(s,o,r);Nt(),s=s.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function el(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=_p(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Zh(){return{destroy:void 0,resource:void 0}}function z0(){return Nt().memoizedState}function ef(r,s,o,u){var f=Sn();u=u===void 0?null:u,Ne.flags|=r,f.memoizedState=el(1|s,Zh(),o,u)}function ju(r,s,o,u){var f=Nt();u=u===void 0?null:u;var g=f.memoizedState.inst;nt!==null&&u!==null&&mp(u,nt.memoizedState.deps)?f.memoizedState=el(s,g,o,u):(Ne.flags|=r,f.memoizedState=el(1|s,g,o,u))}function B0(r,s){ef(8390656,8,r,s)}function q0(r,s){ju(2048,8,r,s)}function F0(r,s){return ju(4,2,r,s)}function H0(r,s){return ju(4,4,r,s)}function G0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Q0(r,s,o){o=o!=null?o.concat([r]):null,ju(4,4,G0.bind(null,s,r),o)}function xp(){}function $0(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&mp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function K0(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&mp(s,u[1]))return u[0];if(u=r(),La){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[u,s],u}function Ap(r,s,o){return o===void 0||(ls&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Wb(),Ne.lanes|=r,ps|=r,o)}function Y0(r,s,o,u){return Pn(o,s)?o:Wo.current!==null?(r=Ap(r,o,u),Pn(r,s)||(Ht=!0),r):(ls&42)===0?(Ht=!0,r.memoizedState=o):(r=Wb(),Ne.lanes|=r,ps|=r,s)}function X0(r,s,o,u,f){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=ee.T,S={};ee.T=S,Cp(r,!1,s,o);try{var M=f(),Y=ee.S;if(Y!==null&&Y(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=nI(M,u);zu(r,s,te,Vn(r))}else zu(r,s,u,Vn(r))}catch(se){zu(r,s,{then:function(){},status:"rejected",reason:se},Vn())}finally{ce.p=g,ee.T=T}}function oI(){}function Rp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=W0(r).queue;X0(r,f,s,ge,o===null?oI:function(){return J0(r),o(u)})}function W0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function J0(r){var s=W0(r).next.queue;zu(r,s,{},Vn())}function Ip(){return an(ic)}function Z0(){return Nt().memoizedState}function eb(){return Nt().memoizedState}function lI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Vn();r=as(o);var u=os(s,r,o);u!==null&&(jn(u,s,o),ku(u,s,o)),s={cache:ip()},r.payload=s;return}s=s.return}}function uI(r,s,o){var u=Vn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},tf(r)?nb(s,o):(o=Km(r,s,o,u),o!==null&&(jn(o,r,u),rb(o,s,u)))}function tb(r,s,o){var u=Vn();zu(r,s,o,u)}function zu(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(tf(r))nb(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,S=g(T,o);if(f.hasEagerState=!0,f.eagerState=S,Pn(S,T))return Vh(r,s,f,0),lt===null&&Uh(),!1}catch{}finally{}if(o=Km(r,s,f,u),o!==null)return jn(o,r,u),rb(o,s,u),!0}return!1}function Cp(r,s,o,u){if(u={lane:2,revertLane:og(),action:u,hasEagerState:!1,eagerState:null,next:null},tf(r)){if(s)throw Error(i(479))}else s=Km(r,o,u,2),s!==null&&jn(s,r,2)}function tf(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function nb(r,s){Jo=Yh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function rb(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,lu(r,o)}}var nf={readContext:an,use:Wh,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},ib={readContext:an,use:Wh,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:an,useEffect:B0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ef(4194308,4,G0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ef(4194308,4,r,s)},useInsertionEffect:function(r,s){ef(4,2,r,s)},useMemo:function(r,s){var o=Sn();s=s===void 0?null:s;var u=r();if(La){On(!0);try{r()}finally{On(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Sn();if(o!==void 0){var f=o(s);if(La){On(!0);try{o(s)}finally{On(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=uI.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:function(r){r=wp(r);var s=r.queue,o=tb.bind(null,Ne,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:xp,useDeferredValue:function(r,s){var o=Sn();return Ap(o,r,s)},useTransition:function(){var r=wp(!1);return r=X0.bind(null,Ne,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ne,f=Sn();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),lt===null)throw Error(i(349));(Fe&124)!==0||x0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,B0(R0.bind(null,u,g,r),[r]),u.flags|=2048,el(9,Zh(),A0.bind(null,u,g,o,s),null),o},useId:function(){var r=Sn(),s=lt.identifierPrefix;if(Ke){var o=Ei,u=bi;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Xh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=rI++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Ip,useFormState:L0,useActionState:L0,useOptimistic:function(r){var s=Sn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Cp.bind(null,Ne,!0,o),o.dispatch=s,[r,s]},useMemoCache:bp,useCacheRefresh:function(){return Sn().memoizedState=lI.bind(null,Ne)}},sb={readContext:an,use:Wh,useCallback:$0,useContext:an,useEffect:q0,useImperativeHandle:Q0,useInsertionEffect:F0,useLayoutEffect:H0,useMemo:K0,useReducer:Jh,useRef:z0,useState:function(){return Jh(Si)},useDebugValue:xp,useDeferredValue:function(r,s){var o=Nt();return Y0(o,nt.memoizedState,r,s)},useTransition:function(){var r=Jh(Si)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:Vu(r),s]},useSyncExternalStore:S0,useId:Z0,useHostTransitionStatus:Ip,useFormState:U0,useActionState:U0,useOptimistic:function(r,s){var o=Nt();return N0(o,nt,r,s)},useMemoCache:bp,useCacheRefresh:eb},cI={readContext:an,use:Wh,useCallback:$0,useContext:an,useEffect:q0,useImperativeHandle:Q0,useInsertionEffect:F0,useLayoutEffect:H0,useMemo:K0,useReducer:Tp,useRef:z0,useState:function(){return Tp(Si)},useDebugValue:xp,useDeferredValue:function(r,s){var o=Nt();return nt===null?Ap(o,r,s):Y0(o,nt.memoizedState,r,s)},useTransition:function(){var r=Tp(Si)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:Vu(r),s]},useSyncExternalStore:S0,useId:Z0,useHostTransitionStatus:Ip,useFormState:j0,useActionState:j0,useOptimistic:function(r,s){var o=Nt();return nt!==null?N0(o,nt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:bp,useCacheRefresh:eb},tl=null,Bu=0;function rf(r){var s=Bu;return Bu+=1,tl===null&&(tl=[]),g0(tl,r,s)}function qu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function sf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function ab(r){var s=r._init;return s(r._payload)}function ob(r){function s(Q,q){if(r){var K=Q.deletions;K===null?(Q.deletions=[q],Q.flags|=16):K.push(q)}}function o(Q,q){if(!r)return null;for(;q!==null;)s(Q,q),q=q.sibling;return null}function u(Q){for(var q=new Map;Q!==null;)Q.key!==null?q.set(Q.key,Q):q.set(Q.index,Q),Q=Q.sibling;return q}function f(Q,q){return Q=_i(Q,q),Q.index=0,Q.sibling=null,Q}function g(Q,q,K){return Q.index=K,r?(K=Q.alternate,K!==null?(K=K.index,K<q?(Q.flags|=67108866,q):K):(Q.flags|=67108866,q)):(Q.flags|=1048576,q)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function S(Q,q,K,re){return q===null||q.tag!==6?(q=Xm(K,Q.mode,re),q.return=Q,q):(q=f(q,K),q.return=Q,q)}function M(Q,q,K,re){var pe=K.type;return pe===I?te(Q,q,K.props.children,re,K.key):q!==null&&(q.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&ab(pe)===q.type)?(q=f(q,K.props),qu(q,K),q.return=Q,q):(q=zh(K.type,K.key,K.props,null,Q.mode,re),qu(q,K),q.return=Q,q)}function Y(Q,q,K,re){return q===null||q.tag!==4||q.stateNode.containerInfo!==K.containerInfo||q.stateNode.implementation!==K.implementation?(q=Wm(K,Q.mode,re),q.return=Q,q):(q=f(q,K.children||[]),q.return=Q,q)}function te(Q,q,K,re,pe){return q===null||q.tag!==7?(q=Ia(K,Q.mode,re,pe),q.return=Q,q):(q=f(q,K),q.return=Q,q)}function se(Q,q,K){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Xm(""+q,Q.mode,K),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return K=zh(q.type,q.key,q.props,null,Q.mode,K),qu(K,q),K.return=Q,K;case x:return q=Wm(q,Q.mode,K),q.return=Q,q;case A:var re=q._init;return q=re(q._payload),se(Q,q,K)}if(ct(q)||G(q))return q=Ia(q,Q.mode,K,null),q.return=Q,q;if(typeof q.then=="function")return se(Q,rf(q),K);if(q.$$typeof===P)return se(Q,Hh(Q,q),K);sf(Q,q)}return null}function X(Q,q,K,re){var pe=q!==null?q.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pe!==null?null:S(Q,q,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===pe?M(Q,q,K,re):null;case x:return K.key===pe?Y(Q,q,K,re):null;case A:return pe=K._init,K=pe(K._payload),X(Q,q,K,re)}if(ct(K)||G(K))return pe!==null?null:te(Q,q,K,re,null);if(typeof K.then=="function")return X(Q,q,rf(K),re);if(K.$$typeof===P)return X(Q,q,Hh(Q,K),re);sf(Q,K)}return null}function J(Q,q,K,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Q=Q.get(K)||null,S(q,Q,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return Q=Q.get(re.key===null?K:re.key)||null,M(q,Q,re,pe);case x:return Q=Q.get(re.key===null?K:re.key)||null,Y(q,Q,re,pe);case A:var Pe=re._init;return re=Pe(re._payload),J(Q,q,K,re,pe)}if(ct(re)||G(re))return Q=Q.get(K)||null,te(q,Q,re,pe,null);if(typeof re.then=="function")return J(Q,q,K,rf(re),pe);if(re.$$typeof===P)return J(Q,q,K,Hh(q,re),pe);sf(q,re)}return null}function we(Q,q,K,re){for(var pe=null,Pe=null,ye=q,Ee=q=0,Qt=null;ye!==null&&Ee<K.length;Ee++){ye.index>Ee?(Qt=ye,ye=null):Qt=ye.sibling;var Ge=X(Q,ye,K[Ee],re);if(Ge===null){ye===null&&(ye=Qt);break}r&&ye&&Ge.alternate===null&&s(Q,ye),q=g(Ge,q,Ee),Pe===null?pe=Ge:Pe.sibling=Ge,Pe=Ge,ye=Qt}if(Ee===K.length)return o(Q,ye),Ke&&Na(Q,Ee),pe;if(ye===null){for(;Ee<K.length;Ee++)ye=se(Q,K[Ee],re),ye!==null&&(q=g(ye,q,Ee),Pe===null?pe=ye:Pe.sibling=ye,Pe=ye);return Ke&&Na(Q,Ee),pe}for(ye=u(ye);Ee<K.length;Ee++)Qt=J(ye,Q,Ee,K[Ee],re),Qt!==null&&(r&&Qt.alternate!==null&&ye.delete(Qt.key===null?Ee:Qt.key),q=g(Qt,q,Ee),Pe===null?pe=Qt:Pe.sibling=Qt,Pe=Qt);return r&&ye.forEach(function(Ss){return s(Q,Ss)}),Ke&&Na(Q,Ee),pe}function be(Q,q,K,re){if(K==null)throw Error(i(151));for(var pe=null,Pe=null,ye=q,Ee=q=0,Qt=null,Ge=K.next();ye!==null&&!Ge.done;Ee++,Ge=K.next()){ye.index>Ee?(Qt=ye,ye=null):Qt=ye.sibling;var Ss=X(Q,ye,Ge.value,re);if(Ss===null){ye===null&&(ye=Qt);break}r&&ye&&Ss.alternate===null&&s(Q,ye),q=g(Ss,q,Ee),Pe===null?pe=Ss:Pe.sibling=Ss,Pe=Ss,ye=Qt}if(Ge.done)return o(Q,ye),Ke&&Na(Q,Ee),pe;if(ye===null){for(;!Ge.done;Ee++,Ge=K.next())Ge=se(Q,Ge.value,re),Ge!==null&&(q=g(Ge,q,Ee),Pe===null?pe=Ge:Pe.sibling=Ge,Pe=Ge);return Ke&&Na(Q,Ee),pe}for(ye=u(ye);!Ge.done;Ee++,Ge=K.next())Ge=J(ye,Q,Ee,Ge.value,re),Ge!==null&&(r&&Ge.alternate!==null&&ye.delete(Ge.key===null?Ee:Ge.key),q=g(Ge,q,Ee),Pe===null?pe=Ge:Pe.sibling=Ge,Pe=Ge);return r&&ye.forEach(function(hC){return s(Q,hC)}),Ke&&Na(Q,Ee),pe}function it(Q,q,K,re){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var pe=K.key;q!==null;){if(q.key===pe){if(pe=K.type,pe===I){if(q.tag===7){o(Q,q.sibling),re=f(q,K.props.children),re.return=Q,Q=re;break e}}else if(q.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&ab(pe)===q.type){o(Q,q.sibling),re=f(q,K.props),qu(re,K),re.return=Q,Q=re;break e}o(Q,q);break}else s(Q,q);q=q.sibling}K.type===I?(re=Ia(K.props.children,Q.mode,re,K.key),re.return=Q,Q=re):(re=zh(K.type,K.key,K.props,null,Q.mode,re),qu(re,K),re.return=Q,Q=re)}return T(Q);case x:e:{for(pe=K.key;q!==null;){if(q.key===pe)if(q.tag===4&&q.stateNode.containerInfo===K.containerInfo&&q.stateNode.implementation===K.implementation){o(Q,q.sibling),re=f(q,K.children||[]),re.return=Q,Q=re;break e}else{o(Q,q);break}else s(Q,q);q=q.sibling}re=Wm(K,Q.mode,re),re.return=Q,Q=re}return T(Q);case A:return pe=K._init,K=pe(K._payload),it(Q,q,K,re)}if(ct(K))return we(Q,q,K,re);if(G(K)){if(pe=G(K),typeof pe!="function")throw Error(i(150));return K=pe.call(K),be(Q,q,K,re)}if(typeof K.then=="function")return it(Q,q,rf(K),re);if(K.$$typeof===P)return it(Q,q,Hh(Q,K),re);sf(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,q!==null&&q.tag===6?(o(Q,q.sibling),re=f(q,K),re.return=Q,Q=re):(o(Q,q),re=Xm(K,Q.mode,re),re.return=Q,Q=re),T(Q)):o(Q,q)}return function(Q,q,K,re){try{Bu=0;var pe=it(Q,q,K,re);return tl=null,pe}catch(ye){if(ye===Du||ye===Qh)throw ye;var Pe=kn(29,ye,null,Q.mode);return Pe.lanes=re,Pe.return=Q,Pe}finally{}}}var nl=ob(!0),lb=ob(!1),rr=oe(null),qr=null;function us(r){var s=r.alternate;le(Vt,Vt.current&1),le(rr,r),qr===null&&(s===null||Wo.current!==null||s.memoizedState!==null)&&(qr=r)}function ub(r){if(r.tag===22){if(le(Vt,Vt.current),le(rr,r),qr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(qr=r)}}else cs()}function cs(){le(Vt,Vt.current),le(rr,rr.current)}function xi(r){he(rr),qr===r&&(qr=null),he(Vt)}var Vt=oe(0);function af(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_g(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Np(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Op={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Vn(),f=as(u);f.payload=s,o!=null&&(f.callback=o),s=os(r,f,u),s!==null&&(jn(s,r,u),ku(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Vn(),f=as(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=os(r,f,u),s!==null&&(jn(s,r,u),ku(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Vn(),u=as(o);u.tag=2,s!=null&&(u.callback=s),s=os(r,u,o),s!==null&&(jn(s,r,o),ku(s,r,o))}};function cb(r,s,o,u,f,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Su(o,u)||!Su(f,g):!0}function hb(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Op.enqueueReplaceState(s,s.state,null)}function Ua(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var of=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function fb(r){of(r)}function db(r){console.error(r)}function mb(r){of(r)}function lf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function pb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dp(r,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){lf(r,s)},o}function gb(r){return r=as(r),r.tag=3,r}function yb(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){pb(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){pb(s,o,u),typeof f!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function hI(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Cu(s,o,f,!0),o=rr.current,o!==null){switch(o.tag){case 13:return qr===null?ng():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===op?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),ig(r,u,f)),!1;case 22:return o.flags|=65536,u===op?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),ig(r,u,f)),!1}throw Error(i(435,o.tag))}return ig(r,u,f),ng(),!1}if(Ke)return s=rr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==ep&&(r=Error(i(422),{cause:u}),Iu(Zn(r,o)))):(u!==ep&&(s=Error(i(423),{cause:u}),Iu(Zn(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Zn(u,o),f=Dp(r.stateNode,u,f),cp(r,f),_t!==4&&(_t=2)),!1;var g=Error(i(520),{cause:u});if(g=Zn(g,o),Yu===null?Yu=[g]:Yu.push(g),_t!==4&&(_t=2),s===null)return!0;u=Zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Dp(o.stateNode,u,r),cp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gs===null||!gs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=gb(f),yb(f,r,o,u),cp(o,f),!1}o=o.return}while(o!==null);return!1}var vb=Error(i(461)),Ht=!1;function Xt(r,s,o,u){s.child=r===null?lb(s,null,o,u):nl(s,r.child,o,u)}function _b(r,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return ka(s),u=pp(r,s,o,T,g,f),S=gp(),r!==null&&!Ht?(yp(r,s,f),Ai(r,s,f)):(Ke&&S&&Jm(s),s.flags|=1,Xt(r,s,u,f),s.child)}function bb(r,s,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!Ym(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Eb(r,s,g,u,f)):(r=zh(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!zp(r,f)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Su,o(T,u)&&r.ref===s.ref)return Ai(r,s,f)}return s.flags|=1,r=_i(g,u),r.ref=s.ref,r.return=s,s.child=r}function Eb(r,s,o,u,f){if(r!==null){var g=r.memoizedProps;if(Su(g,u)&&r.ref===s.ref)if(Ht=!1,s.pendingProps=u=g,zp(r,f))(r.flags&131072)!==0&&(Ht=!0);else return s.lanes=r.lanes,Ai(r,s,f)}return Pp(r,s,o,u,f)}function Tb(r,s,o){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return wb(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gh(s,g!==null?g.cachePool:null),g!==null?E0(s,g):fp(),ub(s);else return s.lanes=s.childLanes=536870912,wb(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Gh(s,g.cachePool),E0(s,g),cs(),s.memoizedState=null):(r!==null&&Gh(s,null),fp(),cs());return Xt(r,s,f,o),s.child}function wb(r,s,o,u){var f=ap();return f=f===null?null:{parent:Ut._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Gh(s,null),fp(),ub(s),r!==null&&Cu(r,s,u,!0),null}function uf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Pp(r,s,o,u,f){return ka(s),o=pp(r,s,o,u,void 0,f),u=gp(),r!==null&&!Ht?(yp(r,s,f),Ai(r,s,f)):(Ke&&u&&Jm(s),s.flags|=1,Xt(r,s,o,f),s.child)}function Sb(r,s,o,u,f,g){return ka(s),s.updateQueue=null,o=w0(s,u,o,f),T0(r),u=gp(),r!==null&&!Ht?(yp(r,s,g),Ai(r,s,g)):(Ke&&u&&Jm(s),s.flags|=1,Xt(r,s,o,g),s.child)}function xb(r,s,o,u,f){if(ka(s),s.stateNode===null){var g=Qo,T=o.contextType;typeof T=="object"&&T!==null&&(g=an(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Op,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},lp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?an(T):Qo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Np(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Op.enqueueReplaceState(g,g.state,null),Lu(s,u,g,f),Mu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,M=Ua(o,S);g.props=M;var Y=g.context,te=o.contextType;T=Qo,typeof te=="object"&&te!==null&&(T=an(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==T)&&hb(s,g,u,T),ss=!1;var X=s.memoizedState;g.state=X,Lu(s,u,g,f),Mu(),Y=s.memoizedState,S||X!==Y||ss?(typeof se=="function"&&(Np(s,o,se,u),Y=s.memoizedState),(M=ss||cb(s,o,M,u,X,Y,T))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=T,u=M):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,up(r,s),T=s.memoizedProps,te=Ua(o,T),g.props=te,se=s.pendingProps,X=g.context,Y=o.contextType,M=Qo,typeof Y=="object"&&Y!==null&&(M=an(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==se||X!==M)&&hb(s,g,u,M),ss=!1,X=s.memoizedState,g.state=X,Lu(s,u,g,f),Mu();var J=s.memoizedState;T!==se||X!==J||ss||r!==null&&r.dependencies!==null&&Fh(r.dependencies)?(typeof S=="function"&&(Np(s,o,S,u),J=s.memoizedState),(te=ss||cb(s,o,te,u,X,J,M)||r!==null&&r.dependencies!==null&&Fh(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,M)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=M,u=te):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,uf(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=nl(s,r.child,null,f),s.child=nl(s,null,o,f)):Xt(r,s,o,f),s.memoizedState=g.state,r=s.child):r=Ai(r,s,f),r}function Ab(r,s,o,u){return Ru(),s.flags|=256,Xt(r,s,o,u),s.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(r){return{baseLanes:r,cachePool:d0()}}function Lp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ir),r}function Rb(r,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(f?us(s):cs(),Ke){var S=vt,M;if(M=S){e:{for(M=S,S=Br;M.nodeType!==8;){if(!S){S=null;break e}if(M=pr(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ca!==null?{id:bi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},M=kn(18,null,null,0),M.stateNode=S,M.return=s,s.child=M,yn=s,vt=null,M=!0):M=!1}M||Da(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return _g(S)?s.lanes=32:s.lanes=536870912,null;xi(s)}return S=u.children,u=u.fallback,f?(cs(),f=s.mode,S=cf({mode:"hidden",children:S},f),u=Ia(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=Mp(o),f.childLanes=Lp(r,T,o),s.memoizedState=kp,u):(us(s),Up(s,S))}if(M=r.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(g)s.flags&256?(us(s),s.flags&=-257,s=Vp(r,s,o)):s.memoizedState!==null?(cs(),s.child=r.child,s.flags|=128,s=null):(cs(),f=u.fallback,S=s.mode,u=cf({mode:"visible",children:u.children},S),f=Ia(f,S,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,nl(s,r.child,null,o),u=s.child,u.memoizedState=Mp(o),u.childLanes=Lp(r,T,o),s.memoizedState=kp,s=f);else if(us(s),_g(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(i(419)),u.stack="",u.digest=T,Iu({value:u,source:null,stack:null}),s=Vp(r,s,o)}else if(Ht||Cu(r,s,o,!1),T=(o&r.childLanes)!==0,Ht||T){if(T=lt,T!==null&&(u=o&-o,u=(u&42)!==0?1:Wi(u),u=(u&(T.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Go(r,u),jn(T,r,u),vb;S.data==="$?"||ng(),s=Vp(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=M.treeContext,vt=pr(S.nextSibling),yn=s,Ke=!0,Oa=null,Br=!1,r!==null&&(tr[nr++]=bi,tr[nr++]=Ei,tr[nr++]=Ca,bi=r.id,Ei=r.overflow,Ca=s),s=Up(s,u.children),s.flags|=4096);return s}return f?(cs(),f=u.fallback,S=s.mode,M=r.child,Y=M.sibling,u=_i(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,Y!==null?f=_i(Y,f):(f=Ia(f,S,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=r.child.memoizedState,S===null?S=Mp(o):(M=S.cachePool,M!==null?(Y=Ut._currentValue,M=M.parent!==Y?{parent:Y,pool:Y}:M):M=d0(),S={baseLanes:S.baseLanes|o,cachePool:M}),f.memoizedState=S,f.childLanes=Lp(r,T,o),s.memoizedState=kp,u):(us(s),o=r.child,r=o.sibling,o=_i(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Up(r,s){return s=cf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function cf(r,s){return r=kn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Vp(r,s,o){return nl(s,r.child,null,o),r=Up(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Ib(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),np(r.return,s,o)}function jp(r,s,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Cb(r,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Xt(r,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ib(r,o,s);else if(r.tag===19)Ib(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(Vt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&af(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),jp(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&af(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}jp(s,!0,o,null,g);break;case"together":jp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ai(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Cu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=_i(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=_i(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function zp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Fh(r)))}function fI(r,s,o){switch(s.tag){case 3:ot(s,s.stateNode.containerInfo),is(s,Ut,r.memoizedState.cache),Ru();break;case 27:case 5:Xi(s);break;case 4:ot(s,s.stateNode.containerInfo);break;case 10:is(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(us(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Rb(r,s,o):(us(s),r=Ai(r,s,o),r!==null?r.sibling:null);us(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Cu(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Cb(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,Tb(r,s,o);case 24:is(s,Ut,r.memoizedState.cache)}return Ai(r,s,o)}function Nb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ht=!0;else{if(!zp(r,o)&&(s.flags&128)===0)return Ht=!1,fI(r,s,o);Ht=(r.flags&131072)!==0}else Ht=!1,Ke&&(s.flags&1048576)!==0&&a0(s,qh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Ym(u)?(r=Ua(u,r),s.tag=1,s=xb(null,s,u,r,o)):(s.tag=0,s=Pp(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===H){s.tag=11,s=_b(null,s,u,r,o);break e}else if(f===O){s.tag=14,s=bb(null,s,u,r,o);break e}}throw s=Pt(u)||u,Error(i(306,s,""))}}return s;case 0:return Pp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ua(u,s.pendingProps),xb(r,s,u,f,o);case 3:e:{if(ot(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,up(r,s),Lu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,is(s,Ut,u),u!==g.cache&&rp(s,[Ut],o,!0),Mu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Ab(r,s,u,o);break e}else if(u!==f){f=Zn(Error(i(424)),s),Iu(f),s=Ab(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(vt=pr(r.firstChild),yn=s,Ke=!0,Oa=null,Br=!0,o=lb(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ru(),u===f){s=Ai(r,s,o);break e}Xt(r,s,u,o)}s=s.child}return s;case 26:return uf(r,s),r===null?(o=kE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,r=s.pendingProps,u=Sf(Ae.current).createElement(o),u[kt]=s,u[Rt]=r,Jt(u,o,r),wt(u),s.stateNode=u):s.memoizedState=kE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Xi(s),r===null&&Ke&&(u=s.stateNode=OE(s.type,s.pendingProps,Ae.current),yn=s,Br=!0,f=vt,_s(s.type)?(bg=f,vt=pr(u.firstChild)):vt=f),Xt(r,s,s.pendingProps.children,o),uf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((f=u=vt)&&(u=zI(u,s.type,s.pendingProps,Br),u!==null?(s.stateNode=u,yn=s,vt=pr(u.firstChild),Br=!1,f=!0):f=!1),f||Da(s)),Xi(s),f=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,u=g.children,gg(f,g)?u=null:T!==null&&gg(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=pp(r,s,iI,null,null,o),ic._currentValue=f),uf(r,s),Xt(r,s,u,o),s.child;case 6:return r===null&&Ke&&((r=o=vt)&&(o=BI(o,s.pendingProps,Br),o!==null?(s.stateNode=o,yn=s,vt=null,r=!0):r=!1),r||Da(s)),null;case 13:return Rb(r,s,o);case 4:return ot(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=nl(s,null,u,o):Xt(r,s,u,o),s.child;case 11:return _b(r,s,s.type,s.pendingProps,o);case 7:return Xt(r,s,s.pendingProps,o),s.child;case 8:return Xt(r,s,s.pendingProps.children,o),s.child;case 12:return Xt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,is(s,s.type,u.value),Xt(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ka(s),f=an(f),u=u(f),s.flags|=1,Xt(r,s,u,o),s.child;case 14:return bb(r,s,s.type,s.pendingProps,o);case 15:return Eb(r,s,s.type,s.pendingProps,o);case 19:return Cb(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=cf(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=_i(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Tb(r,s,o);case 24:return ka(s),u=an(Ut),r===null?(f=ap(),f===null&&(f=lt,g=ip(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},lp(s),is(s,Ut,f)):((r.lanes&o)!==0&&(up(r,s),Lu(s,null,null,o),Mu()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),is(s,Ut,u)):(u=g.cache,is(s,Ut,u),u!==f.cache&&rp(s,[Ut],o,!0))),Xt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ri(r){r.flags|=4}function Ob(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!jE(s)){if(s=rr.current,s!==null&&((Fe&4194048)===Fe?qr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==qr))throw Pu=op,m0;r.flags|=8192}}function hf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?au():536870912,r.lanes|=s,al|=s)}function Fu(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function dI(r,s,o){var u=s.pendingProps;switch(Zm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wi(Ut),Cr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Au(s)?Ri(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,u0())),pt(s),null;case 26:return o=s.memoizedState,r===null?(Ri(s),o!==null?(pt(s),Ob(s,o)):(pt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ri(s),pt(s),Ob(s,o)):(pt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ri(s),pt(s),s.flags&=-16777217),null;case 27:ai(s),o=Ae.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return pt(s),null}r=_e.current,Au(s)?o0(s):(r=OE(f,u,o),s.stateNode=r,Ri(s))}return pt(s),null;case 5:if(ai(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(r=_e.current,Au(s))o0(s);else{switch(f=Sf(Ae.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[kt]=s,r[Rt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Jt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ri(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ri(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ae.current,Au(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=yn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[kt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||SE(r.nodeValue,o)),r||Da(s)}else r=Sf(r).createTextNode(u),r[kt]=s,s.stateNode=r}return pt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Au(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[kt]=s}else Ru(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),f=!1}else f=u0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(xi(s),s):(xi(s),null)}if(xi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),hf(s,s.updateQueue),pt(s),null;case 4:return Cr(),r===null&&hg(s.stateNode.containerInfo),pt(s),null;case 10:return wi(s.type),pt(s),null;case 19:if(he(Vt),f=s.memoizedState,f===null)return pt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Fu(f,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=af(r),g!==null){for(s.flags|=128,Fu(f,!1),r=g.updateQueue,s.updateQueue=r,hf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)s0(o,r),o=o.sibling;return le(Vt,Vt.current&1|2),s.child}r=r.sibling}f.tail!==null&&$n()>mf&&(s.flags|=128,u=!0,Fu(f,!1),s.lanes=4194304)}else{if(!u)if(r=af(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,hf(s,r),Fu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ke)return pt(s),null}else 2*$n()-f.renderingStartTime>mf&&o!==536870912&&(s.flags|=128,u=!0,Fu(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=$n(),s.sibling=null,r=Vt.current,le(Vt,u?r&1|2:r&1),s):(pt(s),null);case 22:case 23:return xi(s),dp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),o=s.updateQueue,o!==null&&hf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&he(Ma),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wi(Ut),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function mI(r,s){switch(Zm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(Ut),Cr(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ai(s),null;case 13:if(xi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ru()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return he(Vt),null;case 4:return Cr(),null;case 10:return wi(s.type),null;case 22:case 23:return xi(s),dp(),r!==null&&he(Ma),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wi(Ut),null;case 25:return null;default:return null}}function Db(r,s){switch(Zm(s),s.tag){case 3:wi(Ut),Cr();break;case 26:case 27:case 5:ai(s);break;case 4:Cr();break;case 13:xi(s);break;case 19:he(Vt);break;case 10:wi(s.type);break;case 22:case 23:xi(s),dp(),r!==null&&he(Ma);break;case 24:wi(Ut)}}function Hu(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==f)}}catch(S){st(s,s.return,S)}}function hs(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=s;var M=o,Y=S;try{Y()}catch(te){st(f,M,te)}}}u=u.next}while(u!==g)}}catch(te){st(s,s.return,te)}}function Pb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{b0(s,o)}catch(u){st(r,r.return,u)}}}function kb(r,s,o){o.props=Ua(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){st(r,s,u)}}function Gu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){st(r,s,f)}}function Fr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){st(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){st(r,s,f)}else o.current=null}function Mb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){st(r,r.return,f)}}function Bp(r,s,o){try{var u=r.stateNode;MI(u,r.type,o,s),u[Rt]=s}catch(f){st(r,r.return,f)}}function Lb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_s(r.type)||r.tag===4}function qp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_s(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=wf));else if(u!==4&&(u===27&&_s(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Fp(r,s,o),r=r.sibling;r!==null;)Fp(r,s,o),r=r.sibling}function ff(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&_s(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(ff(r,s,o),r=r.sibling;r!==null;)ff(r,s,o),r=r.sibling}function Ub(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Jt(s,u,o),s[kt]=r,s[Rt]=o}catch(g){st(r,r.return,g)}}var Ii=!1,xt=!1,Hp=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function pI(r,s){if(r=r.containerInfo,mg=Nf,r=Y_(r),qm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,M=-1,Y=0,te=0,se=r,X=null;t:for(;;){for(var J;se!==o||f!==0&&se.nodeType!==3||(S=T+f),se!==g||u!==0&&se.nodeType!==3||(M=T+u),se.nodeType===3&&(T+=se.nodeValue.length),(J=se.firstChild)!==null;)X=se,se=J;for(;;){if(se===r)break t;if(X===o&&++Y===f&&(S=T),X===g&&++te===u&&(M=T),(J=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=J}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(pg={focusedElem:r,selectionRange:o},Nf=!1,Gt=s;Gt!==null;)if(s=Gt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Gt=r;else for(;Gt!==null;){switch(s=Gt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var we=Ua(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(we,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(be){st(o,o.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)vg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":vg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Gt=r;break}Gt=s.return}}function jb(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:fs(r,o),u&4&&Hu(5,o);break;case 1:if(fs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){st(o,o.return,T)}else{var f=Ua(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){st(o,o.return,T)}}u&64&&Pb(o),u&512&&Gu(o,o.return);break;case 3:if(fs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{b0(r,s)}catch(T){st(o,o.return,T)}}break;case 27:s===null&&u&4&&Ub(o);case 26:case 5:fs(r,o),s===null&&u&4&&Mb(o),u&512&&Gu(o,o.return);break;case 12:fs(r,o);break;case 13:fs(r,o),u&4&&qb(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=SI.bind(null,o),qI(r,o))));break;case 22:if(u=o.memoizedState!==null||Ii,!u){s=s!==null&&s.memoizedState!==null||xt,f=Ii;var g=xt;Ii=u,(xt=s)&&!g?ds(r,o,(o.subtreeFlags&8772)!==0):fs(r,o),Ii=f,xt=g}break;case 30:break;default:fs(r,o)}}function zb(r){var s=r.alternate;s!==null&&(r.alternate=null,zb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&es(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,xn=!1;function Ci(r,s,o){for(o=o.child;o!==null;)Bb(r,s,o),o=o.sibling}function Bb(r,s,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:xt||Fr(o,s),Ci(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xt||Fr(o,s);var u=ft,f=xn;_s(o.type)&&(ft=o.stateNode,xn=!1),Ci(r,s,o),ec(o.stateNode),ft=u,xn=f;break;case 5:xt||Fr(o,s);case 6:if(u=ft,f=xn,ft=null,Ci(r,s,o),ft=u,xn=f,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(g){st(o,s,g)}else try{ft.removeChild(o.stateNode)}catch(g){st(o,s,g)}break;case 18:ft!==null&&(xn?(r=ft,CE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),lc(r)):CE(ft,o.stateNode));break;case 4:u=ft,f=xn,ft=o.stateNode.containerInfo,xn=!0,Ci(r,s,o),ft=u,xn=f;break;case 0:case 11:case 14:case 15:xt||hs(2,o,s),xt||hs(4,o,s),Ci(r,s,o);break;case 1:xt||(Fr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&kb(o,s,u)),Ci(r,s,o);break;case 21:Ci(r,s,o);break;case 22:xt=(u=xt)||o.memoizedState!==null,Ci(r,s,o),xt=u;break;default:Ci(r,s,o)}}function qb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{lc(r)}catch(o){st(s,s.return,o)}}function gI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Vb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Vb),s;default:throw Error(i(435,r.tag))}}function Gp(r,s){var o=gI(r);s.forEach(function(u){var f=xI.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(_s(S.type)){ft=S.stateNode,xn=!1;break e}break;case 5:ft=S.stateNode,xn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(ft===null)throw Error(i(160));Bb(g,T,f),ft=null,xn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Fb(s,r),s=s.sibling}var mr=null;function Fb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),Ln(r),u&4&&(hs(3,r,r.return),Hu(3,r),hs(5,r,r.return));break;case 1:Mn(s,r),Ln(r),u&512&&(xt||o===null||Fr(o,o.return)),u&64&&Ii&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=mr;if(Mn(s,r),Ln(r),u&512&&(xt||o===null||Fr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[fa]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Jt(g,u,o),g[kt]=r,wt(g),u=g;break e;case"link":var T=UE("link","href",f).get(u+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=f.createElement(u),Jt(g,u,o),f.head.appendChild(g);break;case"meta":if(T=UE("meta","content",f).get(u+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=f.createElement(u),Jt(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[kt]=r,wt(g),u=g}r.stateNode=u}else VE(f,r.type,r.stateNode);else r.stateNode=LE(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?VE(f,r.type,r.stateNode):LE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Bp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),Ln(r),u&512&&(xt||o===null||Fr(o,o.return)),o!==null&&u&4&&Bp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),Ln(r),u&512&&(xt||o===null||Fr(o,o.return)),r.flags&32){f=r.stateNode;try{Yn(f,"")}catch(J){st(r,r.return,J)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Bp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Hp=!0);break;case 6:if(Mn(s,r),Ln(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(J){st(r,r.return,J)}}break;case 3:if(Rf=null,f=mr,mr=xf(s.containerInfo),Mn(s,r),mr=f,Ln(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{lc(s.containerInfo)}catch(J){st(r,r.return,J)}Hp&&(Hp=!1,Hb(r));break;case 4:u=mr,mr=xf(r.stateNode.containerInfo),Mn(s,r),Ln(r),mr=u;break;case 12:Mn(s,r),Ln(r);break;case 13:Mn(s,r),Ln(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wp=$n()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gp(r,u)));break;case 22:f=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,Y=Ii,te=xt;if(Ii=Y||f,xt=te||M,Mn(s,r),xt=te,Ii=Y,Ln(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||M||Ii||xt||Va(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){M=o=s;try{if(g=M.stateNode,f)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=M.stateNode;var se=M.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){st(M,M.return,J)}}}else if(s.tag===6){if(o===null){M=s;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(J){st(M,M.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gp(r,o))));break;case 19:Mn(s,r),Ln(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gp(r,u)));break;case 30:break;case 21:break;default:Mn(s,r),Ln(r)}}function Ln(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Lb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=qp(r);ff(r,g,f);break;case 5:var T=o.stateNode;o.flags&32&&(Yn(T,""),o.flags&=-33);var S=qp(r);ff(r,S,T);break;case 3:case 4:var M=o.stateNode.containerInfo,Y=qp(r);Fp(r,Y,M);break;default:throw Error(i(161))}}catch(te){st(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Hb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Hb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function fs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jb(r,s.alternate,s),s=s.sibling}function Va(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),Va(s);break;case 1:Fr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&kb(s,s.return,o),Va(s);break;case 27:ec(s.stateNode);case 26:case 5:Fr(s,s.return),Va(s);break;case 22:s.memoizedState===null&&Va(s);break;case 30:Va(s);break;default:Va(s)}r=r.sibling}}function ds(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:ds(f,g,o),Hu(4,g);break;case 1:if(ds(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){st(u,u.return,Y)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)_0(M[f],S)}catch(Y){st(u,u.return,Y)}}o&&T&64&&Pb(g),Gu(g,g.return);break;case 27:Ub(g);case 26:case 5:ds(f,g,o),o&&u===null&&T&4&&Mb(g),Gu(g,g.return);break;case 12:ds(f,g,o);break;case 13:ds(f,g,o),o&&T&4&&qb(f,g);break;case 22:g.memoizedState===null&&ds(f,g,o),Gu(g,g.return);break;case 30:break;default:ds(f,g,o)}s=s.sibling}}function Qp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Nu(o))}function $p(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Nu(r))}function Hr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gb(r,s,o,u),s=s.sibling}function Gb(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(r,s,o,u),f&2048&&Hu(9,s);break;case 1:Hr(r,s,o,u);break;case 3:Hr(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Nu(r)));break;case 12:if(f&2048){Hr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){st(s,s.return,M)}}else Hr(r,s,o,u);break;case 13:Hr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Hr(r,s,o,u):Qu(r,s):g._visibility&2?Hr(r,s,o,u):(g._visibility|=2,rl(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Qp(T,s);break;case 24:Hr(r,s,o,u),f&2048&&$p(s.alternate,s);break;default:Hr(r,s,o,u)}}function rl(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,T=s,S=o,M=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:rl(g,T,S,M,f),Hu(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?rl(g,T,S,M,f):Qu(g,T):(te._visibility|=2,rl(g,T,S,M,f)),f&&Y&2048&&Qp(T.alternate,T);break;case 24:rl(g,T,S,M,f),f&&Y&2048&&$p(T.alternate,T);break;default:rl(g,T,S,M,f)}s=s.sibling}}function Qu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Qu(o,u),f&2048&&Qp(u.alternate,u);break;case 24:Qu(o,u),f&2048&&$p(u.alternate,u);break;default:Qu(o,u)}s=s.sibling}}var $u=8192;function il(r){if(r.subtreeFlags&$u)for(r=r.child;r!==null;)Qb(r),r=r.sibling}function Qb(r){switch(r.tag){case 26:il(r),r.flags&$u&&r.memoizedState!==null&&tC(mr,r.memoizedState,r.memoizedProps);break;case 5:il(r);break;case 3:case 4:var s=mr;mr=xf(r.stateNode.containerInfo),il(r),mr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=$u,$u=16777216,il(r),$u=s):il(r));break;default:il(r)}}function $b(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ku(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,Yb(u,r)}$b(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kb(r),r=r.sibling}function Kb(r){switch(r.tag){case 0:case 11:case 15:Ku(r),r.flags&2048&&hs(9,r,r.return);break;case 3:Ku(r);break;case 12:Ku(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,df(r)):Ku(r);break;default:Ku(r)}}function df(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,Yb(u,r)}$b(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:hs(8,s,s.return),df(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,df(s));break;default:df(s)}r=r.sibling}}function Yb(r,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:hs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=r;Gt!==null;){u=Gt;var f=u.sibling,g=u.return;if(zb(u),u===o){Gt=null;break e}if(f!==null){f.return=g,Gt=f;break e}Gt=g}}}var yI={getCacheForType:function(r){var s=an(Ut),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},vI=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Me=null,Fe=0,et=0,Un=null,ms=!1,sl=!1,Kp=!1,Ni=0,_t=0,ps=0,ja=0,Yp=0,ir=0,al=0,Yu=null,An=null,Xp=!1,Wp=0,mf=1/0,pf=null,gs=null,Wt=0,ys=null,ol=null,ll=0,Jp=0,Zp=null,Xb=null,Xu=0,eg=null;function Vn(){if((Ze&2)!==0&&Fe!==0)return Fe&-Fe;if(ee.T!==null){var r=Yo;return r!==0?r:og()}return Ji()}function Wb(){ir===0&&(ir=(Fe&536870912)===0||Ke?su():536870912);var r=rr.current;return r!==null&&(r.flags|=32),ir}function jn(r,s,o){(r===lt&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(ul(r,0),vs(r,Fe,ir,!1)),li(r,o),((Ze&2)===0||r!==lt)&&(r===lt&&((Ze&2)===0&&(ja|=o),_t===4&&vs(r,Fe,ir,!1)),Gr(r))}function Jb(r,s,o){if((Ze&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ha(r,s),f=u?EI(r,s):rg(r,s,!0),g=u;do{if(f===0){sl&&!u&&vs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!_I(o)){f=rg(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=r;f=Yu;var M=S.current.memoizedState.isDehydrated;if(M&&(ul(S,T).flags|=256),T=rg(S,T,!1),T!==2){if(Kp&&!M){S.errorRecoveryDisabledLanes|=g,ja|=g,f=4;break e}g=An,An=f,g!==null&&(An===null?An=g:An.push.apply(An,g))}f=T}if(g=!1,f!==2)continue}}if(f===1){ul(r,0),vs(r,s,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:vs(u,s,ir,!ms);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Wp+300-$n(),10<f)){if(vs(u,s,ir,!ms),Ao(u,0,!0)!==0)break e;u.timeoutHandle=RE(Zb.bind(null,u,o,An,pf,Xp,s,ir,ja,al,ms,g,2,-0,0),f);break e}Zb(u,o,An,pf,Xp,s,ir,ja,al,ms,g,0,-0,0)}}break}while(!0);Gr(r)}function Zb(r,s,o,u,f,g,T,S,M,Y,te,se,X,J){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(rc={stylesheets:null,count:0,unsuspend:eC},Qb(s),se=nC(),se!==null)){r.cancelPendingCommit=se(aE.bind(null,r,s,g,o,u,f,T,S,M,te,1,X,J)),vs(r,g,T,!Y);return}aE(r,s,g,o,u,f,T,S,M)}function _I(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Pn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(r,s,o,u){s&=~Yp,s&=~ja,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-sn(f),T=1<<g;u[g]=-1,f&=~T}o!==0&&Nr(r,o,s)}function gf(){return(Ze&6)===0?(Wu(0),!1):!0}function tg(){if(Me!==null){if(et===0)var r=Me.return;else r=Me,Ti=Pa=null,vp(r),tl=null,Bu=0,r=Me;for(;r!==null;)Db(r.alternate,r),r=r.return;Me=null}}function ul(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,UI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),tg(),lt=r,Me=o=_i(r.current,null),Fe=s,et=0,Un=null,ms=!1,sl=ha(r,s),Kp=!1,al=ir=Yp=ja=ps=_t=0,An=Yu=null,Xp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-sn(u),g=1<<f;s|=r[f],u&=~g}return Ni=s,Uh(),o}function eE(r,s){Ne=null,ee.H=nf,s===Du||s===Qh?(s=y0(),et=3):s===m0?(s=y0(),et=4):et=s===vb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,Me===null&&(_t=1,lf(r,Zn(s,r.current)))}function tE(){var r=ee.H;return ee.H=nf,r===null?nf:r}function nE(){var r=ee.A;return ee.A=yI,r}function ng(){_t=4,ms||(Fe&4194048)!==Fe&&rr.current!==null||(sl=!0),(ps&134217727)===0&&(ja&134217727)===0||lt===null||vs(lt,Fe,ir,!1)}function rg(r,s,o){var u=Ze;Ze|=2;var f=tE(),g=nE();(lt!==r||Fe!==s)&&(pf=null,ul(r,s)),s=!1;var T=_t;e:do try{if(et!==0&&Me!==null){var S=Me,M=Un;switch(et){case 8:tg(),T=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(s=!0);var Y=et;if(et=0,Un=null,cl(r,S,M,Y),o&&sl){T=0;break e}break;default:Y=et,et=0,Un=null,cl(r,S,M,Y)}}bI(),T=_t;break}catch(te){eE(r,te)}while(!0);return s&&r.shellSuspendCounter++,Ti=Pa=null,Ze=u,ee.H=f,ee.A=g,Me===null&&(lt=null,Fe=0,Uh()),T}function bI(){for(;Me!==null;)rE(Me)}function EI(r,s){var o=Ze;Ze|=2;var u=tE(),f=nE();lt!==r||Fe!==s?(pf=null,mf=$n()+500,ul(r,s)):sl=ha(r,s);e:do try{if(et!==0&&Me!==null){s=Me;var g=Un;t:switch(et){case 1:et=0,Un=null,cl(r,s,g,1);break;case 2:case 9:if(p0(g)){et=0,Un=null,iE(s);break}s=function(){et!==2&&et!==9||lt!==r||(et=7),Gr(r)},g.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:p0(g)?(et=0,Un=null,iE(s)):(et=0,Un=null,cl(r,s,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var S=Me;if(!T||jE(T)){et=0,Un=null;var M=S.sibling;if(M!==null)Me=M;else{var Y=S.return;Y!==null?(Me=Y,yf(Y)):Me=null}break t}}et=0,Un=null,cl(r,s,g,5);break;case 6:et=0,Un=null,cl(r,s,g,6);break;case 8:tg(),_t=6;break e;default:throw Error(i(462))}}TI();break}catch(te){eE(r,te)}while(!0);return Ti=Pa=null,ee.H=u,ee.A=f,Ze=o,Me!==null?0:(lt=null,Fe=0,Uh(),_t)}function TI(){for(;Me!==null&&!tu();)rE(Me)}function rE(r){var s=Nb(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,s===null?yf(r):Me=s}function iE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Sb(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=Sb(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:vp(s);default:Db(o,s),s=Me=s0(s,Ni),s=Nb(o,s,Ni)}r.memoizedProps=r.pendingProps,s===null?yf(r):Me=s}function cl(r,s,o,u){Ti=Pa=null,vp(s),tl=null,Bu=0;var f=s.return;try{if(hI(r,f,s,o,Fe)){_t=1,lf(r,Zn(o,r.current)),Me=null;return}}catch(g){if(f!==null)throw Me=f,g;_t=1,lf(r,Zn(o,r.current)),Me=null;return}s.flags&32768?(Ke||u===1?r=!0:sl||(Fe&536870912)!==0?r=!1:(ms=r=!0,(u===2||u===9||u===3||u===6)&&(u=rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),sE(s,r)):yf(s)}function yf(r){var s=r;do{if((s.flags&32768)!==0){sE(s,ms);return}r=s.return;var o=dI(s.alternate,s,Ni);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=r}while(s!==null);_t===0&&(_t=5)}function sE(r,s){do{var o=mI(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);_t=6,Me=null}function aE(r,s,o,u,f,g,T,S,M){r.cancelPendingCommit=null;do vf();while(Wt!==0);if((Ze&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=$m,ou(r,o,g,T,S,M),r===lt&&(Me=lt=null,Fe=0),ol=s,ys=r,ll=o,Jp=g,Zp=f,Xb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,AI(oa,function(){return hE(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=ce.p,ce.p=2,T=Ze,Ze|=4;try{pI(r,s,o)}finally{Ze=T,ce.p=f,ee.T=u}}Wt=1,oE(),lE(),uE()}}function oE(){if(Wt===1){Wt=0;var r=ys,s=ol,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{Fb(s,r);var g=pg,T=Y_(r.containerInfo),S=g.focusedElem,M=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&K_(S.ownerDocument.documentElement,S)){if(M!==null&&qm(S)){var Y=M.start,te=M.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var se=S.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var J=X.getSelection(),we=S.textContent.length,be=Math.min(M.start,we),it=M.end===void 0?be:Math.min(M.end,we);!J.extend&&be>it&&(T=it,it=be,be=T);var Q=$_(S,be),q=$_(S,it);if(Q&&q&&(J.rangeCount!==1||J.anchorNode!==Q.node||J.anchorOffset!==Q.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var K=se.createRange();K.setStart(Q.node,Q.offset),J.removeAllRanges(),be>it?(J.addRange(K),J.extend(q.node,q.offset)):(K.setEnd(q.node,q.offset),J.addRange(K))}}}}for(se=[],J=S;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Nf=!!mg,pg=mg=null}finally{Ze=f,ce.p=u,ee.T=o}}r.current=s,Wt=2}}function lE(){if(Wt===2){Wt=0;var r=ys,s=ol,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{jb(r,s.alternate,s)}finally{Ze=f,ce.p=u,ee.T=o}}Wt=3}}function uE(){if(Wt===4||Wt===3){Wt=0,fh();var r=ys,s=ol,o=ll,u=Xb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,ol=ys=null,cE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(gs=null),Ro(o),s=s.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=ce.p,ce.p=2,ee.T=null;try{for(var g=r.onRecoverableError,T=0;T<u.length;T++){var S=u[T];g(S.value,{componentStack:S.stack})}}finally{ee.T=s,ce.p=f}}(ll&3)!==0&&vf(),Gr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===eg?Xu++:(Xu=0,eg=r):Xu=0,Wu(0)}}function cE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Nu(s)))}function vf(r){return oE(),lE(),uE(),hE()}function hE(){if(Wt!==5)return!1;var r=ys,s=Jp;Jp=0;var o=Ro(ll),u=ee.T,f=ce.p;try{ce.p=32>o?32:o,ee.T=null,o=Zp,Zp=null;var g=ys,T=ll;if(Wt=0,ol=ys=null,ll=0,(Ze&6)!==0)throw Error(i(331));var S=Ze;if(Ze|=4,Kb(g.current),Gb(g,g.current,T,o),Ze=S,Wu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{ce.p=f,ee.T=u,cE(r,s)}}function fE(r,s,o){s=Zn(o,s),s=Dp(r.stateNode,s,2),r=os(r,s,2),r!==null&&(li(r,2),Gr(r))}function st(r,s,o){if(r.tag===3)fE(r,r,o);else for(;s!==null;){if(s.tag===3){fE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(gs===null||!gs.has(u))){r=Zn(o,r),o=gb(2),u=os(s,o,2),u!==null&&(yb(o,u,s,r),li(u,2),Gr(u));break}}s=s.return}}function ig(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new vI;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Kp=!0,f.add(o),r=wI.bind(null,r,s,o),s.then(r,r))}function wI(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&(Fe&o)===o&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>$n()-Wp?(Ze&2)===0&&ul(r,0):Yp|=o,al===Fe&&(al=0)),Gr(r)}function dE(r,s){s===0&&(s=au()),r=Go(r,s),r!==null&&(li(r,s),Gr(r))}function SI(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),dE(r,o)}function xI(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),dE(r,o)}function AI(r,s){return sa(r,s)}var _f=null,hl=null,sg=!1,bf=!1,ag=!1,za=0;function Gr(r){r!==hl&&r.next===null&&(hl===null?_f=hl=r:hl=hl.next=r),bf=!0,sg||(sg=!0,II())}function Wu(r,s){if(!ag&&bf){ag=!0;do for(var o=!1,u=_f;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var T=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-sn(42|r)+1)-1,g&=f&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,yE(u,g))}else g=Fe,g=Ao(u,u===lt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ha(u,g)||(o=!0,yE(u,g));u=u.next}while(o);ag=!1}}function RI(){mE()}function mE(){bf=sg=!1;var r=0;za!==0&&(LI()&&(r=za),za=0);for(var s=$n(),o=null,u=_f;u!==null;){var f=u.next,g=pE(u,s);g===0?(u.next=null,o===null?_f=f:o.next=f,f===null&&(hl=o)):(o=u,(r!==0||(g&3)!==0)&&(bf=!0)),u=f}Wu(r)}function pE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-sn(g),S=1<<T,M=f[T];M===-1?((S&o)===0||(S&u)!==0)&&(f[T]=iu(S,s)):M<=s&&(r.expiredLanes|=S),g&=~S}if(s=lt,o=Fe,o=Ao(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&aa(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ha(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&aa(u),Ro(o)){case 2:case 8:o=So;break;case 32:o=oa;break;case 268435456:o=xo;break;default:o=oa}return u=gE.bind(null,r),o=sa(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&aa(u),r.callbackPriority=2,r.callbackNode=null,2}function gE(r,s){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(vf()&&r.callbackNode!==o)return null;var u=Fe;return u=Ao(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Jb(r,u,s),pE(r,$n()),r.callbackNode!=null&&r.callbackNode===o?gE.bind(null,r):null)}function yE(r,s){if(vf())return null;Jb(r,s,!0)}function II(){VI(function(){(Ze&6)!==0?sa(nu,RI):mE()})}function og(){return za===0&&(za=su()),za}function vE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Po(""+r)}function _E(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function CI(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=vE((f[Rt]||null).action),T=u.submitter;T&&(s=(s=T[Rt]||null)?vE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var S=new ko("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(za!==0){var M=T?_E(f,T):new FormData(f);Rp(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=T?_E(f,T):new FormData(f),Rp(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var lg=0;lg<Qm.length;lg++){var ug=Qm[lg],NI=ug.toLowerCase(),OI=ug[0].toUpperCase()+ug.slice(1);dr(NI,"on"+OI)}dr(J_,"onAnimationEnd"),dr(Z_,"onAnimationIteration"),dr(e0,"onAnimationStart"),dr("dblclick","onDoubleClick"),dr("focusin","onFocus"),dr("focusout","onBlur"),dr(KR,"onTransitionRun"),dr(YR,"onTransitionStart"),dr(XR,"onTransitionCancel"),dr(t0,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function bE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var S=u[T],M=S.instance,Y=S.currentTarget;if(S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(te){of(te)}f.currentTarget=null,g=M}else for(T=0;T<u.length;T++){if(S=u[T],M=S.instance,Y=S.currentTarget,S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(te){of(te)}f.currentTarget=null,g=M}}}}function Le(r,s){var o=s[uu];o===void 0&&(o=s[uu]=new Set);var u=r+"__bubble";o.has(u)||(EE(s,r,2,!1),o.add(u))}function cg(r,s,o){var u=0;s&&(u|=4),EE(o,r,u,s)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function hg(r){if(!r[Ef]){r[Ef]=!0,cu.forEach(function(o){o!=="selectionchange"&&(DI.has(o)||cg(o,!1,r),cg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ef]||(s[Ef]=!0,cg("selectionchange",!1,s))}}function EE(r,s,o,u){switch(GE(s)){case 2:var f=sC;break;case 8:f=aC;break;default:f=xg}o=f.bind(null,s,o,r),f=void 0,!Wn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function fg(r,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=u.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=ui(S),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){u=g=T;continue e}S=S.parentNode}}u=u.return}Th(function(){var Y=g,te=Xn(o),se=[];e:{var X=n0.get(r);if(X!==void 0){var J=ko,we=r;switch(r){case"keypress":if(Lr(o)===0)break e;case"keydown":case"keyup":J=zo;break;case"focusin":we="focus",J=Uo;break;case"focusout":we="blur",J=Uo;break;case"beforeblur":case"afterblur":J=Uo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Nh;break;case J_:case Z_:case e0:J=Vo;break;case t0:J=Dh;break;case"scroll":case"scrollend":J=wh;break;case"wheel":J=Bo;break;case"copy":case"cut":case"paste":J=jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Tu;break;case"toggle":case"beforetoggle":J=kh}var be=(s&4)!==0,it=!be&&(r==="scroll"||r==="scrollend"),Q=be?X!==null?X+"Capture":null:X;be=[];for(var q=Y,K;q!==null;){var re=q;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||Q===null||(re=_a(q,Q),re!=null&&be.push(Zu(q,re,K))),it)break;q=q.return}0<be.length&&(X=new J(X,we,null,o,te),se.push({event:X,listeners:be}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",X&&o!==di&&(we=o.relatedTarget||o.fromElement)&&(ui(we)||we[Kn]))break e;if((J||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,J?(we=o.relatedTarget||o.toElement,J=Y,we=we?ui(we):null,we!==null&&(it=l(we),be=we.tag,we!==it||be!==5&&be!==27&&be!==6)&&(we=null)):(J=null,we=Y),J!==we)){if(be=Jn,re="onMouseLeave",Q="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(be=Tu,re="onPointerLeave",Q="onPointerEnter",q="pointer"),it=J==null?X:Dr(J),K=we==null?X:Dr(we),X=new be(re,q+"leave",J,o,te),X.target=it,X.relatedTarget=K,re=null,ui(te)===Y&&(be=new be(Q,q+"enter",we,o,te),be.target=K,be.relatedTarget=it,re=be),it=re,J&&we)t:{for(be=J,Q=we,q=0,K=be;K;K=fl(K))q++;for(K=0,re=Q;re;re=fl(re))K++;for(;0<q-K;)be=fl(be),q--;for(;0<K-q;)Q=fl(Q),K--;for(;q--;){if(be===Q||Q!==null&&be===Q.alternate)break t;be=fl(be),Q=fl(Q)}be=null}else be=null;J!==null&&TE(se,X,J,be,!1),we!==null&&it!==null&&TE(se,it,we,be,!0)}}e:{if(X=Y?Dr(Y):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var pe=B_;else if(Lt(X))if(q_)pe=GR;else{pe=FR;var Pe=qR}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&pu(Y.elementType)&&(pe=B_):pe=HR;if(pe&&(pe=pe(r,Y))){vi(se,pe,o,te);break e}Pe&&Pe(r,X,Y),r==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&ns(X,"number",X.value)}switch(Pe=Y?Dr(Y):window,r){case"focusin":(Lt(Pe)||Pe.contentEditable==="true")&&(qo=Pe,Fm=Y,xu=null);break;case"focusout":xu=Fm=qo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,X_(se,o,te);break;case"selectionchange":if($R)break;case"keydown":case"keyup":X_(se,o,te)}var ye;if(jr)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Be?Z(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(b&&o.locale!=="ko"&&(Be||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Be&&(ye=yu()):(Mr=te,rs="value"in Mr?Mr.value:Mr.textContent,Be=!0)),Pe=Tf(Y,Ee),0<Pe.length&&(Ee=new bu(Ee,r,null,o,te),se.push({event:Ee,listeners:Pe}),ye?Ee.data=ye:(ye=ue(o),ye!==null&&(Ee.data=ye)))),(ye=v?Mt(r,o):qe(r,o))&&(Ee=Tf(Y,"onBeforeInput"),0<Ee.length&&(Pe=new bu("onBeforeInput","beforeinput",null,o,te),se.push({event:Pe,listeners:Ee}),Pe.data=ye)),CI(se,r,Y,o,te)}bE(se,s)})}function Zu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Tf(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=_a(r,o),f!=null&&u.unshift(Zu(r,f,g)),f=_a(r,s),f!=null&&u.push(Zu(r,f,g))),r.tag===3)return u;r=r.return}return[]}function fl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function TE(r,s,o,u,f){for(var g=s._reactName,T=[];o!==null&&o!==u;){var S=o,M=S.alternate,Y=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||Y===null||(M=Y,f?(Y=_a(o,g),Y!=null&&T.unshift(Zu(o,Y,M))):f||(Y=_a(o,g),Y!=null&&T.push(Zu(o,Y,M)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var PI=/\r\n?/g,kI=/\u0000|\uFFFD/g;function wE(r){return(typeof r=="string"?r:""+r).replace(PI,`
`).replace(kI,"")}function SE(r,s){return s=wE(s),wE(r)===s}function wf(){}function rt(r,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Yn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Yn(r,""+u);break;case"className":Pr(r,"class",u);break;case"tabIndex":Pr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(r,o,u);break;case"style":mu(r,u,g);break;case"data":if(s!=="object"){Pr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Po(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&rt(r,s,"name",f.name,f,null),rt(r,s,"formEncType",f.formEncType,f,null),rt(r,s,"formMethod",f.formMethod,f,null),rt(r,s,"formTarget",f.formTarget,f,null)):(rt(r,s,"encType",f.encType,f,null),rt(r,s,"method",f.method,f,null),rt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Po(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=wf);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Po(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),ts(r,"popover",u);break;case"xlinkActuate":Kt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ts(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lm.get(o)||o,ts(r,o,u))}}function dg(r,s,o,u,f,g){switch(o){case"style":mu(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Yn(r,u):(typeof u=="number"||typeof u=="bigint")&&Yn(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=r[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ts(r,o,u)}}}function Jt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,g,T,o,null)}}f&&rt(r,s,"srcSet",o.srcSet,o,null),u&&rt(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var S=g=T=f=null,M=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":T=te;break;case"checked":M=te;break;case"defaultChecked":Y=te;break;case"value":g=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:rt(r,s,u,te,o,null)}}ga(r,g,S,M,Y,T,f,!1),Do(r);return;case"select":Le("invalid",r),u=T=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:rt(r,s,f,S,o,null)}s=g,o=T,r.multiple=!!u,s!=null?fi(r,!!u,s,!1):o!=null&&fi(r,!!u,o,!0);return;case"textarea":Le("invalid",r),g=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:rt(r,s,T,S,o,null)}ya(r,u,f,g),Do(r);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(r,s,M,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Ju.length;u++)Le(Ju[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,Y,u,o,null)}return;default:if(pu(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&dg(r,s,te,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&rt(r,s,S,u,o,null))}function MI(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,T=null,S=null,M=null,Y=null,te=null;for(J in o){var se=o[J];if(o.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=se;default:u.hasOwnProperty(J)||rt(r,s,J,null,u,se)}}for(var X in u){var J=u[X];if(se=o[X],u.hasOwnProperty(X)&&(J!=null||se!=null))switch(X){case"type":g=J;break;case"name":f=J;break;case"checked":Y=J;break;case"defaultChecked":te=J;break;case"value":T=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==se&&rt(r,s,X,J,u,se)}}Dn(r,T,S,M,Y,te,g,f);return;case"select":J=T=S=X=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":J=M;default:u.hasOwnProperty(g)||rt(r,s,g,null,u,M)}for(f in u)if(g=u[f],M=o[f],u.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":X=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==M&&rt(r,s,f,g,u,M)}s=S,o=T,u=J,X!=null?fi(r,!!o,X,!1):!!u!=!!o&&(s!=null?fi(r,!!o,s,!0):fi(r,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(r,s,S,null,u,f)}for(T in u)if(f=u[T],g=o[T],u.hasOwnProperty(T)&&(f!=null||g!=null))switch(T){case"value":X=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&rt(r,s,T,f,u,g)}tt(r,X,J);return;case"option":for(var we in o)if(X=o[we],o.hasOwnProperty(we)&&X!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:rt(r,s,we,null,u,X)}for(M in u)if(X=u[M],J=o[M],u.hasOwnProperty(M)&&X!==J&&(X!=null||J!=null))switch(M){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:rt(r,s,M,X,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)X=o[be],o.hasOwnProperty(be)&&X!=null&&!u.hasOwnProperty(be)&&rt(r,s,be,null,u,X);for(Y in u)if(X=u[Y],J=o[Y],u.hasOwnProperty(Y)&&X!==J&&(X!=null||J!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:rt(r,s,Y,X,u,J)}return;default:if(pu(s)){for(var it in o)X=o[it],o.hasOwnProperty(it)&&X!==void 0&&!u.hasOwnProperty(it)&&dg(r,s,it,void 0,u,X);for(te in u)X=u[te],J=o[te],!u.hasOwnProperty(te)||X===J||X===void 0&&J===void 0||dg(r,s,te,X,u,J);return}}for(var Q in o)X=o[Q],o.hasOwnProperty(Q)&&X!=null&&!u.hasOwnProperty(Q)&&rt(r,s,Q,null,u,X);for(se in u)X=u[se],J=o[se],!u.hasOwnProperty(se)||X===J||X==null&&J==null||rt(r,s,se,X,u,J)}var mg=null,pg=null;function Sf(r){return r.nodeType===9?r:r.ownerDocument}function xE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function gg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yg=null;function LI(){var r=window.event;return r&&r.type==="popstate"?r===yg?!1:(yg=r,!0):(yg=null,!1)}var RE=typeof setTimeout=="function"?setTimeout:void 0,UI=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,VI=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(r){return IE.resolve(null).then(r).catch(jI)}:RE;function jI(r){setTimeout(function(){throw r})}function _s(r){return r==="head"}function CE(r,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var T=r.ownerDocument;if(o&1&&ec(T.documentElement),o&2&&ec(T.body),o&4)for(o=T.head,ec(o),T=o.firstChild;T;){var S=T.nextSibling,M=T.nodeName;T[fa]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(f===0){r.removeChild(g),lc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);lc(s)}function vg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vg(o),es(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function zI(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[fa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=pr(r.nextSibling),r===null)break}return null}function BI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=pr(r.nextSibling),r===null))return null;return r}function _g(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function qI(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function pr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var bg=null;function NE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function OE(r,s,o){switch(s=Sf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function ec(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);es(r)}var sr=new Map,DE=new Set;function xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oi=ce.d;ce.d={f:FI,r:HI,D:GI,C:QI,L:$I,m:KI,X:XI,S:YI,M:WI};function FI(){var r=Oi.f(),s=gf();return r||s}function HI(r){var s=Or(r);s!==null&&s.tag===5&&s.type==="form"?J0(s):Oi.r(r)}var dl=typeof document>"u"?null:document;function PE(r,s,o){var u=dl;if(u&&typeof s=="string"&&s){var f=It(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),DE.has(f)||(DE.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Jt(s,"link",r),wt(s),u.head.appendChild(s)))}}function GI(r){Oi.D(r),PE("dns-prefetch",r,null)}function QI(r,s){Oi.C(r,s),PE("preconnect",r,s)}function $I(r,s,o){Oi.L(r,s,o);var u=dl;if(u&&r&&s){var f='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var g=f;switch(s){case"style":g=ml(r);break;case"script":g=pl(r)}sr.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),sr.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(tc(g))||s==="script"&&u.querySelector(nc(g))||(s=u.createElement("link"),Jt(s,"link",r),wt(s),u.head.appendChild(s)))}}function KI(r,s){Oi.m(r,s);var o=dl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pl(r)}if(!sr.has(g)&&(r=y({rel:"modulepreload",href:r},s),sr.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nc(g)))return}u=o.createElement("link"),Jt(u,"link",r),wt(u),o.head.appendChild(u)}}}function YI(r,s,o){Oi.S(r,s,o);var u=dl;if(u&&r){var f=mn(u).hoistableStyles,g=ml(r);s=s||"default";var T=f.get(g);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(tc(g)))S.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=sr.get(g))&&Eg(r,o);var M=T=u.createElement("link");wt(M),Jt(M,"link",r),M._p=new Promise(function(Y,te){M.onload=Y,M.onerror=te}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Af(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(g,T)}}}function XI(r,s){Oi.X(r,s);var o=dl;if(o&&r){var u=mn(o).hoistableScripts,f=pl(r),g=u.get(f);g||(g=o.querySelector(nc(f)),g||(r=y({src:r,async:!0},s),(s=sr.get(f))&&Tg(r,s),g=o.createElement("script"),wt(g),Jt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function WI(r,s){Oi.M(r,s);var o=dl;if(o&&r){var u=mn(o).hoistableScripts,f=pl(r),g=u.get(f);g||(g=o.querySelector(nc(f)),g||(r=y({src:r,async:!0,type:"module"},s),(s=sr.get(f))&&Tg(r,s),g=o.createElement("script"),wt(g),Jt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function kE(r,s,o,u){var f=(f=Ae.current)?xf(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ml(o.href),o=mn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ml(o.href);var g=mn(f).hoistableStyles,T=g.get(r);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=f.querySelector(tc(r)))&&!g._p&&(T.instance=g,T.state.loading=5),sr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},sr.set(r,o),g||JI(f,r,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pl(o),o=mn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ml(r){return'href="'+It(r)+'"'}function tc(r){return'link[rel="stylesheet"]['+r+"]"}function ME(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function JI(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),wt(s),r.head.appendChild(s))}function pl(r){return'[src="'+It(r)+'"]'}function nc(r){return"script[async]"+r}function LE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return s.instance=u,wt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),wt(u),Jt(u,"style",f),Af(u,o.precedence,r),s.instance=u;case"stylesheet":f=ml(o.href);var g=r.querySelector(tc(f));if(g)return s.state.loading|=4,s.instance=g,wt(g),g;u=ME(o),(f=sr.get(f))&&Eg(u,f),g=(r.ownerDocument||r).createElement("link"),wt(g);var T=g;return T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),Jt(g,"link",u),s.state.loading|=4,Af(g,o.precedence,r),s.instance=g;case"script":return g=pl(o.src),(f=r.querySelector(nc(g)))?(s.instance=f,wt(f),f):(u=o,(f=sr.get(g))&&(u=y({},o),Tg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),wt(f),Jt(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Af(u,o.precedence,r));return s.instance}function Af(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===s)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Eg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Tg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Rf=null;function UE(r,s,o){if(Rf===null){var u=new Map,f=Rf=new Map;f.set(o,u)}else f=Rf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[fa]||g[kt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var S=u.get(T);S?S.push(g):u.set(T,[g])}}return u}function VE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function ZI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var rc=null;function eC(){}function tC(r,s,o){if(rc===null)throw Error(i(475));var u=rc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=ml(o.href),g=r.querySelector(tc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=If.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,wt(g);return}g=r.ownerDocument||r,o=ME(o),(f=sr.get(f))&&Eg(o,f),g=g.createElement("link"),wt(g);var T=g;T._p=new Promise(function(S,M){T.onload=S,T.onerror=M}),Jt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=If.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function nC(){if(rc===null)throw Error(i(475));var r=rc;return r.stylesheets&&r.count===0&&wg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&wg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function If(){if(this.count--,this.count===0){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cf=null;function wg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cf=new Map,s.forEach(rC,r),Cf=null,If.call(r))}function rC(r,s){if(!(s.state.loading&4)){var o=Cf.get(r);if(o)var u=o.get(null);else{o=new Map,Cf.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var T=f[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,f),o.set(T,f),this.count++,u=If.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var ic={$$typeof:P,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function iC(r,s,o,u,f,g,T,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function zE(r,s,o,u,f,g,T,S,M,Y,te,se){return r=new iC(r,s,o,T,S,M,Y,se),s=1,g===!0&&(s|=24),g=kn(3,null,null,s),r.current=g,g.stateNode=r,s=ip(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},lp(g),r}function BE(r){return r?(r=Qo,r):Qo}function qE(r,s,o,u,f,g){f=BE(f),u.context===null?u.context=f:u.pendingContext=f,u=as(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=os(r,u,s),o!==null&&(jn(o,r,s),ku(o,r,s))}function FE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Sg(r,s){FE(r,s),(r=r.alternate)&&FE(r,s)}function HE(r){if(r.tag===13){var s=Go(r,67108864);s!==null&&jn(s,r,67108864),Sg(r,67108864)}}var Nf=!0;function sC(r,s,o,u){var f=ee.T;ee.T=null;var g=ce.p;try{ce.p=2,xg(r,s,o,u)}finally{ce.p=g,ee.T=f}}function aC(r,s,o,u){var f=ee.T;ee.T=null;var g=ce.p;try{ce.p=8,xg(r,s,o,u)}finally{ce.p=g,ee.T=f}}function xg(r,s,o,u){if(Nf){var f=Ag(u);if(f===null)fg(r,s,u,Of,o),QE(r,u);else if(lC(f,r,s,o,u))u.stopPropagation();else if(QE(r,u),s&4&&-1<oC.indexOf(r)){for(;f!==null;){var g=Or(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=cr(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var M=1<<31-sn(T);S.entanglements[1]|=M,T&=~M}Gr(g),(Ze&6)===0&&(mf=$n()+500,Wu(0))}}break;case 13:S=Go(g,2),S!==null&&jn(S,g,2),gf(),Sg(g,2)}if(g=Ag(u),g===null&&fg(r,s,u,Of,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else fg(r,s,u,null,o)}}function Ag(r){return r=Xn(r),Rg(r)}var Of=null;function Rg(r){if(Of=null,r=ui(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Of=r,null}function GE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nm()){case nu:return 2;case So:return 8;case oa:case Om:return 32;case xo:return 268435456;default:return 32}default:return 32}}var Ig=!1,bs=null,Es=null,Ts=null,sc=new Map,ac=new Map,ws=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(r,s){switch(r){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":sc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(s.pointerId)}}function oc(r,s,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Or(s),s!==null&&HE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function lC(r,s,o,u,f){switch(s){case"focusin":return bs=oc(bs,r,s,o,u,f),!0;case"dragenter":return Es=oc(Es,r,s,o,u,f),!0;case"mouseover":return Ts=oc(Ts,r,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return sc.set(g,oc(sc.get(g)||null,r,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,ac.set(g,oc(ac.get(g)||null,r,s,o,u,f)),!0}return!1}function $E(r){var s=ui(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,ph(r.priority,function(){if(o.tag===13){var u=Vn();u=Wi(u);var f=Go(o,u);f!==null&&jn(f,o,u),Sg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Df(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Ag(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return s=Or(o),s!==null&&HE(s),r.blockedOn=o,!1;s.shift()}return!0}function KE(r,s,o){Df(r)&&o.delete(s)}function uC(){Ig=!1,bs!==null&&Df(bs)&&(bs=null),Es!==null&&Df(Es)&&(Es=null),Ts!==null&&Df(Ts)&&(Ts=null),sc.forEach(KE),ac.forEach(KE)}function Pf(r,s){r.blockedOn===s&&(r.blockedOn=null,Ig||(Ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uC)))}var kf=null;function YE(r){kf!==r&&(kf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kf===r&&(kf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Rg(u||o)===null)continue;break}var g=Or(o);g!==null&&(r.splice(s,3),s-=3,Rp(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function lc(r){function s(M){return Pf(M,r)}bs!==null&&Pf(bs,r),Es!==null&&Pf(Es,r),Ts!==null&&Pf(Ts,r),sc.forEach(s),ac.forEach(s);for(var o=0;o<ws.length;o++){var u=ws[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)$E(o),o.blockedOn===null&&ws.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],T=f[Rt]||null;if(typeof g=="function")T||YE(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,T=g[Rt]||null)S=T.formAction;else if(Rg(f)!==null)continue}else S=T.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),YE(o)}}}function Cg(r){this._internalRoot=r}Mf.prototype.render=Cg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Vn();qE(o,u,r,s,null,null)},Mf.prototype.unmount=Cg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qE(r.current,2,null,r,null,null),gf(),s[Kn]=null}};function Mf(r){this._internalRoot=r}Mf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ji();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ws.length&&s!==0&&s<ws[o].priority;o++);ws.splice(o,0,r),o===0&&$E(r)}};var XE=e.version;if(XE!=="19.1.0")throw Error(i(527,XE,"19.1.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var cC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{yt=Lf.inject(cC),Je=Lf}catch{}}return cc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=fb,g=db,T=mb,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=zE(r,1,!1,null,null,o,u,f,g,T,S,null),r[Kn]=s.current,hg(r),new Cg(s)},cc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",g=fb,T=db,S=mb,M=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=zE(r,1,!0,s,o??null,u,f,g,T,S,M,Y),s.context=BE(null),o=s.current,u=Vn(),u=Wi(u),f=as(u),f.callback=null,os(o,f,u),o=u,s.current.lanes=o,li(s,o),Gr(s),r[Kn]=s.current,hg(r),new Mf(s)},cc.version="19.1.0",cc}var oT;function bC(){if(oT)return Pg.exports;oT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=_C(),Pg.exports}var EC=bC(),hc={},lT;function TC(){if(lT)return hc;lT=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.parse=c,hc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,x){const I=new l,D=w.length;if(D<2)return I;const N=(x==null?void 0:x.decode)||y;let V=0;do{const z=w.indexOf("=",V);if(z===-1)break;const P=w.indexOf(";",V),H=P===-1?D:P;if(z>H){V=w.lastIndexOf(";",z-1)+1;continue}const W=d(w,V,z),ie=m(w,z,W),O=w.slice(W,ie);if(I[O]===void 0){let A=d(w,z+1,H),C=m(w,H,A);const k=N(w.slice(A,C));I[O]=k}V=H+1}while(V<D);return I}function d(w,x,I){do{const D=w.charCodeAt(x);if(D!==32&&D!==9)return x}while(++x<I);return I}function m(w,x,I){for(;x>I;){const D=w.charCodeAt(--x);if(D!==32&&D!==9)return x+1}return I}function p(w,x,I){const D=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const N=D(x);if(!e.test(N))throw new TypeError(`argument val is invalid: ${x}`);let V=w+"="+N;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!_(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return a.call(w)==="[object Date]"}return hc}TC();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uT="popstate";function wC(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return ay("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Ic(a)}return xC(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SC(){return Math.random().toString(36).substring(2,10)}function cT(t,e){return{usr:t.state,key:t.key,idx:e}}function ay(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Kl(e):e,state:n,key:e&&e.key||i||SC()}}function Ic({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function xC(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=y(),V=N==null?null:N-p;p=N,m&&m({action:d,location:D.location,delta:V})}function w(N,V){d="PUSH";let z=ay(D.location,N,V);p=y()+1;let P=cT(z,p),H=D.createHref(z);try{c.pushState(P,"",H)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(H)}l&&m&&m({action:d,location:D.location,delta:1})}function x(N,V){d="REPLACE";let z=ay(D.location,N,V);p=y();let P=cT(z,p),H=D.createHref(z);c.replaceState(P,"",H),l&&m&&m({action:d,location:D.location,delta:0})}function I(N){let V=a.location.origin!=="null"?a.location.origin:a.location.href,z=typeof N=="string"?N:Ic(N);return z=z.replace(/ $/,"%20"),dt(V,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,V)}let D={get action(){return d},get location(){return t(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(uT,_),m=N,()=>{a.removeEventListener(uT,_),m=null}},createHref(N){return e(a,N)},createURL:I,encodeLocation(N){let V=I(N);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:x,go(N){return c.go(N)}};return D}function zS(t,e,n="/"){return AC(t,e,n,!1)}function AC(t,e,n,i){let a=typeof e=="string"?Kl(e):e,l=Bi(a.pathname||"/",n);if(l==null)return null;let c=BS(t);RC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=VC(l);d=LC(c[m],p,i)}return d}function BS(t,e=[],n=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dt(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=Ui([i,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),BS(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:kC(p,l.index),routesMeta:y})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of qS(l.path))a(l,c,m)}),e}function qS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=qS(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function RC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var IC=/^:[\w-]+$/,CC=3,NC=2,OC=1,DC=10,PC=-2,hT=t=>t==="*";function kC(t,e){let n=t.split("/"),i=n.length;return n.some(hT)&&(i+=PC),e&&(i+=NC),n.filter(a=>!hT(a)).reduce((a,l)=>a+(IC.test(l)?CC:l===""?OC:DC),i)}function MC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function LC(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=md({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=md({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ui([l,_.pathname]),pathnameBase:qC(Ui([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=Ui([l,_.pathnameBase]))}return c}function md(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=UC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let I=d[w]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const x=d[w];return _&&!x?p[y]=void 0:p[y]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function UC(t,e=!1,n=!0){Tr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function VC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function jC(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Kl(t):t;return{pathname:n?n.startsWith("/")?n:zC(n,e):e,search:FC(i),hash:HC(a)}}function zC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ug(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uv(t){let e=BC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function cv(t,e,n,i=!1){let a;typeof t=="string"?a=Kl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Ug("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Ug("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Ug("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=jC(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ui=t=>t.join("/").replace(/\/\/+/g,"/"),qC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var FS=["POST","PUT","PATCH","DELETE"];new Set(FS);var QC=["GET",...FS];new Set(QC);var Yl=L.createContext(null);Yl.displayName="DataRouter";var Hd=L.createContext(null);Hd.displayName="DataRouterState";var HS=L.createContext({isTransitioning:!1});HS.displayName="ViewTransition";var $C=L.createContext(new Map);$C.displayName="Fetchers";var KC=L.createContext(null);KC.displayName="Await";var Rr=L.createContext(null);Rr.displayName="Navigation";var Kc=L.createContext(null);Kc.displayName="Location";var lr=L.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var hv=L.createContext(null);hv.displayName="RouteError";function YC(t,{relative:e}={}){dt(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(Rr),{hash:a,pathname:l,search:c}=Yc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ui([n,l])),i.createHref({pathname:d,search:c,hash:a})}function Xl(){return L.useContext(Kc)!=null}function ta(){return dt(Xl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Kc).location}var GS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QS(t){L.useContext(Rr).static||L.useLayoutEffect(t)}function Ir(){let{isDataRoute:t}=L.useContext(lr);return t?c2():XC()}function XC(){dt(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Yl),{basename:e,navigator:n}=L.useContext(Rr),{matches:i}=L.useContext(lr),{pathname:a}=ta(),l=JSON.stringify(uv(i)),c=L.useRef(!1);return QS(()=>{c.current=!0}),L.useCallback((m,p={})=>{if(Tr(c.current,GS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=cv(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ui([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}var WC=L.createContext(null);function JC(t){let e=L.useContext(lr).outlet;return e&&L.createElement(WC.Provider,{value:t},e)}function fv(){let{matches:t}=L.useContext(lr),e=t[t.length-1];return e?e.params:{}}function Yc(t,{relative:e}={}){let{matches:n}=L.useContext(lr),{pathname:i}=ta(),a=JSON.stringify(uv(n));return L.useMemo(()=>cv(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function ZC(t,e){return $S(t,e)}function $S(t,e,n,i){var z;dt(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=L.useContext(Rr),{matches:c}=L.useContext(lr),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",_=d&&d.route;{let P=_&&_.path||"";KS(p,!_||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=ta(),x;if(e){let P=typeof e=="string"?Kl(e):e;dt(y==="/"||((z=P.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=w;let I=x.pathname||"/",D=I;if(y!=="/"){let P=y.replace(/^\//,"").split("/");D="/"+I.replace(/^\//,"").split("/").slice(P.length).join("/")}let N=!l&&n&&n.matches&&n.matches.length>0?n.matches:zS(t,{pathname:D});Tr(_||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Tr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=i2(N&&N.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Ui([y,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:Ui([y,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,n,i);return e&&V?L.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},V):V}function e2(){let t=u2(),e=GC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,c)}var t2=L.createElement(e2,null),n2=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(lr.Provider,{value:this.props.routeContext},L.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r2({routeContext:t,match:e,children:n}){let i=L.useContext(Yl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(lr.Provider,{value:t},n)}function i2(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,w=!1,x=null,I=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,x=p.route.errorElement||t2,c&&(d<0&&y===0?(KS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):d===y&&(w=!0,I=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,y+1)),N=()=>{let V;return _?V=x:w?V=I:p.route.Component?V=L.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=m,L.createElement(r2,{match:p,routeContext:{outlet:m,matches:D,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?L.createElement(n2,{location:n.location,revalidation:n.revalidation,component:x,error:_,children:N(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):N()},null)}function dv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s2(t){let e=L.useContext(Yl);return dt(e,dv(t)),e}function a2(t){let e=L.useContext(Hd);return dt(e,dv(t)),e}function o2(t){let e=L.useContext(lr);return dt(e,dv(t)),e}function mv(t){let e=o2(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function l2(){return mv("useRouteId")}function u2(){var i;let t=L.useContext(hv),e=a2("useRouteError"),n=mv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function c2(){let{router:t}=s2("useNavigate"),e=mv("useNavigate"),n=L.useRef(!1);return QS(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{Tr(n.current,GS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var fT={};function KS(t,e,n){!e&&!fT[t]&&(fT[t]=!0,Tr(!1,n))}L.memo(h2);function h2({routes:t,future:e,state:n}){return $S(t,void 0,n,e)}function dT({to:t,replace:e,state:n,relative:i}){dt(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(Rr);Tr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(lr),{pathname:c}=ta(),d=Ir(),m=cv(t,uv(l),c,i==="path"),p=JSON.stringify(m);return L.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function f2(t){return JC(t.context)}function un(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function d2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){dt(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=L.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Kl(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:w="default"}=n,x=L.useMemo(()=>{let I=Bi(m,c);return I==null?null:{location:{pathname:I,search:p,hash:y,state:_,key:w},navigationType:i}},[c,m,p,y,_,w,i]);return Tr(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Rr.Provider,{value:d},L.createElement(Kc.Provider,{children:e,value:x}))}function m2({children:t,location:e}){return ZC(oy(t),e)}function oy(t,e=[]){let n=[];return L.Children.forEach(t,(i,a)=>{if(!L.isValidElement(i))return;let l=[...e,a];if(i.type===L.Fragment){n.push.apply(n,oy(i.props.children,l));return}dt(i.type===un,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=oy(i.props.children,l)),n.push(c)}),n}var Jf="get",Zf="application/x-www-form-urlencoded";function Gd(t){return t!=null&&typeof t.tagName=="string"}function p2(t){return Gd(t)&&t.tagName.toLowerCase()==="button"}function g2(t){return Gd(t)&&t.tagName.toLowerCase()==="form"}function y2(t){return Gd(t)&&t.tagName.toLowerCase()==="input"}function v2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _2(t,e){return t.button===0&&(!e||e==="_self")&&!v2(t)}var Vf=null;function b2(){if(Vf===null)try{new FormData(document.createElement("form"),0),Vf=!1}catch{Vf=!0}return Vf}var E2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(t){return t!=null&&!E2.has(t)?(Tr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zf}"`),null):t}function T2(t,e){let n,i,a,l,c;if(g2(t)){let d=t.getAttribute("action");i=d?Bi(d,e):null,n=t.getAttribute("method")||Jf,a=Vg(t.getAttribute("enctype"))||Zf,l=new FormData(t)}else if(p2(t)||y2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Bi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Jf,a=Vg(t.getAttribute("formenctype"))||Vg(d.getAttribute("enctype"))||Zf,l=new FormData(d,t),!b2()){let{name:p,type:y,value:_}=t;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(Gd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jf,i=null,a=Zf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function pv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function w2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function x2(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await w2(l,n);return c.links?c.links():[]}return[]}));return C2(i.flat(1).filter(S2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mT(t,e,n,i,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function A2(t,e,{includeHydrateFallback:n}={}){return R2(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function R2(t){return[...new Set(t)]}function I2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function C2(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(I2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function N2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Bi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YS(){let t=L.useContext(Yl);return pv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function O2(){let t=L.useContext(Hd);return pv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gv=L.createContext(void 0);gv.displayName="FrameworkContext";function XS(){let t=L.useContext(gv);return pv(t,"You must render this element inside a <HydratedRouter> element"),t}function D2(t,e){let n=L.useContext(gv),[i,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=V=>{V.forEach(z=>{c(z.isIntersecting)})},N=new IntersectionObserver(D,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[t]),L.useEffect(()=>{if(i){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[i]);let x=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:fc(d,x),onBlur:fc(m,I),onMouseEnter:fc(p,x),onMouseLeave:fc(y,I),onTouchStart:fc(_,x)}]:[!1,w,{}]}function fc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function P2({page:t,...e}){let{router:n}=YS(),i=L.useMemo(()=>zS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?L.createElement(M2,{page:t,matches:i,...e}):null}function k2(t){let{manifest:e,routeModules:n}=XS(),[i,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return x2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function M2({page:t,matches:e,...n}){let i=ta(),{manifest:a,routeModules:l}=XS(),{basename:c}=YS(),{loaderData:d,matches:m}=O2(),p=L.useMemo(()=>mT(t,e,m,a,i,"data"),[t,e,m,a,i]),y=L.useMemo(()=>mT(t,e,m,a,i,"assets"),[t,e,m,a,i]),_=L.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let I=new Set,D=!1;if(e.forEach(V=>{var P;let z=a.routes[V.route.id];!z||!z.hasLoader||(!p.some(H=>H.route.id===V.route.id)&&V.route.id in d&&((P=l[V.route.id])!=null&&P.shouldRevalidate)||z.hasClientLoader?D=!0:I.add(V.route.id))}),I.size===0)return[];let N=N2(t,c);return D&&I.size>0&&N.searchParams.set("_routes",e.filter(V=>I.has(V.route.id)).map(V=>V.route.id).join(",")),[N.pathname+N.search]},[c,d,i,a,p,e,t,l]),w=L.useMemo(()=>A2(y,a),[y,a]),x=k2(y);return L.createElement(L.Fragment,null,_.map(I=>L.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>L.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),x.map(({key:I,link:D})=>L.createElement("link",{key:I,...D})))}function L2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WS&&(window.__reactRouterVersion="7.4.1")}catch{}function U2({basename:t,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=wC({window:n,v5Compat:!0}));let a=i.current,[l,c]=L.useState({action:a.action,location:a.location}),d=L.useCallback(m=>{L.startTransition(()=>c(m))},[c]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.createElement(d2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var JS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yv=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...w},x){let{basename:I}=L.useContext(Rr),D=typeof p=="string"&&JS.test(p),N,V=!1;if(typeof p=="string"&&D&&(N=p,WS))try{let C=new URL(window.location.href),k=p.startsWith("//")?new URL(C.protocol+p):new URL(p),j=Bi(k.pathname,I);k.origin===C.origin&&j!=null?p=j+k.search+k.hash:V=!0}catch{Tr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=YC(p,{relative:a}),[P,H,W]=D2(i,w),ie=z2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:_});function O(C){e&&e(C),C.defaultPrevented||ie(C)}let A=L.createElement("a",{...w,...W,href:N||z,onClick:V||l?e:O,ref:L2(x,H),target:m,"data-discover":!D&&n==="render"?"true":void 0});return P&&!D?L.createElement(L.Fragment,null,A,L.createElement(P2,{page:z})):A});yv.displayName="Link";var vr=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let _=Yc(c,{relative:p.relative}),w=ta(),x=L.useContext(Hd),{navigator:I,basename:D}=L.useContext(Rr),N=x!=null&&G2(_)&&d===!0,V=I.encodeLocation?I.encodeLocation(_).pathname:_.pathname,z=w.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(z=z.toLowerCase(),P=P?P.toLowerCase():null,V=V.toLowerCase()),P&&D&&(P=Bi(P,D)||P);const H=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let W=z===V||!a&&z.startsWith(V)&&z.charAt(H)==="/",ie=P!=null&&(P===V||!a&&P.startsWith(V)&&P.charAt(V.length)==="/"),O={isActive:W,isPending:ie,isTransitioning:N},A=W?e:void 0,C;typeof i=="function"?C=i(O):C=[i,W?"active":null,ie?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(O):l;return L.createElement(yv,{...p,"aria-current":A,className:C,ref:y,style:k,to:c,viewTransition:d},typeof m=="function"?m(O):m)});vr.displayName="NavLink";var V2=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=Jf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...w},x)=>{let I=F2(),D=H2(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&JS.test(d),z=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let H=P.nativeEvent.submitter,W=(H==null?void 0:H.getAttribute("formmethod"))||c;I(H||P.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return L.createElement("form",{ref:x,method:N,action:D,onSubmit:i?m:z,...w,"data-discover":!V&&t==="render"?"true":void 0})});V2.displayName="Form";function j2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(t){let e=L.useContext(Yl);return dt(e,j2(t)),e}function z2(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Ir(),m=ta(),p=Yc(t,{relative:l});return L.useCallback(y=>{if(_2(y,e)){y.preventDefault();let _=n!==void 0?n:Ic(m)===Ic(p);d(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,i,e,t,a,l,c])}var B2=0,q2=()=>`__${String(++B2)}__`;function F2(){let{router:t}=ZS("useSubmit"),{basename:e}=L.useContext(Rr),n=l2();return L.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=T2(i,e);if(a.navigate===!1){let y=a.fetcherKey||q2();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function H2(t,{relative:e}={}){let{basename:n}=L.useContext(Rr),i=L.useContext(lr);dt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Yc(t||".",{relative:e})},c=ta();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ui([n,l.pathname])),Ic(l)}function G2(t,e={}){let n=L.useContext(HS);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ZS("useViewTransitionState"),a=Yc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return md(a.pathname,c)!=null||md(a.pathname,l)!=null}new TextEncoder;const Q2=()=>{};var pT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},tx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,x=p&63;m||(x=64,c||(w=64)),i.push(n[y],n[_],n[w],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ex(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new K2;const w=l<<2|d>>4;if(i.push(w),p!==64){const x=d<<4&240|p>>2;if(i.push(x),_!==64){const I=p<<6&192|_;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y2=function(t){const e=ex(t);return tx.encodeByteArray(e,!0)},pd=function(t){return Y2(t).replace(/\./g,"")},nx=function(t){try{return tx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=()=>X2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof pT>"u")return;const t=pT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nx(t[1]);return e&&JSON.parse(e)},Qd=()=>{try{return Q2()||W2()||J2()||Z2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rx=t=>{var e,n;return(n=(e=Qd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ix=t=>{const e=rx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},sx=()=>{var t;return(t=Qd())===null||t===void 0?void 0:t.config},ax=t=>{var e;return(e=Qd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pd(JSON.stringify(n)),pd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function nN(){var t;const e=(t=Qd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aN(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class ri extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=cN,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?hN(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ri(a,d,i)}}function hN(t,e){return t.replace(fN,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const fN=/\{\$([^}]+)}/g;function dN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(gT(l)&&gT(c)){if(!to(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function gT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function gc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function mN(t,e){const n=new pN(t,e);return n.subscribe.bind(n)}class pN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Qs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new eN;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ba){return this.instances.has(e)}getOptions(e=Ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ba){return this.component?this.component.multipleInstances?e:Ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vN(t){return t===Ba?void 0:t}function _N(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const EN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},TN=Ue.INFO,wN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},SN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=wN[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vv{constructor(e){this.name=e,this._logLevel=TN,this._logHandler=SN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const xN=(t,e)=>e.some(n=>t instanceof n);let yT,vT;function AN(){return yT||(yT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return vT||(vT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lx=new WeakMap,ly=new WeakMap,ux=new WeakMap,zg=new WeakMap,_v=new WeakMap;function IN(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Bs(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&lx.set(n,t)}).catch(()=>{}),_v.set(e,t),e}function CN(t){if(ly.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ly.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ux.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NN(t){uy=t(uy)}function ON(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Bg(this),e,...n);return ux.set(i,e.sort?e.sort():[e]),Bs(i)}:RN().includes(t)?function(...e){return t.apply(Bg(this),e),Bs(lx.get(this))}:function(...e){return Bs(t.apply(Bg(this),e))}}function DN(t){return typeof t=="function"?ON(t):(t instanceof IDBTransaction&&CN(t),xN(t,AN())?new Proxy(t,uy):t)}function Bs(t){if(t instanceof IDBRequest)return IN(t);if(zg.has(t))return zg.get(t);const e=DN(t);return e!==t&&(zg.set(t,e),_v.set(e,t)),e}const Bg=t=>_v.get(t);function PN(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Bs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Bs(c.result),m.oldVersion,m.newVersion,Bs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const kN=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],qg=new Map;function _T(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=MN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||kN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return qg.set(e,l),l}NN(t=>({...t,get:(e,n,i)=>_T(e,n)||t.get(e,n,i),has:(e,n)=>!!_T(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function UN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",bT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new vv("@firebase/app"),VN="@firebase/app-compat",jN="@firebase/analytics-compat",zN="@firebase/analytics",BN="@firebase/app-check-compat",qN="@firebase/app-check",FN="@firebase/auth",HN="@firebase/auth-compat",GN="@firebase/database",QN="@firebase/data-connect",$N="@firebase/database-compat",KN="@firebase/functions",YN="@firebase/functions-compat",XN="@firebase/installations",WN="@firebase/installations-compat",JN="@firebase/messaging",ZN="@firebase/messaging-compat",eO="@firebase/performance",tO="@firebase/performance-compat",nO="@firebase/remote-config",rO="@firebase/remote-config-compat",iO="@firebase/storage",sO="@firebase/storage-compat",aO="@firebase/firestore",oO="@firebase/vertexai",lO="@firebase/firestore-compat",uO="firebase",cO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",hO={[cy]:"fire-core",[VN]:"fire-core-compat",[zN]:"fire-analytics",[jN]:"fire-analytics-compat",[qN]:"fire-app-check",[BN]:"fire-app-check-compat",[FN]:"fire-auth",[HN]:"fire-auth-compat",[GN]:"fire-rtdb",[QN]:"fire-data-connect",[$N]:"fire-rtdb-compat",[KN]:"fire-fn",[YN]:"fire-fn-compat",[XN]:"fire-iid",[WN]:"fire-iid-compat",[JN]:"fire-fcm",[ZN]:"fire-fcm-compat",[eO]:"fire-perf",[tO]:"fire-perf-compat",[nO]:"fire-rc",[rO]:"fire-rc-compat",[iO]:"fire-gcs",[sO]:"fire-gcs-compat",[aO]:"fire-fst",[lO]:"fire-fst-compat",[oO]:"fire-vertex","fire-js":"fire-js",[uO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,fO=new Map,fy=new Map;function ET(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(fy.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;fy.set(e,t);for(const n of gd.values())ET(n,t);for(const n of fO.values())ET(n,t);return!0}function $d(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Xc("app","Firebase",dO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=cO;function cx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hy,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(n||(n=sx()),!n)throw qs.create("no-options");const l=gd.get(a);if(l){if(to(n,l.options)&&to(i,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const c=new bN(a);for(const m of fy.values())c.addComponent(m);const d=new mO(n,i,c);return gd.set(a,d),d}function bv(t=hy){const e=gd.get(t);if(!e&&t===hy&&sx())return cx();if(!e)throw qs.create("no-app",{appName:t});return e}function Wr(t,e,n){var i;let a=(i=hO[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}no(new Qs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="firebase-heartbeat-database",gO=1,Cc="firebase-heartbeat-store";let Fg=null;function hx(){return Fg||(Fg=PN(pO,gO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Fg}async function yO(t){try{const n=(await hx()).transaction(Cc),i=await n.objectStore(Cc).get(fx(t));return await n.done,i}catch(e){if(e instanceof ri)qi.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function TT(t,e){try{const i=(await hx()).transaction(Cc,"readwrite");await i.objectStore(Cc).put(e,fx(t)),await i.done}catch(n){if(n instanceof ri)qi.warn(n.message);else{const i=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(i.message)}}}function fx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=1024,_O=30;class bO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=wT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>_O){const c=wO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){qi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wT(),{heartbeatsToSend:i,unsentEntries:a}=EO(this._heartbeatsCache.heartbeats),l=pd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return qi.warn(n),""}}}function wT(){return new Date().toISOString().substring(0,10)}function EO(t,e=vO){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),ST(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ST(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return TT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return TT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ST(t){return pd(JSON.stringify({version:2,heartbeats:t})).length}function wO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){no(new Qs("platform-logger",e=>new LN(e),"PRIVATE")),no(new Qs("heartbeat",e=>new bO(e),"PRIVATE")),Wr(cy,bT,t),Wr(cy,bT,"esm2017"),Wr("fire-js","")}SO("");function Ev(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xO=dx,mx=new Xc("auth","Firebase",dx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new vv("@firebase/auth");function AO(t,...e){yd.logLevel<=Ue.WARN&&yd.warn(`Auth (${mo}): ${t}`,...e)}function ed(t,...e){yd.logLevel<=Ue.ERROR&&yd.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw Tv(t,...e)}function Jr(t,...e){return Tv(t,...e)}function px(t,e,n){const i=Object.assign(Object.assign({},xO()),{[e]:n});return new Xc("auth","Firebase",i).create(e,{appName:t.name})}function Vi(t){return px(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return mx.create(t,...e)}function Te(t,e,...n){if(!t)throw Tv(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function Fi(t,e){t||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RO(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RO()||iN()||"connection"in navigator)?navigator.onLine:!0}function CO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=tN()||sN()}get(){return IO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DO=new Jc(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ii(t,e,n,i,a={}){return yx(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Wc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return rN()||(p.referrerPolicy="no-referrer"),gx.fetch()(await vx(t,t.config.apiHost,n,d),p)})}async function yx(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},NO),e);try{const a=new kO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw jf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw jf(t,"user-disabled",c);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw px(t,y,p);wr(t,y)}}catch(a){if(a instanceof ri)throw a;wr(t,"network-request-failed",{message:String(a)})}}async function Zc(t,e,n,i,a={}){const l=await ii(t,e,n,i,a);return"mfaPendingCredential"in l&&wr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function vx(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?wv(t.config,a):`${t.config.apiScheme}://${a}`;return OO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function PO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jr(this.auth,"network-request-failed")),DO.get())})}}function jf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Jr(t,e,i);return a.customData._tokenResponse=n,a}function AT(t){return t!==void 0&&t.enterprise!==void 0}class MO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LO(t,e){return ii(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function vd(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VO(t,e=!1){const n=at(t),i=await n.getIdToken(e),a=Sv(i);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:wc(Hg(a.auth_time)),issuedAtTime:wc(Hg(a.iat)),expirationTime:wc(Hg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Hg(t){return Number(t)*1e3}function Sv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const a=nx(n);return a?JSON.parse(a):(ed("Failed to decode base64 JWT payload"),null)}catch(a){return ed("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RT(t){const e=Sv(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ri&&jO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function jO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Vl(t,vd(n,{idToken:i}));Te(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?_x(l.providerUserInfo):[],d=qO(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new my(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function BO(t){const e=at(t);await _d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qO(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function _x(t){return t.map(e=>{var{providerId:n}=e,i=Ev(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){const n=await yx(t,{},async()=>{const i=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await vx(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",gx.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HO(t,e){return ii(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=RT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await FO(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new El;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new my(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VO(this,e)}reload(){return BO(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Vl(this,UO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,d,m,p,y;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,D=(d=n.tenantId)!==null&&d!==void 0?d:void 0,N=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,V=(p=n.createdAt)!==null&&p!==void 0?p:void 0,z=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:P,emailVerified:H,isAnonymous:W,providerData:ie,stsTokenManager:O}=n;Te(P&&O,e,"internal-error");const A=El.fromJSON(this.name,O);Te(typeof P=="string",e,"internal-error"),xs(_,e.name),xs(w,e.name),Te(typeof H=="boolean",e,"internal-error"),Te(typeof W=="boolean",e,"internal-error"),xs(x,e.name),xs(I,e.name),xs(D,e.name),xs(N,e.name),xs(V,e.name),xs(z,e.name);const C=new Er({uid:P,auth:e,email:w,emailVerified:H,displayName:_,isAnonymous:W,photoURL:I,phoneNumber:x,tenantId:D,stsTokenManager:A,createdAt:V,lastLoginAt:z});return ie&&Array.isArray(ie)&&(C.providerData=ie.map(k=>Object.assign({},k))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new El;a.updateFromServerResponse(n);const l=new Er({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await _d(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_x(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new El;d.updateFromIdToken(i);const m=new Er({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new my(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Map;function Li(t){Fi(t instanceof Function,"Expected a class definition");let e=IT.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bx.type="NONE";const CT=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class Tl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=td(this.userKey,a.apiKey,l),this.fullPersistenceKey=td("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vd(this.auth,{idToken:e}).catch(()=>{});return n?Er._fromGetAccountInfoResponse(this.auth,n,e):null}return Er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Tl(Li(CT),e,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Li(CT);const c=td(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const w=await vd(e,{idToken:y}).catch(()=>{});if(!w)break;_=await Er._fromGetAccountInfoResponse(e,w,y)}else _=Er._fromJSON(e,y);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Tl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Tl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ex(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ax(e))return"Blackberry";if(Rx(e))return"Webos";if(Tx(e))return"Safari";if((e.includes("chrome/")||wx(e))&&!e.includes("edge/"))return"Chrome";if(xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ex(t=dn()){return/firefox\//i.test(t)}function Tx(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wx(t=dn()){return/crios\//i.test(t)}function Sx(t=dn()){return/iemobile/i.test(t)}function xx(t=dn()){return/android/i.test(t)}function Ax(t=dn()){return/blackberry/i.test(t)}function Rx(t=dn()){return/webos/i.test(t)}function xv(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GO(t=dn()){var e;return xv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QO(){return aN()&&document.documentMode===10}function Ix(t=dn()){return xv(t)||xx(t)||Rx(t)||Ax(t)||/windows phone/i.test(t)||Sx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e=[]){let n;switch(t){case"Browser":n=NT(dn());break;case"Worker":n=`${NT(dn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e={}){return ii(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=6;class XO{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:YO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OT(this),this.idTokenSubscription=new OT(this),this.beforeStateQueue=new $O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vd(this,{idToken:e}),i=await Er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _d(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Vi(this));const n=e?at(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KO(this),n=new XO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await HO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&AO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function po(t){return at(t)}class OT{constructor(e){this.auth=e,this.observer=null,this.addObserver=mN(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JO(t){Kd=t}function Nx(t){return Kd.loadJS(t)}function ZO(){return Kd.recaptchaEnterpriseScript}function eD(){return Kd.gapiScript}function tD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nD{constructor(){this.enterprise=new rD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iD="recaptcha-enterprise",Ox="NO_RECAPTCHA";class sD{constructor(e){this.type=iD,this.auth=po(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{LO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new MO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;AT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Ox)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nD().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&AT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ZO();m.length!==0&&(m+=d),Nx(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function DT(t,e,n,i=!1,a=!1){const l=new sD(t);let c;if(a)c=Ox;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function py(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await DT(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await DT(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t,e){const n=$d(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(to(l,e??{}))return a;wr(a,"already-initialized")}return n.initialize({options:e})}function oD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function lD(t,e,n){const i=po(t);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=Dx(e),{host:c,port:d}=uD(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(to(p,i.config.emulator)&&to(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,cD()}function Dx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uD(t){const e=Dx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:PT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:PT(c)}}}function PT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function hD(t,e){return ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return Zc(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function dD(t,e){return ii(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function mD(t,e){return dD(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function gD(t,e){return Zc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Av{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Nc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,n,"signInWithPassword",fD);case"emailLink":return pD(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return py(e,i,"signUpPassword",hD);case"emailLink":return gD(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Zc(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="http://localhost";class ro extends Av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Ev(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new ro(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,wl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:yD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _D(t){const e=pc(gc(t)).link,n=e?pc(gc(e)).deep_link_id:null,i=pc(gc(t)).deep_link_id;return(i?pc(gc(i)).link:null)||i||n||e||t}class Rv{constructor(e){var n,i,a,l,c,d;const m=pc(gc(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(i=m.oobCode)!==null&&i!==void 0?i:null,_=vD((a=m.mode)!==null&&a!==void 0?a:null);Te(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=_D(e);try{return new Rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Rv.parseLink(n);return Te(i,"argument-error"),Nc._fromEmailAndCode(e,i.code,i.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Px{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends eh{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Is.credential(n,i)}catch{return null}}}Is.GOOGLE_SIGN_IN_METHOD="google.com";Is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends eh{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends eh{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ns.credential(n,i)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e){return Zc(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Er._fromIdTokenResponse(e,i,a),c=kT(i);return new io({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=kT(i);return new io({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function kT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends ri{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new bd(e,n,i,a)}}function kx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(t,l,e,i):l})}async function ED(t,e,n=!1){const i=await Vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e,n=!1){const{auth:i}=t;if(zn(i.app))return Promise.reject(Vi(i));const a="reauthenticate";try{const l=await Vl(t,kx(i,a,e,t),n);Te(l.idToken,i,"internal-error");const c=Sv(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(t.uid===d,i,"user-mismatch"),io._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&wr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t,e,n=!1){if(zn(t.app))return Promise.reject(Vi(t));const i="signIn",a=await kx(t,i,e),l=await io._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function TD(t,e){return Lx(po(t),e)}async function wD(t,e){return Mx(at(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t){const e=po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SD(t,e,n){if(zn(t.app))return Promise.reject(Vi(t));const i=po(t),c=await py(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Ux(t),m}),d=await io._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function xD(t,e,n){return zn(t.app)?Promise.reject(Vi(t)):TD(at(t),go.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Ux(t),i})}async function AD(t,e){const n=at(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await mD(n.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t,e){return ii(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=at(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Vl(i,RD(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function ID(t,e,n,i){return at(t).onIdTokenChanged(e,n,i)}function CD(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function th(t,e,n,i){return at(t).onAuthStateChanged(e,n,i)}function jx(t){return at(t).signOut()}async function ND(t){return at(t).delete()}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=1e3,DD=10;class Bx extends zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);QO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},OD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bx.type="LOCAL";const PD=Bx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qx.type="SESSION";const Fx=qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await kD(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Iv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function LD(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function UD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jD(){return Hx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="firebaseLocalStorageDb",zD=1,Td="firebaseLocalStorage",Qx="fbase_key";class nh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(t,e){return t.transaction([Td],e?"readwrite":"readonly").objectStore(Td)}function BD(){const t=indexedDB.deleteDatabase(Gx);return new nh(t).toPromise()}function gy(){const t=indexedDB.open(Gx,zD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Td,{keyPath:Qx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Td)?e(i):(i.close(),await BD(),e(await gy()))})})}async function MT(t,e,n){const i=Xd(t,!0).put({[Qx]:e,value:n});return new nh(i).toPromise()}async function qD(t,e){const n=Xd(t,!1).get(e),i=await new nh(n).toPromise();return i===void 0?null:i.value}function LT(t,e){const n=Xd(t,!0).delete(e);return new nh(n).toPromise()}const FD=800,HD=3;class $x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>HD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(jD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UD(),!this.activeServiceWorker)return;this.sender=new MD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await MT(e,Ed,"1"),await LT(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>MT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>LT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Xd(a,!1).getAll();return new nh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$x.type="LOCAL";const GD=$x;new Jc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e){return e?Li(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $D(t){return Lx(t.auth,new Cv(t),t.bypassAuthState)}function KD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Mx(n,new Cv(t),t.bypassAuthState)}async function YD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),ED(n,new Cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $D;case"linkViaPopup":case"linkViaRedirect":return YD;case"reauthViaPopup":case"reauthViaRedirect":return KD;default:wr(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Jc(2e3,1e4);class bl extends Kx{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XD.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="pendingRedirect",nd=new Map;class JD extends Kx{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const i=await ZD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZD(t,e){const n=nP(e),i=tP(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function eP(t,e){nd.set(t._key(),e)}function tP(t){return Li(t._redirectPersistence)}function nP(t){return td(WD,t.config.apiKey,t.name)}async function rP(t,e,n=!1){if(zn(t.app))return Promise.reject(Vi(t));const i=po(t),a=QD(i,e),c=await new JD(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=10*60*1e3;class sP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Yx(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iP&&this.cachedEventUids.clear(),this.cachedEventUids.has(UT(e))}saveEventToCache(e){this.cachedEventUids.add(UT(e)),this.lastProcessedEventTime=Date.now()}}function UT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uP=/^https?/;async function cP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oP(t);for(const n of e)try{if(hP(n))return}catch{}wr(t,"unauthorized-domain")}function hP(t){const e=dy(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!uP.test(n))return!1;if(lP.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Jc(3e4,6e4);function VT(){const t=Zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dP(t){return new Promise((e,n)=>{var i,a,l;function c(){VT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VT(),n(Jr(t,"network-request-failed"))},timeout:fP.get()})}if(!((a=(i=Zr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Zr().gapi)===null||l===void 0)&&l.load)c();else{const d=tD("iframefcb");return Zr()[d]=()=>{gapi.load?c():n(Jr(t,"network-request-failed"))},Nx(`${eD()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw rd=null,e})}let rd=null;function mP(t){return rd=rd||dP(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Jc(5e3,15e3),gP="__/auth/iframe",yP="emulator/auth/iframe",vP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bP(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wv(e,yP):`https://${t.config.authDomain}/${gP}`,i={apiKey:e.apiKey,appName:t.name,v:mo},a=_P.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Wc(i).slice(1)}`}async function EP(t){const e=await mP(t),n=Zr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:bP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Jr(t,"network-request-failed"),d=Zr().setTimeout(()=>{l(c)},pP.get());function m(){Zr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wP=500,SP=600,xP="_blank",AP="http://localhost";class jT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RP(t,e,n,i=wP,a=SP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},TP),{width:i.toString(),height:a.toString(),top:l,left:c}),p=dn().toLowerCase();n&&(d=wx(p)?xP:n),Ex(p)&&(e=e||AP,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[x,I])=>`${w}${x}=${I},`,"");if(GO(p)&&d!=="_self")return IP(e||"",d),new jT(null);const _=window.open(e||"",d,y);Te(_,t,"popup-blocked");try{_.focus()}catch{}return new jT(_)}function IP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="__/auth/handler",NP="emulator/auth/handler",OP=encodeURIComponent("fac");async function zT(t,e,n,i,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:mo,eventId:a};if(e instanceof Px){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",dN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof eh){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await t._getAppCheckToken(),p=m?`#${OP}=${encodeURIComponent(m)}`:"";return`${DP(t)}?${Wc(d).slice(1)}${p}`}function DP({config:t}){return t.emulator?wv(t,NP):`https://${t.authDomain}/${CP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fx,this._completeRedirectFn=rP,this._overrideRedirectResult=eP}async _openPopup(e,n,i,a){var l;Fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await zT(e,n,i,dy(),a);return RP(e,c,Iv())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await zT(e,n,i,dy(),a);return LD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await EP(e),i=new sP(e);return n.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Gg];c!==void 0&&n(!!c),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ix()||Tx()||xv()}}const kP=PP;var BT="@firebase/auth",qT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UP(t){no(new Qs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cx(t)},p=new WO(i,a,l,m);return oD(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),no(new Qs("auth-internal",e=>{const n=po(e.getProvider("auth").getImmediate());return(i=>new MP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(BT,qT,LP(t)),Wr(BT,qT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=5*60,jP=ax("authIdTokenMaxAge")||VP;let FT=null;const zP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jP)return;const a=n==null?void 0:n.token;FT!==a&&(FT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Nv(t=bv()){const e=$d(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aD(t,{popupRedirectResolver:kP,persistence:[GD,PD,Fx]}),i=ax("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=zP(l.toString());CD(n,c,()=>c(n.currentUser)),ID(n,d=>c(d))}}const a=rx("auth");return a&&lD(n,`http://${a}`),n}function BP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JO({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Jr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",BP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UP("Browser");var qP="firebase",FP="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(qP,FP,"app");var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,Xx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function C(){}C.prototype=A.prototype,O.D=A.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(k,j,G){for(var U=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)U[Pt-2]=arguments[Pt];return A.prototype[j].apply(k,U)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,A,C){C||(C=0);var k=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)k[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;16>j;++j)k[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=O.g[0],C=O.g[1],j=O.g[2];var G=O.g[3],U=A+(G^C&(j^G))+k[0]+3614090360&4294967295;A=C+(U<<7&4294967295|U>>>25),U=G+(j^A&(C^j))+k[1]+3905402710&4294967295,G=A+(U<<12&4294967295|U>>>20),U=j+(C^G&(A^C))+k[2]+606105819&4294967295,j=G+(U<<17&4294967295|U>>>15),U=C+(A^j&(G^A))+k[3]+3250441966&4294967295,C=j+(U<<22&4294967295|U>>>10),U=A+(G^C&(j^G))+k[4]+4118548399&4294967295,A=C+(U<<7&4294967295|U>>>25),U=G+(j^A&(C^j))+k[5]+1200080426&4294967295,G=A+(U<<12&4294967295|U>>>20),U=j+(C^G&(A^C))+k[6]+2821735955&4294967295,j=G+(U<<17&4294967295|U>>>15),U=C+(A^j&(G^A))+k[7]+4249261313&4294967295,C=j+(U<<22&4294967295|U>>>10),U=A+(G^C&(j^G))+k[8]+1770035416&4294967295,A=C+(U<<7&4294967295|U>>>25),U=G+(j^A&(C^j))+k[9]+2336552879&4294967295,G=A+(U<<12&4294967295|U>>>20),U=j+(C^G&(A^C))+k[10]+4294925233&4294967295,j=G+(U<<17&4294967295|U>>>15),U=C+(A^j&(G^A))+k[11]+2304563134&4294967295,C=j+(U<<22&4294967295|U>>>10),U=A+(G^C&(j^G))+k[12]+1804603682&4294967295,A=C+(U<<7&4294967295|U>>>25),U=G+(j^A&(C^j))+k[13]+4254626195&4294967295,G=A+(U<<12&4294967295|U>>>20),U=j+(C^G&(A^C))+k[14]+2792965006&4294967295,j=G+(U<<17&4294967295|U>>>15),U=C+(A^j&(G^A))+k[15]+1236535329&4294967295,C=j+(U<<22&4294967295|U>>>10),U=A+(j^G&(C^j))+k[1]+4129170786&4294967295,A=C+(U<<5&4294967295|U>>>27),U=G+(C^j&(A^C))+k[6]+3225465664&4294967295,G=A+(U<<9&4294967295|U>>>23),U=j+(A^C&(G^A))+k[11]+643717713&4294967295,j=G+(U<<14&4294967295|U>>>18),U=C+(G^A&(j^G))+k[0]+3921069994&4294967295,C=j+(U<<20&4294967295|U>>>12),U=A+(j^G&(C^j))+k[5]+3593408605&4294967295,A=C+(U<<5&4294967295|U>>>27),U=G+(C^j&(A^C))+k[10]+38016083&4294967295,G=A+(U<<9&4294967295|U>>>23),U=j+(A^C&(G^A))+k[15]+3634488961&4294967295,j=G+(U<<14&4294967295|U>>>18),U=C+(G^A&(j^G))+k[4]+3889429448&4294967295,C=j+(U<<20&4294967295|U>>>12),U=A+(j^G&(C^j))+k[9]+568446438&4294967295,A=C+(U<<5&4294967295|U>>>27),U=G+(C^j&(A^C))+k[14]+3275163606&4294967295,G=A+(U<<9&4294967295|U>>>23),U=j+(A^C&(G^A))+k[3]+4107603335&4294967295,j=G+(U<<14&4294967295|U>>>18),U=C+(G^A&(j^G))+k[8]+1163531501&4294967295,C=j+(U<<20&4294967295|U>>>12),U=A+(j^G&(C^j))+k[13]+2850285829&4294967295,A=C+(U<<5&4294967295|U>>>27),U=G+(C^j&(A^C))+k[2]+4243563512&4294967295,G=A+(U<<9&4294967295|U>>>23),U=j+(A^C&(G^A))+k[7]+1735328473&4294967295,j=G+(U<<14&4294967295|U>>>18),U=C+(G^A&(j^G))+k[12]+2368359562&4294967295,C=j+(U<<20&4294967295|U>>>12),U=A+(C^j^G)+k[5]+4294588738&4294967295,A=C+(U<<4&4294967295|U>>>28),U=G+(A^C^j)+k[8]+2272392833&4294967295,G=A+(U<<11&4294967295|U>>>21),U=j+(G^A^C)+k[11]+1839030562&4294967295,j=G+(U<<16&4294967295|U>>>16),U=C+(j^G^A)+k[14]+4259657740&4294967295,C=j+(U<<23&4294967295|U>>>9),U=A+(C^j^G)+k[1]+2763975236&4294967295,A=C+(U<<4&4294967295|U>>>28),U=G+(A^C^j)+k[4]+1272893353&4294967295,G=A+(U<<11&4294967295|U>>>21),U=j+(G^A^C)+k[7]+4139469664&4294967295,j=G+(U<<16&4294967295|U>>>16),U=C+(j^G^A)+k[10]+3200236656&4294967295,C=j+(U<<23&4294967295|U>>>9),U=A+(C^j^G)+k[13]+681279174&4294967295,A=C+(U<<4&4294967295|U>>>28),U=G+(A^C^j)+k[0]+3936430074&4294967295,G=A+(U<<11&4294967295|U>>>21),U=j+(G^A^C)+k[3]+3572445317&4294967295,j=G+(U<<16&4294967295|U>>>16),U=C+(j^G^A)+k[6]+76029189&4294967295,C=j+(U<<23&4294967295|U>>>9),U=A+(C^j^G)+k[9]+3654602809&4294967295,A=C+(U<<4&4294967295|U>>>28),U=G+(A^C^j)+k[12]+3873151461&4294967295,G=A+(U<<11&4294967295|U>>>21),U=j+(G^A^C)+k[15]+530742520&4294967295,j=G+(U<<16&4294967295|U>>>16),U=C+(j^G^A)+k[2]+3299628645&4294967295,C=j+(U<<23&4294967295|U>>>9),U=A+(j^(C|~G))+k[0]+4096336452&4294967295,A=C+(U<<6&4294967295|U>>>26),U=G+(C^(A|~j))+k[7]+1126891415&4294967295,G=A+(U<<10&4294967295|U>>>22),U=j+(A^(G|~C))+k[14]+2878612391&4294967295,j=G+(U<<15&4294967295|U>>>17),U=C+(G^(j|~A))+k[5]+4237533241&4294967295,C=j+(U<<21&4294967295|U>>>11),U=A+(j^(C|~G))+k[12]+1700485571&4294967295,A=C+(U<<6&4294967295|U>>>26),U=G+(C^(A|~j))+k[3]+2399980690&4294967295,G=A+(U<<10&4294967295|U>>>22),U=j+(A^(G|~C))+k[10]+4293915773&4294967295,j=G+(U<<15&4294967295|U>>>17),U=C+(G^(j|~A))+k[1]+2240044497&4294967295,C=j+(U<<21&4294967295|U>>>11),U=A+(j^(C|~G))+k[8]+1873313359&4294967295,A=C+(U<<6&4294967295|U>>>26),U=G+(C^(A|~j))+k[15]+4264355552&4294967295,G=A+(U<<10&4294967295|U>>>22),U=j+(A^(G|~C))+k[6]+2734768916&4294967295,j=G+(U<<15&4294967295|U>>>17),U=C+(G^(j|~A))+k[13]+1309151649&4294967295,C=j+(U<<21&4294967295|U>>>11),U=A+(j^(C|~G))+k[4]+4149444226&4294967295,A=C+(U<<6&4294967295|U>>>26),U=G+(C^(A|~j))+k[11]+3174756917&4294967295,G=A+(U<<10&4294967295|U>>>22),U=j+(A^(G|~C))+k[2]+718787259&4294967295,j=G+(U<<15&4294967295|U>>>17),U=C+(G^(j|~A))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(j+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+G&4294967295}i.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var C=A-this.blockSize,k=this.B,j=this.h,G=0;G<A;){if(j==0)for(;G<=C;)a(this,O,G),G+=this.blockSize;if(typeof O=="string"){for(;G<A;)if(k[j++]=O.charCodeAt(G++),j==this.blockSize){a(this,k),j=0;break}}else for(;G<A;)if(k[j++]=O[G++],j==this.blockSize){a(this,k),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var C=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=C&255,C/=256;for(this.u(O),O=Array(16),A=C=0;4>A;++A)for(var k=0;32>k;k+=8)O[C++]=this.g[A]>>>k&255;return O};function l(O,A){var C=d;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=A(O)}function c(O,A){this.h=A;for(var C=[],k=!0,j=O.length-1;0<=j;j--){var G=O[j]|0;k&&G==A||(C[j]=G,k=!1)}this.g=C}var d={};function m(O){return-128<=O&&128>O?l(O,function(A){return new c([A|0],0>A?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return N(p(-O));for(var A=[],C=1,k=0;O>=C;k++)A[k]=O/C|0,C*=4294967296;return new c(A,0)}function y(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return N(y(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(A,8)),k=_,j=0;j<O.length;j+=8){var G=Math.min(8,O.length-j),U=parseInt(O.substring(j,j+G),A);8>G?(G=p(Math.pow(A,G)),k=k.j(G).add(p(U))):(k=k.j(C),k=k.add(p(U)))}return k}var _=m(0),w=m(1),x=m(16777216);t=c.prototype,t.m=function(){if(D(this))return-N(this).m();for(var O=0,A=1,C=0;C<this.g.length;C++){var k=this.i(C);O+=(0<=k?k:4294967296+k)*A,A*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(D(this))return"-"+N(this).toString(O);for(var A=p(Math.pow(O,6)),C=this,k="";;){var j=H(C,A).g;C=V(C,j.j(A));var G=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=j,I(C))return G+k;for(;6>G.length;)G="0"+G;k=G+k}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function D(O){return O.h==-1}t.l=function(O){return O=V(this,O),D(O)?-1:I(O)?0:1};function N(O){for(var A=O.g.length,C=[],k=0;k<A;k++)C[k]=~O.g[k];return new c(C,~O.h).add(w)}t.abs=function(){return D(this)?N(this):this},t.add=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],k=0,j=0;j<=A;j++){var G=k+(this.i(j)&65535)+(O.i(j)&65535),U=(G>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);k=U>>>16,G&=65535,U&=65535,C[j]=U<<16|G}return new c(C,C[C.length-1]&-2147483648?-1:0)};function V(O,A){return O.add(N(A))}t.j=function(O){if(I(this)||I(O))return _;if(D(this))return D(O)?N(this).j(N(O)):N(N(this).j(O));if(D(O))return N(this.j(N(O)));if(0>this.l(x)&&0>O.l(x))return p(this.m()*O.m());for(var A=this.g.length+O.g.length,C=[],k=0;k<2*A;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var j=0;j<O.g.length;j++){var G=this.i(k)>>>16,U=this.i(k)&65535,Pt=O.i(j)>>>16,ct=O.i(j)&65535;C[2*k+2*j]+=U*ct,z(C,2*k+2*j),C[2*k+2*j+1]+=G*ct,z(C,2*k+2*j+1),C[2*k+2*j+1]+=U*Pt,z(C,2*k+2*j+1),C[2*k+2*j+2]+=G*Pt,z(C,2*k+2*j+2)}for(k=0;k<A;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=A;k<2*A;k++)C[k]=0;return new c(C,0)};function z(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function P(O,A){this.g=O,this.h=A}function H(O,A){if(I(A))throw Error("division by zero");if(I(O))return new P(_,_);if(D(O))return A=H(N(O),A),new P(N(A.g),N(A.h));if(D(A))return A=H(O,N(A)),new P(N(A.g),A.h);if(30<O.g.length){if(D(O)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=A;0>=k.l(O);)C=W(C),k=W(k);var j=ie(C,1),G=ie(k,1);for(k=ie(k,2),C=ie(C,2);!I(k);){var U=G.add(k);0>=U.l(O)&&(j=j.add(C),G=U),k=ie(k,1),C=ie(C,1)}return A=V(O,j.j(A)),new P(j,A)}for(j=_;0<=O.l(A);){for(C=Math.max(1,Math.floor(O.m()/A.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),G=p(C),U=G.j(A);D(U)||0<U.l(O);)C-=k,G=p(C),U=G.j(A);I(G)&&(G=w),j=j.add(G),O=V(O,U)}return new P(j,O)}t.A=function(O){return H(this,O).h},t.and=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],k=0;k<A;k++)C[k]=this.i(k)&O.i(k);return new c(C,this.h&O.h)},t.or=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],k=0;k<A;k++)C[k]=this.i(k)|O.i(k);return new c(C,this.h|O.h)},t.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),C=[],k=0;k<A;k++)C[k]=this.i(k)^O.i(k);return new c(C,this.h^O.h)};function W(O){for(var A=O.g.length+1,C=[],k=0;k<A;k++)C[k]=O.i(k)<<1|O.i(k-1)>>>31;return new c(C,O.h)}function ie(O,A){var C=A>>5;A%=32;for(var k=O.g.length-C,j=[],G=0;G<k;G++)j[G]=0<A?O.i(G+C)>>>A|O.i(G+C+1)<<32-A:O.i(G+C);return new c(j,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Xx=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Fs=c}).apply(typeof HT<"u"?HT:typeof self<"u"?self:typeof window<"u"?window:{});var zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wx,yc,Jx,id,yy,Zx,eA,tA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zf=="object"&&zf];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function a(h,v){if(v)e:{var b=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in b))break e;b=b[$]}h=h[h.length-1],R=b[h],v=v(R),v!=R&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,R=!1,$={next:function(){if(!R&&b<h.length){var Z=b++;return{value:v(Z,h[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function w(h,v,b){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function x(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function I(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,$,Z){for(var ue=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ue[Be-2]=arguments[Be];return v.prototype[$].apply(R,ue)}}function D(h){const v=h.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=h[R];return b}return[]}function N(h,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(m(R)){const $=h.length||0,Z=R.length||0;h.length=$+Z;for(let ue=0;ue<Z;ue++)h[$+ue]=R[ue]}else h.push(R)}}class V{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var W=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function ie(h,v,b){for(const R in h)v.call(b,h[R],R,h)}function O(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function A(h){const v={};for(const b in h)v[b]=h[b];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let b,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(b in R)h[b]=R[b];for(let Z=0;Z<C.length;Z++)b=C[Z],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function j(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function G(h){d.setTimeout(()=>{throw h},0)}function U(){var h=$e;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Pt{constructor(){this.h=this.g=null}add(v,b){const R=ct.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var ct=new V(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,$e=new Pt,B=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(oe)}};var oe=()=>{for(var h;h=U();){try{h.h.call(h.g)}catch(b){G(b)}var v=ct;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return h}();function De(h,v){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){e:{try{H(v.nodeName);var $=!0;break e}catch{}$=!1}$||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}I(De,le);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),ot=0;function Cr(h,v,b,R,$){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=$,this.key=++ot,this.da=this.fa=!1}function Xi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ai(h){this.src=h,this.g={},this.h=0}ai.prototype.add=function(h,v,b,R,$){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var ue=sa(h,v,R,$);return-1<ue?(v=h[ue],b||(v.fa=!1)):(v=new Cr(v,this.src,Z,!!R,$),v.fa=b,h.push(v)),v};function ia(h,v){var b=v.type;if(b in h.g){var R=h.g[b],$=Array.prototype.indexOf.call(R,v,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(R,$,1),Z&&(Xi(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function sa(h,v,b,R){for(var $=0;$<h.length;++$){var Z=h[$];if(!Z.da&&Z.listener==v&&Z.capture==!!b&&Z.ha==R)return $}return-1}var aa="closure_lm_"+(1e6*Math.random()|0),tu={};function fh(h,v,b,R,$){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)fh(h,v[Z],b,R,$);return null}return b=dh(b),h&&h[Bt]?h.K(v,b,p(R)?!!R.capture:!1,$):$n(h,v,b,!1,R,$)}function $n(h,v,b,R,$,Z){if(!v)throw Error("Invalid event type");var ue=p($)?!!$.capture:!!$,Be=xo(h);if(Be||(h[aa]=Be=new ai(h)),b=Be.add(v,b,R,ue,Z),b.proxy)return b;if(R=Nm(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)_e||($=ue),$===void 0&&($=!1),h.addEventListener(v.toString(),R,$);else if(h.attachEvent)h.attachEvent(oa(v.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Nm(){function h(b){return v.call(h.src,h.listener,b)}const v=Om;return h}function nu(h,v,b,R,$){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)nu(h,v[Z],b,R,$);else R=p(R)?!!R.capture:!!R,b=dh(b),h&&h[Bt]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],b=sa(Z,b,R,$),-1<b&&(Xi(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=xo(h))&&(v=h.g[v.toString()],h=-1,v&&(h=sa(v,b,R,$)),(b=-1<h?v[h]:null)&&So(b))}function So(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Bt])ia(v.i,h);else{var b=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(b,R,h.capture):v.detachEvent?v.detachEvent(oa(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=xo(v))?(ia(b,h),b.h==0&&(b.src=null,v[aa]=null)):Xi(h)}}}function oa(h){return h in tu?tu[h]:tu[h]="on"+h}function Om(h,v){if(h.da)h=!0;else{v=new De(v,this);var b=h.listener,R=h.ha||h.src;h.fa&&So(h),h=b.call(R,v)}return h}function xo(h){return h=h[aa],h instanceof ai?h:null}var ru="__closure_events_fn_"+(1e9*Math.random()>>>0);function dh(h){return typeof h=="function"?h:(h[ru]||(h[ru]=function(v){return h.handleEvent(v)}),h[ru])}function yt(){he.call(this),this.i=new ai(this),this.M=this,this.F=null}I(yt,he),yt.prototype[Bt]=!0,yt.prototype.removeEventListener=function(h,v,b,R){nu(this,h,v,b,R)};function Je(h,v){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=v.type||v,typeof v=="string")v=new le(v,h);else if(v instanceof le)v.target=v.target||h;else{var $=v;v=new le(R,h),k(v,$)}if($=!0,b)for(var Z=b.length-1;0<=Z;Z--){var ue=v.g=b[Z];$=On(ue,R,!0,v)&&$}if(ue=v.g=h,$=On(ue,R,!0,v)&&$,$=On(ue,R,!1,v)&&$,b)for(Z=0;Z<b.length;Z++)ue=v.g=b[Z],$=On(ue,R,!1,v)&&$}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],R=0;R<b.length;R++)Xi(b[R]);delete h.g[v],h.h--}}this.F=null},yt.prototype.K=function(h,v,b,R){return this.i.add(String(h),v,!1,b,R)},yt.prototype.L=function(h,v,b,R){return this.i.add(String(h),v,!0,b,R)};function On(h,v,b,R){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,Z=0;Z<v.length;++Z){var ue=v[Z];if(ue&&!ue.da&&ue.capture==b){var Be=ue.listener,Mt=ue.ha||ue.src;ue.fa&&ia(h.i,ue),$=Be.call(Mt,R)!==!1&&$}}return $&&!R.defaultPrevented}function sn(h,v,b){if(typeof h=="function")b&&(h=w(h,b));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function mh(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,mh(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Dm extends he{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:mh(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function la(h){he.call(this),this.h=h,this.g={}}I(la,he);var ua=[];function ca(h){ie(h.g,function(v,b){this.g.hasOwnProperty(b)&&So(v)},h),h.g={}}la.prototype.N=function(){la.aa.N.call(this),ca(this)},la.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=d.JSON.stringify,Ao=d.JSON.parse,ha=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function iu(){}iu.prototype.h=null;function su(h){return h.h||(h.h=h.i())}function au(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){le.call(this,"d")}I(li,le);function ou(){le.call(this,"c")}I(ou,le);var Nr={},lu=null;function Wi(){return lu=lu||new yt}Nr.La="serverreachability";function Ro(h){le.call(this,Nr.La,h)}I(Ro,le);function Ji(h){const v=Wi();Je(v,new Ro(v))}Nr.STAT_EVENT="statevent";function ph(h,v){le.call(this,Nr.STAT_EVENT,h),this.stat=v}I(ph,le);function ht(h){const v=Wi();Je(v,new ph(v,h))}Nr.Ma="timingevent";function kt(h,v){le.call(this,Nr.Ma,h),this.size=v}I(kt,le);function Rt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function uu(h,v,b,R,$,Z){h.info(function(){if(h.g)if(Z)for(var ue="",Be=Z.split("&"),Mt=0;Mt<Be.length;Mt++){var qe=Be[Mt].split("=");if(1<qe.length){var Ft=qe[0];qe=qe[1];var Lt=Ft.split("_");ue=2<=Lt.length&&Lt[1]=="type"?ue+(Ft+"="+qe+"&"):ue+(Ft+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+v+`
`+b+`
`+ue})}function Pm(h,v,b,R,$,Z,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+v+`
`+b+`
`+Z+" "+ue})}function Zi(h,v,b,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+fa(h,b)+(R?" "+R:"")})}function gh(h,v){h.info(function(){return"TIMEOUT: "+v})}Kn.prototype.info=function(){};function fa(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return cr(b)}catch{return v}}var es={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function Dr(){}I(Dr,iu),Dr.prototype.g=function(){return new XMLHttpRequest},Dr.prototype.i=function(){return{}},Or=new Dr;function mn(h,v,b,R){this.j=h,this.i=v,this.l=b,this.R=R||1,this.U=new la(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var cu={},Io={};function hr(h,v,b){h.L=1,h.v=ya(Dn(v)),h.m=b,h.P=!0,ci(h,null)}function ci(h,v){h.F=Date.now(),da(h),h.A=Dn(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),gu(b.i,"t",R),h.C=0,b=h.j.J,h.h=new wt,h.g=Dh(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Dm(w(h.Y,h,h.g),h.O)),v=h.U,b=h.g,R=h.ca;var $="readystatechange";Array.isArray($)||($&&(ua[0]=$.toString()),$=ua);for(var Z=0;Z<$.length;Z++){var ue=fh(b,$[Z],R||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ji(),uu(h.i,h.u,h.A,h.l,h.R,h.m)}mn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Jn(h)==3?v.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const Lt=Jn(this.g);var v=this.g.Ba();const vi=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Sh(this.g)))){this.J||Lt!=4||v==7||(v==8||0>=vi?Ji(3):Ji(2)),ts(this);var b=this.g.Z();this.X=b;t:if(yh(this)){var R=Sh(this.g);h="";var $=R.length,Z=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),Pr(this);var ue="";break t}this.h.i=new d.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(Z&&v==$-1)});R.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Pm(this.i,this.u,this.A,this.l,this.R,Lt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Mt=this.g;if((Be=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Be)){var qe=Be;break t}}qe=null}if(b=qe)Zi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ma(this,b);else{this.o=!1,this.s=3,ht(12),Kt(this),Pr(this);break e}}if(this.P){b=!0;let Yt;for(;!this.J&&this.C<ue.length;)if(Yt=vh(this,ue),Yt==Io){Lt==4&&(this.s=4,ht(14),b=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==cu){this.s=4,ht(15),Zi(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else Zi(this.i,this.l,Yt,null),ma(this,Yt);if(yh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ue.length!=0||this.h.h||(this.s=1,ht(16),b=!1),this.o=this.o&&b,!b)Zi(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),Pr(this);else if(0<ue.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),xa(Ft),Ft.M=!0,ht(11))}}else Zi(this.i,this.l,ue,null),ma(this,ue);Lt==4&&Kt(this),this.o&&!this.J&&(Lt==4?Ch(this.j,this):(this.o=!1,da(this)))}else Vm(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Kt(this),Pr(this)}}}catch{}finally{}};function yh(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function vh(h,v){var b=h.C,R=v.indexOf(`
`,b);return R==-1?Io:(b=Number(v.substring(b,R)),isNaN(b)?cu:(R+=1,R+b>v.length?Io:(v=v.slice(R,R+b),h.C=R+b,v)))}mn.prototype.cancel=function(){this.J=!0,Kt(this)};function da(h){h.S=Date.now()+h.I,_h(h,h.I)}function _h(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(w(h.ba,h),v)}function ts(h){h.B&&(d.clearTimeout(h.B),h.B=null)}mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(gh(this.i,this.A),this.L!=2&&(Ji(),ht(17)),Kt(this),this.s=2,Pr(this)):_h(this,this.S-h)};function Pr(h){h.j.G==0||h.J||Ch(h.j,h)}function Kt(h){ts(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,ca(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ma(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||hu(b.h,h))){if(!h.K&&hu(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)zo(b),Vo(b);else break e;Eu(b),ht(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=Rt(w(b.Za,b),6e3));if(1>=No(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else yi(b,11)}else if((h.K||b.g==h)&&zo(b),!z(v))for($=b.Da.g.parse(v),v=0;v<$.length;v++){let qe=$[v];if(b.T=qe[0],qe=qe[1],b.G==2)if(qe[0]=="c"){b.K=qe[1],b.ia=qe[2];const Ft=qe[3];Ft!=null&&(b.la=Ft,b.j.info("VER="+b.la));const Lt=qe[4];Lt!=null&&(b.Aa=Lt,b.j.info("SVER="+b.Aa));const vi=qe[5];vi!=null&&typeof vi=="number"&&0<vi&&(R=1.5*vi,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Yt=h.g;if(Yt){const zr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var Z=R.h;Z.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Oo(Z,Z.h),Z.h=null))}if(R.D){const wu=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;wu&&(R.ya=wu,tt(R.I,R.D,wu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ue=h;if(R.qa=Oh(R,R.J?R.ia:null,R.W),ue.K){pn(R.h,ue);var Be=ue,Mt=R.L;Mt&&(Be.I=Mt),Be.B&&(ts(Be),da(Be)),R.g=ue}else Rh(R);0<b.i.length&&jo(b)}else qe[0]!="stop"&&qe[0]!="close"||yi(b,7);else b.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?yi(b,7):_u(b):qe[0]!="noop"&&b.l&&b.l.ta(qe),b.v=0)}}Ji(4)}catch{}}var bh=class{constructor(h,v){this.g=h,this.map=v}};function hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function No(h){return h.h?1:h.g?h.g.size:0}function hu(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Oo(h,v){h.g?h.g.add(v):h.h=v}function pn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}hi.prototype.cancel=function(){if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return D(h.i)}function km(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,R=0;R<b;R++)v.push(h[R]);return v}v=[],b=0;for(R in h)v[b++]=h[R];return v}function Do(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const R in h)v[b++]=R;return v}}}function du(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=Do(h),R=km(h),$=R.length,Z=0;Z<$;Z++)v.call(void 0,R[Z],b&&b[Z],h)}var pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mm(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),$=null;if(0<=R){var Z=h[b].substring(0,R);$=h[b].substring(R+1)}else Z=h[b];v(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,ga(this,h.j),this.o=h.o,this.g=h.g,ns(this,h.s),this.l=h.l;var v=h.i,b=new di;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),fi(this,b),this.m=h.m}else h&&(v=String(h).match(pa))?(this.h=!1,ga(this,v[1]||"",!0),this.o=Yn(v[2]||""),this.g=Yn(v[3]||"",!0),ns(this,v[4]),this.l=Yn(v[5]||"",!0),fi(this,v[6]||"",!0),this.m=Yn(v[7]||"")):(this.h=!1,this.i=new di(null,this.h))}It.prototype.toString=function(){var h=[],v=this.j;v&&h.push(va(v,mu,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(va(v,mu,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(va(b,b.charAt(0)=="/"?Lm:pu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",va(b,Po)),h.join("")};function Dn(h){return new It(h)}function ga(h,v,b){h.j=b?Yn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ns(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function fi(h,v,b){v instanceof di?(h.i=v,Th(h.i,h.h)):(b||(v=va(v,Um)),h.i=new di(v,h.h))}function tt(h,v,b){h.i.set(v,b)}function ya(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Yn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function va(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Eh),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Eh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mu=/[#\/\?@]/g,pu=/[#\?:]/g,Lm=/[#\?]/g,Um=/[#\?@]/g,Po=/#/g;function di(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Mm(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=di.prototype,t.add=function(h,v){Xn(this),this.i=null,h=kr(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function mi(h,v){Xn(h),v=kr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function pi(h,v){return Xn(h),v=kr(h,v),h.g.has(v)}t.forEach=function(h,v){Xn(this),this.g.forEach(function(b,R){b.forEach(function($){h.call(v,$,R,this)},this)},this)},t.na=function(){Xn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const $=h[R];for(let Z=0;Z<$.length;Z++)b.push(v[R])}return b},t.V=function(h){Xn(this);let v=[];if(typeof h=="string")pi(this,h)&&(v=v.concat(this.g.get(kr(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},t.set=function(h,v){return Xn(this),this.i=null,h=kr(this,h),pi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function gu(h,v,b){mi(h,v),0<b.length&&(h.i=null,h.g.set(kr(h,v),D(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const Z=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var $=Z;ue[R]!==""&&($+="="+encodeURIComponent(String(ue[R]))),h.push($)}}return this.i=h.join("&")};function kr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Th(h,v){v&&!h.j&&(Xn(h),h.i=null,h.g.forEach(function(b,R){var $=R.toLowerCase();R!=$&&(mi(this,R),gu(this,$,b))},h)),h.j=v}function _a(h,v){const b=new Kn;if(d.Image){const R=new Image;R.onload=x(Wn,b,"TestLoadImage: loaded",!0,v,R),R.onerror=x(Wn,b,"TestLoadImage: error",!1,v,R),R.onabort=x(Wn,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=x(Wn,b,"TestLoadImage: timeout",!1,v,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}function fr(h,v){const b=new Kn,R=new AbortController,$=setTimeout(()=>{R.abort(),Wn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:R.signal}).then(Z=>{clearTimeout($),Z.ok?Wn(b,"TestPingServer: ok",!0,v):Wn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Wn(b,"TestPingServer: error",!1,v)})}function Wn(h,v,b,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(b)}catch{}}function ba(){this.g=new ha}function Mr(h,v,b){const R=b||"";try{du(h,function($,Z){let ue=$;p($)&&(ue=cr($)),v.push(R+Z+"="+encodeURIComponent(ue))})}catch($){throw v.push(R+"type="+encodeURIComponent("_badmap")),$}}function rs(h){this.l=h.Ub||null,this.j=h.eb||!1}I(rs,iu),rs.prototype.g=function(){return new gi(this.l,this.j)},rs.prototype.i=function(h){return function(){return h}}({});function gi(h,v){yt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(gi,yt),t=gi.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ur(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Lr(this):Ur(this),this.readyState==3&&yu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Lr(this))},t.Qa=function(h){this.g&&(this.response=h,Lr(this))},t.ga=function(){this.g&&Lr(this)};function Lr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ur(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vu(h){let v="";return ie(h,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function qt(h,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=vu(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):tt(h,v,b))}function Ye(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ye,yt);var ko=/^https?$/i,Ea=["POST","PUT"];t=Ye.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?su(this.o):su(Or),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){wh(this,Z);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)b.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())b.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ea,v,void 0))||R||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of b)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ta(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){wh(this,Z)}};function wh(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Mo(h),Vr(h)}function Mo(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Je(this,"complete"),Je(this,"abort"),Vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Jn(h)!=4||h.Z()!=2)){if(h.u&&Jn(h)==4)sn(h.Ea,0,h);else if(Je(h,"readystatechange"),Jn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=ue===0){var $=String(h.D).match(pa)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),R=!ko.test($?$.toLowerCase():"")}b=R}if(b)Je(h,"complete"),Je(h,"success");else{h.m=6;try{var Z=2<Jn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Mo(h)}}finally{Vr(h)}}}}function Vr(h,v){if(h.g){Ta(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Je(h,"ready");try{b.onreadystatechange=R}catch{}}}function Ta(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Jn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ao(v)}};function Sh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Vm(h){const v={};h=(h.g&&2<=Jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(z(h[R]))continue;var b=j(h[R]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=v[$]||[];v[$]=Z,Z.push(b)}O(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Uo(h){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,h),this.cb=wa("retryDelaySeedMs",1e4,h),this.Wa=wa("forwardChannelMaxRetries",2,h),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(h&&h.concurrentRequestLimit),this.Da=new ba,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uo.prototype,t.la=8,t.G=1,t.connect=function(h,v,b,R){ht(0),this.W=h,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=Oh(this,null,this.W),jo(this)};function _u(h){if(xh(h),h.G==3){var v=h.U++,b=Dn(h.I);if(tt(b,"SID",h.K),tt(b,"RID",v),tt(b,"TYPE","terminate"),Sa(h,b),v=new mn(h,h.j,v),v.L=2,v.v=ya(Dn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.v,b=!0),b||(v.g=Dh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),da(v)}Nh(h)}function Vo(h){h.g&&(xa(h),h.g.cancel(),h.g=null)}function xh(h){Vo(h),h.u&&(d.clearTimeout(h.u),h.u=null),zo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function jo(h){if(!Co(h.h)&&!h.s){h.s=!0;var v=h.Ga;ce||B(),ge||(ce(),ge=!0),$e.add(v,h),h.B=0}}function jm(h,v){return No(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(w(h.Ga,h,v),Tu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new mn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=A(Z),k(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Ah(this,$,v),b=Dn(this.I),tt(b,"RID",h),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Sa(this,b),Z&&(this.O?v="headers="+encodeURIComponent(String(vu(Z)))+"&"+v:this.m&&qt(b,this.m,Z)),Oo(this.h,$),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",v),tt(b,"SID","null"),$.T=!0,hr($,b,null)):hr($,b,v),this.G=2}}else this.G==3&&(h?bu(this,h):this.i.length==0||Co(this.h)||bu(this))};function bu(h,v){var b;v?b=v.l:b=h.U++;const R=Dn(h.I);tt(R,"SID",h.K),tt(R,"RID",b),tt(R,"AID",h.T),Sa(h,R),h.m&&h.o&&qt(R,h.m,h.o),b=new mn(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Ah(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Oo(h.h,b),hr(b,R,v)}function Sa(h,v){h.H&&ie(h.H,function(b,R){tt(v,R,b)}),h.l&&du({},function(b,R){tt(v,R,b)})}function Ah(h,v,b){b=Math.min(h.i.length,b);var R=h.l?w(h.l.Na,h.l,h):null;e:{var $=h.i;let Z=-1;for(;;){const ue=["count="+b];Z==-1?0<b?(Z=$[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let Be=!0;for(let Mt=0;Mt<b;Mt++){let qe=$[Mt].g;const Ft=$[Mt].map;if(qe-=Z,0>qe)Z=Math.max(0,$[Mt].g-100),Be=!1;else try{Mr(Ft,ue,"req"+qe+"_")}catch{R&&R(Ft)}}if(Be){R=ue.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,R}function Rh(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ce||B(),ge||(ce(),ge=!0),$e.add(v,h),h.v=0}}function Eu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(w(h.Fa,h),Tu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Vo(this),Ih(this))};function xa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Ih(h){h.g=new mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Dn(h.qa);tt(v,"RID","rpc"),tt(v,"SID",h.K),tt(v,"AID",h.T),tt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(v,"TO",h.ja),tt(v,"TYPE","xmlhttp"),Sa(h,v),h.m&&h.o&&qt(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=ya(Dn(v)),b.m=null,b.P=!0,ci(b,h)}t.Za=function(){this.C!=null&&(this.C=null,Vo(this),Eu(this),ht(19))};function zo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ch(h,v){var b=null;if(h.g==v){zo(h),xa(h),h.g=null;var R=2}else if(hu(h.h,v))b=v.D,pn(h.h,v),R=1;else return;if(h.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;R=Wi(),Je(R,new kt(R,b)),jo(h)}else Rh(h);else if($=v.s,$==3||$==0&&0<v.X||!(R==1&&jm(h,v)||R==2&&Eu(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),$){case 1:yi(h,5);break;case 4:yi(h,10);break;case 3:yi(h,6);break;default:yi(h,2)}}}function Tu(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function yi(h,v){if(h.j.info("Error code "+v),v==2){var b=w(h.fb,h),R=h.Xa;const $=!R;R=new It(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ga(R,"https"),ya(R),$?_a(R.toString(),b):fr(R.toString(),b)}else ht(2);h.G=0,h.l&&h.l.sa(v),Nh(h),xh(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Nh(h){if(h.G=0,h.ka=[],h.l){const v=fu(h.h);(v.length!=0||h.i.length!=0)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Oh(h,v,b){var R=b instanceof It?Dn(b):new It(b);if(R.g!="")v&&(R.g=v+"."+R.g),ns(R,R.s);else{var $=d.location;R=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var Z=new It(null);R&&ga(Z,R),v&&(Z.g=v),$&&ns(Z,$),b&&(Z.l=b),R=Z}return b=h.D,v=h.ya,b&&v&&tt(R,b,v),tt(R,"VER",h.la),Sa(h,R),R}function Dh(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ye(new rs({eb:b})):new Ye(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ph(){}t=Ph.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bo(){}Bo.prototype.g=function(h,v){return new gn(h,v)};function gn(h,v){yt.call(this),this.g=new Uo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new jr(this)}I(gn,yt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){_u(this.g)},gn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=cr(h),h=b);v.i.push(new bh(v.Ya++,h)),v.G==3&&jo(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,gn.aa.N.call(this)};function kh(h){li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(kh,li);function Mh(){ou.call(this),this.status=1}I(Mh,ou);function jr(h){this.g=h}I(jr,Ph),jr.prototype.ua=function(){Je(this.g,"a")},jr.prototype.ta=function(h){Je(this.g,new kh(h))},jr.prototype.sa=function(h){Je(this.g,new Mh)},jr.prototype.ra=function(){Je(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,tA=function(){return new Bo},eA=function(){return Wi()},Zx=Nr,yy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,id=es,ui.COMPLETE="complete",Jx=ui,au.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",yt.prototype.listen=yt.prototype.K,yc=au,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Wx=Ye}).apply(typeof zf<"u"?zf:typeof self<"u"?self:typeof window<"u"?window:{});const GT="@firebase/firestore",QT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new vv("@firebase/firestore");function gl(){return so.logLevel}function de(t,...e){if(so.logLevel<=Ue.DEBUG){const n=e.map(Ov);so.debug(`Firestore (${Wl}): ${t}`,...n)}}function Hi(t,...e){if(so.logLevel<=Ue.ERROR){const n=e.map(Ov);so.error(`Firestore (${Wl}): ${t}`,...n)}}function jl(t,...e){if(so.logLevel<=Ue.WARN){const n=e.map(Ov);so.warn(`Firestore (${Wl}): ${t}`,...n)}}function Ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+t;throw Hi(e),new Error(e)}function We(t,e){t||xe()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class GP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QP{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ji)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new nA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new hn(e)}}class $P{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KP{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new $P(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $T{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){We(this.o===void 0);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $T(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new $T(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=XP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Oe(t,e){return t<e?-1:t>e?1:0}function vy(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Oe(i,a);{const l=rA(),c=WP(l.encode(KT(t,n)),l.encode(KT(e,n)));return c!==0?c:Oe(i,a)}}n+=i>65535?2:1}return Oe(t.length,e.length)}function KT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function zl(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=-62135596800,XT=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*XT);return new jt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YT)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XT}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-YT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new jt(0,0))}static max(){return new Re(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__name__";class Qr{constructor(e,n,i){n===void 0?n=0:n>e.length&&xe(),i===void 0?i=e.length-n:i>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Qr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Oe(e.length,n.length)}static compareSegments(e,n){const i=Qr.isNumericId(e),a=Qr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Qr.extractNumericId(e).compare(Qr.extractNumericId(n)):vy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class ut extends Qr{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const JP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Qr{construct(e,n,i){return new nn(e,n,i)}static isValidIdentifier(e){return JP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WT}static keyField(){return new nn([WT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ut.fromString(e))}static fromName(e){return new ve(ut.fromString(e).popFirst(5))}static empty(){return new ve(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=-1;function ZP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(i===1e9?new jt(n+1,0):new jt(n,i));return new $s(a,ve.empty(),e)}function ek(t){return new $s(t.readTime,t.key,Oc)}class $s{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new $s(Re.min(),ve.empty(),Oc)}static max(){return new $s(Re.max(),ve.empty(),Oc)}}function tk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==nk)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,i)=>{n(e)})}static reject(e){return new ae((n,i)=>{i(e)})}static waitFor(e){return new ae((n,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>i(m))}),c=!0,l===a&&n()})}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next(a=>a?ae.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++d,d===l&&i(c)},y=>a(y))}})}static doWhile(e,n){return new ae((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function ik(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-1;function Jd(t){return t==null}function wd(t){return t===0&&1/t==-1/0}function sk(t){return typeof t=="number"&&Number.isInteger(t)&&!wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="";function ak(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JT(e)),e=ok(t.get(n),e);return JT(e)}function ok(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case sA:n+="";break;default:n+=l}}return n}function JT(t){return t+sA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bf(this.root,e,this.comparator,!0)}}class Bf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new en(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,i,a,l){return this}insert(e,n,i){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new zt(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new oA("Invalid base64 string: "+l):l}}(e);return new rn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(We(!!t),typeof t=="string"){let e=0;const n=lk.exec(t);if(We(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="server_timestamp",uA="__type__",cA="__previous_value__",hA="__local_write_time__";function Zd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uA])===null||n===void 0?void 0:n.stringValue)===lA}function em(t){const e=t.mapValue.fields[cA];return Zd(e)?em(e):e}function Dc(t){const e=Ks(t.mapValue.fields[hA].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,i,a,l,c,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const Sd="(default)";class Pc{constructor(e,n){this.projectId=e,this.database=n||Sd}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===Sd}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="__type__",ck="__max__",qf={mapValue:{}},dA="__vector__",xd="value";function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zd(t)?4:fk(t)?9007199254740991:hk(t)?10:11:xe()}function ni(t,e){if(t===e)return!0;const n=Xs(t);if(n!==Xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ks(a.timestampValue),d=Ks(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ys(a.bytesValue).isEqual(Ys(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),d=At(l.doubleValue);return c===d?wd(c)===wd(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ZT(c)!==ZT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ni(c[m],d[m])))return!1;return!0}(t,e);default:return xe()}}function kc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=Xs(t),i=Xs(e);if(n!==i)return Oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),m=At(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return tw(t.timestampValue,e.timestampValue);case 4:return tw(Dc(t),Dc(e));case 5:return vy(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Ys(l),m=Ys(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Oe(d[p],m[p]);if(y!==0)return y}return Oe(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Oe(At(l.latitude),At(c.latitude));return d!==0?d:Oe(At(l.longitude),At(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nw(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,y;const _=l.fields||{},w=c.fields||{},x=(d=_[xd])===null||d===void 0?void 0:d.arrayValue,I=(m=w[xd])===null||m===void 0?void 0:m.arrayValue,D=Oe(((p=x==null?void 0:x.values)===null||p===void 0?void 0:p.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:nw(x,I)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===qf.mapValue&&c===qf.mapValue)return 0;if(l===qf.mapValue)return 1;if(c===qf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const w=vy(m[_],y[_]);if(w!==0)return w;const x=Bl(d[m[_]],p[y[_]]);if(x!==0)return x}return Oe(m.length,y.length)}(t.mapValue,e.mapValue);default:throw xe()}}function tw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ks(t),i=Ks(e),a=Oe(n.seconds,i.seconds);return a!==0?a:Oe(n.nanos,i.nanos)}function nw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Bl(n[a],i[a]);if(l)return l}return Oe(n.length,i.length)}function ql(t){return _y(t)}function _y(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ks(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=_y(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${_y(n.fields[c])}`;return a+"}"}(t.mapValue):xe()}function sd(t){switch(Xs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+sd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+sd(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return na(i.fields,(l,c)=>{a+=l.length+sd(c)}),a}(t.mapValue);default:throw xe()}}function Ad(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function by(t){return!!t&&"integerValue"in t}function Pv(t){return!!t&&"arrayValue"in t}function rw(t){return!!t&&"nullValue"in t}function iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ad(t){return!!t&&"mapValue"in t}function hk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fA])===null||n===void 0?void 0:n.stringValue)===dA}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Sc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ck}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=nn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=Sc(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];ad(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){na(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Nn(Sc(this.value))}}function mA(t){const e=[];return na(t.fields,(n,i)=>{const a=new nn([n]);if(ad(i)){const l=mA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,Re.min(),Re.min(),Re.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,a){return new fn(e,1,n,Re.min(),i,a,0)}static newNoDocument(e,n){return new fn(e,2,n,Re.min(),Re.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Re.min(),Re.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.position=e,this.inclusive=n}}function sw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),n.key):i=Bl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function aw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n="asc"){this.field=e,this.dir=n}}function dk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class Dt extends pA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new pk(e,n,i):n==="array-contains"?new vk(e,i):n==="in"?new _k(e,i):n==="not-in"?new bk(e,i):n==="array-contains-any"?new Ek(e,i):new Dt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new gk(e,i):new yk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&Xs(this.value)===Xs(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends pA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Sr(e,n)}matches(e){return gA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gA(t){return t.op==="and"}function yA(t){return mk(t)&&gA(t)}function mk(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function Ey(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(yA(t))return t.filters.map(e=>Ey(e)).join(",");{const e=t.filters.map(n=>Ey(n)).join(",");return`${t.op}(${e})`}}function vA(t,e){return t instanceof Dt?function(i,a){return a instanceof Dt&&i.op===a.op&&i.field.isEqual(a.field)&&ni(i.value,a.value)}(t,e):t instanceof Sr?function(i,a){return a instanceof Sr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&vA(c,a.filters[d]),!0):!1}(t,e):void xe()}function _A(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"}(t):"Filter"}class pk extends Dt{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class gk extends Dt{constructor(e,n){super(e,"in",n),this.keys=bA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yk extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=bA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ve.fromName(i.referenceValue))}class vk extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pv(n)&&kc(n.arrayValue,this.value)}}class _k extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kc(this.value.arrayValue,n)}}class bk extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kc(this.value.arrayValue,n)}}class Ek extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>kc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function ow(t,e=null,n=[],i=[],a=null,l=null,c=null){return new Tk(t,e,n,i,a,l,c)}function kv(t){const e=Ie(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ey(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ql(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ql(i)).join(",")),e.le=n}return e.le}function Mv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aw(t.startAt,e.startAt)&&aw(t.endAt,e.endAt)}function Ty(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wk(t,e,n,i,a,l,c,d){return new yo(t,e,n,i,a,l,c,d)}function Lv(t){return new yo(t)}function lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Uv(t){return t.collectionGroup!==null}function Sl(t){const e=Ie(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(nn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Mc(l,i))}),n.has(nn.keyField().canonicalString())||e.he.push(new Mc(nn.keyField(),i))}return e.he}function ei(t){const e=Ie(t);return e.Pe||(e.Pe=Sk(e,Sl(t))),e.Pe}function Sk(t,e){if(t.limitType==="F")return ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Mc(a.field,l)});const n=t.endAt?new Fl(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Fl(t.startAt.position,t.startAt.inclusive):null;return ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function wy(t,e){const n=t.filters.concat([e]);return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rd(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tm(t,e){return Mv(ei(t),ei(e))&&t.limitType===e.limitType}function EA(t){return`${kv(ei(t))}|lt:${t.limitType}`}function yl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>_A(a)).join(", ")}]`),Jd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ql(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ql(a)).join(",")),`Target(${i})`}(ei(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of Sl(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const p=sw(c,d,m);return c.inclusive?p<=0:p<0}(i.startAt,Sl(i),a)||i.endAt&&!function(c,d,m){const p=sw(c,d,m);return c.inclusive?p>=0:p>0}(i.endAt,Sl(i),a))}(t,e)}function xk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TA(t){return(e,n)=>{let i=!1;for(const a of Sl(t)){const l=Ak(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Ak(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Bl(m,p):xe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new gt(ve.comparator);function Gi(){return Rk}const wA=new gt(ve.comparator);function vc(...t){let e=wA;for(const n of t)e=e.insert(n.key,n);return e}function SA(t){let e=wA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Fa(){return xc()}function xA(){return xc()}function xc(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ik=new gt(ve.comparator),Ck=new zt(ve.comparator);function Ve(...t){let e=Ck;for(const n of t)e=e.add(n);return e}const Nk=new zt(Oe);function Ok(){return Nk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function AA(t){return{integerValue:""+t}}function Dk(t,e){return sk(e)?AA(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function Pk(t,e,n){return t instanceof Lc?function(a,l){const c={fields:{[uA]:{stringValue:lA},[hA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Zd(l)&&(l=em(l)),l&&(c.fields[cA]=l),{mapValue:c}}(n,e):t instanceof Uc?IA(t,e):t instanceof Vc?CA(t,e):function(a,l){const c=RA(a,l),d=uw(c)+uw(a.Ie);return by(c)&&by(a.Ie)?AA(d):Vv(a.serializer,d)}(t,e)}function kk(t,e,n){return t instanceof Uc?IA(t,e):t instanceof Vc?CA(t,e):n}function RA(t,e){return t instanceof Id?function(i){return by(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Lc extends rm{}class Uc extends rm{constructor(e){super(),this.elements=e}}function IA(t,e){const n=NA(e);for(const i of t.elements)n.some(a=>ni(a,i))||n.push(i);return{arrayValue:{values:n}}}class Vc extends rm{constructor(e){super(),this.elements=e}}function CA(t,e){let n=NA(e);for(const i of t.elements)n=n.filter(a=>!ni(a,i));return{arrayValue:{values:n}}}class Id extends rm{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function uw(t){return At(t.integerValue||t.doubleValue)}function NA(t){return Pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.field=e,this.transform=n}}function Lk(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Uc&&a instanceof Uc||i instanceof Vc&&a instanceof Vc?zl(i.elements,a.elements,ni):i instanceof Id&&a instanceof Id?ni(i.Ie,a.Ie):i instanceof Lc&&a instanceof Lc}(t.transform,e.transform)}class Uk{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let im=class{};function OA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,or.none()):new rh(t.key,t.data,or.none());{const n=t.data,i=Nn.empty();let a=new zt(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ra(t.key,i,new Bn(a.toArray()),or.none())}}function Vk(t,e,n){t instanceof rh?function(a,l,c){const d=a.value.clone(),m=hw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(a,l,c){if(!od(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=hw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(DA(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,i){return t instanceof rh?function(l,c,d,m){if(!od(l.precondition,c))return d;const p=l.value.clone(),y=fw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof ra?function(l,c,d,m){if(!od(l.precondition,c))return d;const p=fw(l.fieldTransforms,m,c),y=c.data;return y.setAll(DA(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(l,c,d){return od(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function jk(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=RA(i.transform,a||null);l!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,l))}return n||null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&zl(i,a,(l,c)=>Lk(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rh extends im{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends im{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function DA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function hw(t,e,n){const i=new Map;We(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,kk(c,d,n[a]))}return i}function fw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,Pk(l,c,e))}return i}class jv extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zk extends im{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Vk(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ac(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ac(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=xA();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=OA(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,i)=>cw(n,i))&&zl(this.baseMutations,e.baseMutations,(n,i)=>cw(n,i))}}class zv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){We(e.mutations.length===i.length);let a=function(){return Ik}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new zv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,He;function Hk(t){switch(t){case ne.OK:return xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe()}}function PA(t){if(t===void 0)return Hi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return xe()}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new Fs([4294967295,4294967295],0);function dw(t){const e=rA().encode(t),n=new Xx;return n.update(e),new Uint8Array(n.digest())}function mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([a,l],0)]}class Bv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new _c(`Invalid padding: ${n}`);if(i<0)throw new _c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new _c(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Fs.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(Fs.fromNumber(i)));return a.compare(Gk)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=dw(e),[i,a]=mw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Bv(l,a,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=dw(e),[i,a]=mw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,ih.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new sm(Re.min(),a,new gt(Oe),Gi(),Ve())}}class ih{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ih(i,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class kA{constructor(e,n){this.targetId=e,this.ge=n}}class MA{constructor(e,n,i=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class pw{constructor(){this.pe=0,this.ye=gw(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),i=Ve();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:xe()}}),new ih(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=gw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Qk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Gi(),this.$e=Ff(),this.Ue=Ff(),this.Ke=new gt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(Ty(l))if(i===0){const c=new ve(l.path);this.ze(n,c,fn.newNoDocument(c,Re.min()))}else We(i===1);else{const c=this.et(n);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ys(i).toUint8Array()}catch(m){if(m instanceof oA)return jl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Bv(c,a,l)}catch(m){return jl(m instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Ty(d.target)){const m=new ve(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,fn.newNoDocument(m,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Ve();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new sm(e,n,this.Ke,this.Qe,i);return this.Qe=Gi(),this.$e=Ff(),this.Ue=Ff(),this.Ke=new gt(Oe),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new pw,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new gt(ve.comparator)}function gw(){return new gt(ve.comparator)}const $k={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yk={and:"AND",or:"OR"};class Xk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sy(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function Cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wk(t,e){return Cd(t,e.toTimestamp())}function ti(t){return We(!!t),Re.fromTimestamp(function(n){const i=Ks(n);return new jt(i.seconds,i.nanos)}(t))}function qv(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=function(a){return new ut(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UA(t){const e=ut.fromString(t);return We(qA(e)),e}function Ay(t,e){return qv(t.databaseId,e.path)}function Qg(t,e){const n=UA(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(jA(n))}function VA(t,e){return qv(t.databaseId,e)}function Jk(t){const e=UA(t);return e.length===4?ut.emptyPath():jA(e)}function Ry(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jA(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yw(t,e,n){return{name:Ay(t,e),fields:n.value.mapValue.fields}}function Zk(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string"),rn.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array),rn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?ne.UNKNOWN:PA(p.code);return new fe(y,p.message||"")}(c);n=new MA(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Qg(t,i.document.name),l=ti(i.document.updateTime),c=i.document.createTime?ti(i.document.createTime):Re.min(),d=new Nn({mapValue:{fields:i.document.fields}}),m=fn.newFoundDocument(a,l,c,d),p=i.targetIds||[],y=i.removedTargetIds||[];n=new ld(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Qg(t,i.document),l=i.readTime?ti(i.readTime):Re.min(),c=fn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new ld([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Qg(t,i.document),l=i.removedTargetIds||[];n=new ld([],l,a,null)}else{if(!("filter"in e))return xe();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Fk(a,l),d=i.targetId;n=new kA(d,c)}}return n}function eM(t,e){let n;if(e instanceof rh)n={update:yw(t,e.key,e.value)};else if(e instanceof jv)n={delete:Ay(t,e.key)};else if(e instanceof ra)n={update:yw(t,e.key,e.data),updateMask:uM(e.fieldMask)};else{if(!(e instanceof zk))return xe();n={verify:Ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Lc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Id)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw xe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Wk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe()}(t,e.precondition)),n}function tM(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?ti(a.updateTime):ti(l);return c.isEqual(Re.min())&&(c=ti(l)),new Uk(c,a.transformResults||[])}(n,e))):[]}function nM(t,e){return{documents:[VA(t,e.path)]}}function rM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=VA(t,a);const l=function(p){if(p.length!==0)return BA(Sr.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:vl(w.field),direction:aM(w.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Sy(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:a}}function iM(t){let e=Jk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){We(i===1);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=function(_){const w=zA(_);return w instanceof Sr&&yA(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(w=>function(I){return new Mc(_l(I.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(_){let w;return w=typeof _=="object"?_.value:_,Jd(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(_){const w=!!_.before,x=_.values||[];return new Fl(x,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,x=_.values||[];return new Fl(x,w)}(n.endAt)),wk(e,a,c,l,d,"F",m,p)}function sM(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=_l(n.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=_l(n.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=_l(n.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=_l(n.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(_l(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(i=>zA(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function aM(t){return $k[t]}function oM(t){return Kk[t]}function lM(t){return Yk[t]}function vl(t){return{fieldPath:t.canonicalString()}}function _l(t){return nn.fromServerFormat(t.fieldPath)}function BA(t){return t instanceof Dt?function(n){if(n.op==="=="){if(iw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(rw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(rw(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:oM(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const i=n.getFilters().map(a=>BA(a));return i.length===1?i[0]:{compositeFilter:{op:lM(n.op),filters:i}}}(t):xe()}function uM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,i,a,l=Re.min(),c=Re.min(),d=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.Tt=e}}function hM(t){const e=iM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.Tn=new dM}addToCollectionParentIndex(e,n){return this.Tn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve($s.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class dM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new zt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FA=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(FA,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Hl(0)}static Kn(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",mM=1048576;function bw([t,e],[n,i]){const a=Oe(t,n);return a===0?Oe(e,i):a}class pM{constructor(e){this.Hn=e,this.buffer=new zt(bw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();bw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(_w,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zl(n)?de(_w,"Ignoring IndexedDB error during garbage collection: ",n):await Jl(n)}await this.er(3e5)})}}class yM{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Wd.ae);const i=new pM(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(vw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,d=Date.now(),this.removeTargets(e,i,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),gl()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function vM(t,e){return new yM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Ac(i.mutation,a,Bn.empty(),jt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ve()){const a=Fa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=vc();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ve()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,a){let l=Gi();const c=xc(),d=function(){return xc()}();return n.forEach((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ra)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ac(y.mutation,p,y.mutation.getFieldMask(),jt.now())):c.set(p.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return d.set(p,new bM(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const i=xc();let a=new gt((c,d)=>c-d),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||Bn.empty();y=d.applyToLocalView(p,y),i.set(m,y);const _=(a.get(d.batchId)||Ve()).add(m);a=a.insert(d.batchId,_)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=xA();y.forEach(w=>{if(!l.has(w)){const x=OA(n.get(w),i.get(w));x!==null&&_.set(w,x),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Uv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(Fa());let d=Oc,m=l;return c.next(p=>ae.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{m=m.insert(y,w)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ve())).next(y=>({batchId:d,changes:SA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(i=>{let a=vc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=vc();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,m=>{const p=function(_,w){return new yo(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(y=>{y.forEach((_,w)=>{c=c.insert(_,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,fn.newInvalidDocument(y)))});let d=vc();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Ac(y.mutation,p,Bn.empty(),jt.now()),nm(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ae.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ti(a.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:hM(a.bundledQuery),readTime:ti(a.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.overlays=new gt(ve.comparator),this.Rr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Fa();return ae.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=Fa(),l=n.length+1,c=new ve(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new gt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Fa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Fa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return ae.resolve(d)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new qk(n,i));let l=this.Rr.get(n);l===void 0&&(l=Ve(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.Vr=new zt($t.mr),this.gr=new zt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new $t(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new $t(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new ve(new ut([])),i=new $t(n,e),a=new $t(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new ut([])),i=new $t(n,e),a=new $t(n,e+1);let l=Ve();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new $t(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zt($t.mr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Bk(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Dv:this.Fr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new zt(Oe);return n.forEach(a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ae.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ve(l),0);let d=new zt(Oe);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Cr)),!0)},c),ae.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){We(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ae.forEach(n.mutations,a=>{const l=new $t(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new $t(n,0),a=this.Mr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.kr=e,this.docs=function(){return new gt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let i=Gi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Gi();const c=n.path,d=new ve(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||tk(ek(y),i)<=0||(a.has(y.key)||nm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){xe()}qr(e,n){return ae.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new RM(this)}getSize(e){return ae.resolve(this.size)}}class RM extends _M{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ae.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.persistence=e,this.Qr=new vo(n=>kv(n),Mv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Fv,this.targetCount=0,this.Kr=Hl.Un()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ae.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.zn(n),ae.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Wd(0),this.zr=!1,this.zr=!0,this.jr=new SM,this.referenceDelegate=e(this),this.Hr=new IM(this),this.indexManager=new fM,this.remoteDocumentCache=function(a){return new AM(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new cM(n),this.Yr=new TM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new xM(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const a=new CM(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return ae.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class CM extends rk{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.ti=new Fv,this.ni=null}static ri(e){return new Hv(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ae.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.ii,i=>{const a=ve.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ae.or([()=>ae.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Nd{constructor(e,n){this.persistence=e,this.oi=new vo(i=>ak(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=vM(this,n)}static ri(e,n){return new Nd(e,n)}Zr(){}Xr(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ae.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ae.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(d=>{d||(i++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ae.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sd(e.data.value)),n}ar(e,n,i){return ae.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Ve(),a=Ve();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Gv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oN()?8:ik(dn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new NM;return this._s(e,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(gl()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",yl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ae.resolve()):(gl()<=Ue.DEBUG&&de("QueryEngine","Query:",yl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(gl()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",yl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):ae.resolve())}rs(e,n){if(lw(n))return ae.resolve(null);let i=ei(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Rd(n,null,"F"),i=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ve(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.cs(n,d);return this.ls(n,p,c,m.readTime)?this.rs(e,Rd(n,null,"F")):this.hs(e,p,n,m)}))})))}ss(e,n,i,a){return lw(n)||a.isEqual(Re.min())?ae.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?ae.resolve(null):(gl()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),yl(n)),this.hs(e,c,n,ZP(a,Oc)).next(d=>d))})}cs(e,n){let i=new zt(TA(e));return n.forEach((a,l)=>{nm(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return gl()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",yl(n)),this.ns.getDocumentsMatchingQuery(e,n,$s.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LocalStore",DM=3e8;class PM{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new gt(Oe),this.Is=new vo(l=>kv(l),Mv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EM(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function kM(t,e,n,i){return new PM(t,e,n,i)}async function GA(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Ve();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function MM(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,w=_.keys();let x=ae.resolve();return w.forEach(I=>{x=x.next(()=>y.getEntry(m,I)).next(D=>{const N=p.docVersions.get(I);We(N!==null),D.version.compareTo(N)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Ve();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function QA(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function LM(t,e){const n=Ie(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];e.targetChanges.forEach((y,_)=>{const w=a.get(_);if(!w)return;d.push(n.Hr.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(l,y.addedDocuments,_)));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(rn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),a=a.insert(_,x),function(D,N,V){return D.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=DM?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(w,x,y)&&d.push(n.Hr.updateTargetData(l,x))});let m=Gi(),p=Ve();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(UM(l,c,e.documentUpdates).next(y=>{m=y.Vs,p=y.fs})),!i.isEqual(Re.min())){const y=n.Hr.getLastRemoteSnapshotVersion(l).next(_=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(y)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ts=a,l))}function UM(t,e,n){let i=Ve(),a=Ve();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Gi();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):de(Qv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function VM(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Dv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jM(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new zs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Iy(t,e,n){const i=Ie(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Zl(c))throw c;de(Qv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function Ew(t,e,n){const i=Ie(t);let a=Re.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Ie(m),w=_.Is.get(y);return w!==void 0?ae.resolve(_.Ts.get(w)):_.Hr.getTargetData(p,y)}(i,c,ei(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:Re.min(),n?l:Ve())).next(d=>(zM(i,xk(e),d),{documents:d,gs:l})))}function zM(t,e,n){let i=t.Es.get(e)||Re.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class Tw{constructor(){this.activeTargetIds=Ok()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BM{constructor(){this.ho=new Tw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="ConnectivityMonitor";class Sw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(ww,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf=null;function Cy(){return Hf===null?Hf=function(){return 268435456+Math.round(2147483648*Math.random())}():Hf++,"0x"+Hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",FM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Sd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,n,i,a,l){const c=Cy(),d=this.bo(e,n.toUriEncodedString());de($g,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,i).then(p=>(de($g,`Received RPC '${e}' ${c}: `,p),p),p=>{throw jl($g,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",i),p})}Co(e,n,i,a,l,c){return this.So(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,n){const i=FM[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class QM extends HM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=Cy();return new Promise((c,d)=>{const m=new Wx;m.setWithCredentials(!0),m.listenOnce(Jx.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case id.NO_ERROR:const y=m.getResponseJson();de(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case id.TIMEOUT:de(ln,`RPC '${e}' ${l} timed out`),d(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const _=m.getStatus();if(de(ln,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const I=function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(V)>=0?V:ne.UNKNOWN}(x.status);d(new fe(I,x.message))}else d(new fe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{de(ln,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);de(ln,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",p,i,15)})}Wo(e,n,i){const a=Cy(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tA(),d=eA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");de(ln,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);let w=!1,x=!1;const I=new GM({Fo:N=>{x?de(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(w||(de(ln,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),de(ln,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Mo:()=>_.close()}),D=(N,V,z)=>{N.listen(V,P=>{try{z(P)}catch(H){setTimeout(()=>{throw H},0)}})};return D(_,yc.EventType.OPEN,()=>{x||(de(ln,`RPC '${e}' stream ${a} transport opened.`),I.Qo())}),D(_,yc.EventType.CLOSE,()=>{x||(x=!0,de(ln,`RPC '${e}' stream ${a} transport closed`),I.Uo())}),D(_,yc.EventType.ERROR,N=>{x||(x=!0,jl(ln,`RPC '${e}' stream ${a} transport errored:`,N),I.Uo(new fe(ne.UNAVAILABLE,"The operation could not be completed")))}),D(_,yc.EventType.MESSAGE,N=>{var V;if(!x){const z=N.data[0];We(!!z);const P=z,H=(P==null?void 0:P.error)||((V=P[0])===null||V===void 0?void 0:V.error);if(H){de(ln,`RPC '${e}' stream ${a} received error:`,H);const W=H.status;let ie=function(C){const k=Ot[C];if(k!==void 0)return PA(k)}(W),O=H.message;ie===void 0&&(ie=ne.INTERNAL,O="Unknown error status: "+W+" with message "+H.message),x=!0,I.Uo(new fe(ie,O)),_.close()}else de(ln,`RPC '${e}' stream ${a} received:`,z),I.Ko(z)}}),D(d,Zx.STAT_EVENT,N=>{N.stat===yy.PROXY?de(ln,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===yy.NOPROXY&&de(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new Xk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="PersistentStream";class KA{constructor(e,n,i,a,l,c,d,m){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $A(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new fe(ne.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $M extends KA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Zk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?ti(c.readTime):Re.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Ry(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=Ty(m)?{documents:nM(l,m)}:{query:rM(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=LA(l,c.resumeToken);const p=Sy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=Cd(l,c.snapshotVersion.toTimestamp());const p=Sy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=sM(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Ry(this.serializer),n.removeTarget=e,this.I_(n)}}class KM extends KA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=tM(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Ry(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>eM(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{}class XM extends YM{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,xy(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,xy(n,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ne.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="RemoteStore";class JM{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{_o(this)&&(de(ao,"Restarting streams for network reachability change."),await async function(m){const p=Ie(m);p.W_.add(4),await sh(p),p.j_.set("Unknown"),p.W_.delete(4),await om(p)}(this))})}),this.j_=new WM(i,a)}}async function om(t){if(_o(t))for(const e of t.G_)await e(!0)}async function sh(t){for(const e of t.G_)await e(!1)}function YA(t,e){const n=Ie(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Xv(n)?Yv(n):eu(n).c_()&&Kv(n,e))}function $v(t,e){const n=Ie(t),i=eu(n);n.K_.delete(e),i.c_()&&XA(n,e),n.K_.size===0&&(i.c_()?i.P_():_o(n)&&n.j_.set("Unknown"))}function Kv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eu(t).y_(e)}function XA(t,e){t.H_.Ne(e),eu(t).w_(e)}function Yv(t){t.H_=new Qk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),eu(t).start(),t.j_.B_()}function Xv(t){return _o(t)&&!eu(t).u_()&&t.K_.size>0}function _o(t){return Ie(t).W_.size===0}function WA(t){t.H_=void 0}async function ZM(t){t.j_.set("Online")}async function e4(t){t.K_.forEach((e,n)=>{Kv(t,e)})}async function t4(t,e){WA(t),Xv(t)?(t.j_.q_(e),Yv(t)):t.j_.set("Unknown")}async function n4(t,e,n){if(t.j_.set("Online"),e instanceof MA&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(t,e)}catch(i){de(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Od(t,i)}else if(e instanceof ld?t.H_.We(e):e instanceof kA?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Re.min()))try{const i=await QA(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.K_.get(p);y&&l.K_.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.K_.get(m);if(!y)return;l.K_.set(m,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),XA(l,m);const _=new zs(y.target,m,p,y.sequenceNumber);Kv(l,_)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){de(ao,"Failed to raise snapshot:",i),await Od(t,i)}}async function Od(t,e,n){if(!Zl(e))throw e;t.W_.add(1),await sh(t),t.j_.set("Offline"),n||(n=()=>QA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(ao,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await om(t)})}function JA(t,e){return e().catch(n=>Od(t,n,e))}async function lm(t){const e=Ie(t),n=Ws(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Dv;for(;r4(e);)try{const a=await VM(e.localStore,i);if(a===null){e.U_.length===0&&n.P_();break}i=a.batchId,i4(e,a)}catch(a){await Od(e,a)}ZA(e)&&e1(e)}function r4(t){return _o(t)&&t.U_.length<10}function i4(t,e){t.U_.push(e);const n=Ws(t);n.c_()&&n.S_&&n.b_(e.mutations)}function ZA(t){return _o(t)&&!Ws(t).u_()&&t.U_.length>0}function e1(t){Ws(t).start()}async function s4(t){Ws(t).C_()}async function a4(t){const e=Ws(t);for(const n of t.U_)e.b_(n.mutations)}async function o4(t,e,n){const i=t.U_.shift(),a=zv.from(i,e,n);await JA(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await lm(t)}async function l4(t,e){e&&Ws(t).S_&&await async function(i,a){if(function(c){return Hk(c)&&c!==ne.ABORTED}(a.code)){const l=i.U_.shift();Ws(i).h_(),await JA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await lm(i)}}(t,e),ZA(t)&&e1(t)}async function Aw(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),de(ao,"RemoteStore received new credentials");const i=_o(n);n.W_.add(3),await sh(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await om(n)}async function u4(t,e){const n=Ie(t);e?(n.W_.delete(2),await om(n)):e||(n.W_.add(2),await sh(n),n.j_.set("Unknown"))}function eu(t){return t.J_||(t.J_=function(n,i,a){const l=Ie(n);return l.M_(),new $M(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:ZM.bind(null,t),No:e4.bind(null,t),Lo:t4.bind(null,t),p_:n4.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Xv(t)?Yv(t):t.j_.set("Unknown")):(await t.J_.stop(),WA(t))})),t.J_}function Ws(t){return t.Y_||(t.Y_=function(n,i,a){const l=Ie(n);return l.M_(),new KM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:s4.bind(null,t),Lo:l4.bind(null,t),D_:a4.bind(null,t),v_:o4.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await lm(t)):(await t.Y_.stop(),t.U_.length>0&&(de(ao,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new Wv(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),Zl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=vc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new xl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.Z_=new gt(ve.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Gl{constructor(e,n,i,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Gl(e,n,xl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class h4{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Ie(n),l=a.queries;a.queries=Iw(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function Iw(){return new vo(t=>EA(t),tm)}async function t1(t,e){const n=Ie(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new c4,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=Jv(c,`Initialization of query '${yl(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&Zv(n)}async function n1(t,e){const n=Ie(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function f4(t,e){const n=Ie(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&Zv(n)}function d4(t,e,n){const i=Ie(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function Zv(t){t.ia.forEach(e=>{e.next()})}var Ny,Cw;(Cw=Ny||(Ny={}))._a="default",Cw.Cache="cache";class r1{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Gl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class m4{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=TA(e),this.wa=new xl(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new Rw,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const w=a.get(y),x=nm(this.query,_)?_:null,I=!!w&&this.mutatedKeys.has(w.key),D=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;w&&x?w.data.isEqual(x.data)?I!==D&&(i.track({type:3,doc:x}),N=!0):this.va(w,x)||(i.track({type:2,doc:x}),N=!0,(m&&this.ya(x,m)>0||p&&this.ya(x,p)<0)&&(d=!0)):!w&&x?(i.track({type:0,doc:x}),N=!0):w&&!x&&(i.track({type:1,doc:w}),N=!0,(m||p)&&(d=!0)),N&&(x?(c=c.add(x),l=D?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,_)=>function(x,I){const D=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return D(x)-D(I)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),a=a!=null&&a;const d=n&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new Gl(this.query,e.wa,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new s1(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new i1(i))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Gl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const e_="SyncEngine";class p4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class g4{constructor(e){this.key=e,this.Ba=!1}}class y4{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new vo(d=>EA(d),tm),this.qa=new Map,this.Qa=new Set,this.$a=new gt(ve.comparator),this.Ua=new Map,this.Ka=new Fv,this.Wa={},this.Ga=new Map,this.za=Hl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function v4(t,e,n=!0){const i=h1(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await a1(i,e,n,!0),a}async function _4(t,e){const n=h1(t);await a1(n,e,!0,!1)}async function a1(t,e,n,i){const a=await jM(t.localStore,ei(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await b4(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&YA(t.remoteStore,a),d}async function b4(t,e,n,i,a){t.Ha=(_,w,x)=>async function(D,N,V,z){let P=N.view.ba(V);P.ls&&(P=await Ew(D.localStore,N.query,!1).then(({documents:O})=>N.view.ba(O,P)));const H=z&&z.targetChanges.get(N.targetId),W=z&&z.targetMismatches.get(N.targetId)!=null,ie=N.view.applyChanges(P,D.isPrimaryClient,H,W);return Ow(D,N.targetId,ie.Ma),ie.snapshot}(t,_,w,x);const l=await Ew(t.localStore,e,!0),c=new m4(e,l.gs),d=c.ba(l.documents),m=ih.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);Ow(t,n,p.Ma);const y=new p4(e,n,c);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function E4(t,e,n){const i=Ie(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!tm(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Iy(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&$v(i.remoteStore,a.targetId),Oy(i,a.targetId)}).catch(Jl)):(Oy(i,a.targetId),await Iy(i.localStore,a.targetId,!0))}async function T4(t,e){const n=Ie(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$v(n.remoteStore,i.targetId))}async function w4(t,e,n){const i=N4(t);try{const a=await function(c,d){const m=Ie(c),p=jt.now(),y=d.reduce((x,I)=>x.add(I.key),Ve());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let I=Gi(),D=Ve();return m.ds.getEntries(x,y).next(N=>{I=N,I.forEach((V,z)=>{z.isValidDocument()||(D=D.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,I)).next(N=>{_=N;const V=[];for(const z of d){const P=jk(z,_.get(z.key).overlayedDocument);P!=null&&V.push(new ra(z.key,P,mA(P.value.mapValue),or.exists(!0)))}return m.mutationQueue.addMutationBatch(x,p,V,d)}).next(N=>{w=N;const V=N.applyToLocalDocumentSet(_,D);return m.documentOverlayCache.saveOverlays(x,N.batchId,V)})}).then(()=>({batchId:w.batchId,changes:SA(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new gt(Oe)),p=p.insert(d,m),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,n),await ah(i,a.changes),await lm(i.remoteStore)}catch(a){const l=Jv(a,"Failed to persist write");n.reject(l)}}async function o1(t,e){const n=Ie(t);try{const i=await LM(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?We(c.Ba):a.removedDocuments.size>0&&(We(c.Ba),c.Ba=!1))}),await ah(n,i,e)}catch(i){await Jl(i)}}function Nw(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ie(c);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const w of _.ta)w.sa(d)&&(p=!0)}),p&&Zv(m)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function S4(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new gt(ve.comparator);c=c.insert(l,fn.newNoDocument(l,Re.min()));const d=Ve().add(l),m=new sm(Re.min(),new Map,new gt(Oe),c,d);await o1(i,m),i.$a=i.$a.remove(l),i.Ua.delete(e),t_(i)}else await Iy(i.localStore,e,!1).then(()=>Oy(i,e,n)).catch(Jl)}async function x4(t,e){const n=Ie(t),i=e.batch.batchId;try{const a=await MM(n.localStore,e);u1(n,i,null),l1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ah(n,a)}catch(a){await Jl(a)}}async function A4(t,e,n){const i=Ie(t);try{const a=await function(c,d){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(We(_!==null),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(i.localStore,e);u1(i,e,n),l1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ah(i,a)}catch(a){await Jl(a)}}function l1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function u1(t,e,n){const i=Ie(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||c1(t,i)})}function c1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&($v(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),t_(t))}function Ow(t,e,n){for(const i of n)i instanceof i1?(t.Ka.addReference(i.key,e),R4(t,i)):i instanceof s1?(de(e_,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||c1(t,i.key)):xe()}function R4(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(de(e_,"New document in limbo: "+n),t.Qa.add(i),t_(t))}function t_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ve(ut.fromString(e)),i=t.za.next();t.Ua.set(i,new g4(n)),t.$a=t.$a.insert(n,i),YA(t.remoteStore,new zs(ei(Lv(n.path)),i,"TargetPurposeLimboResolution",Wd.ae))}}async function ah(t,e,n){const i=Ie(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,n).then(p=>{var y;if((p||n)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Gv.Yi(m.targetId,p);l.push(_)}}))}),await Promise.all(c),i.La.p_(a),await async function(m,p){const y=Ie(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ae.forEach(p,w=>ae.forEach(w.Hi,x=>y.persistence.referenceDelegate.addReference(_,w.targetId,x)).next(()=>ae.forEach(w.Ji,x=>y.persistence.referenceDelegate.removeReference(_,w.targetId,x)))))}catch(_){if(!Zl(_))throw _;de(Qv,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const x=y.Ts.get(w),I=x.snapshotVersion,D=x.withLastLimboFreeSnapshotVersion(I);y.Ts=y.Ts.insert(w,D)}}}(i.localStore,l))}async function I4(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){de(e_,"User change. New user:",e.toKey());const i=await GA(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new fe(ne.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ah(n,i.Rs)}}function C4(t,e){const n=Ie(t),i=n.Ua.get(e);if(i&&i.Ba)return Ve().add(i.key);{let a=Ve();const l=n.qa.get(e);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function h1(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S4.bind(null,e),e.La.p_=f4.bind(null,e.eventManager),e.La.Ja=d4.bind(null,e.eventManager),e}function N4(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A4.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return kM(this.persistence,new OM,e.initialUser,this.serializer)}Xa(e){return new HA(Hv.ri,this.serializer)}Za(e){return new BM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class O4 extends Dd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){We(this.persistence.referenceDelegate instanceof Nd);const i=this.persistence.referenceDelegate.garbageCollector;return new gM(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new HA(i=>Nd.ri(i,n),this.serializer)}}class Dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Nw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=I4.bind(null,this.syncEngine),await u4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h4}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),i=function(l){return new QM(l)}(e.databaseInfo);return function(l,c,d,m){return new XM(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,d){return new JM(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Nw(this.syncEngine,n,0),function(){return Sw.D()?new Sw:new qM}())}createSyncEngine(e,n){return function(a,l,c,d,m,p,y){const _=new y4(a,l,c,d,m,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Ie(a);de(ao,"RemoteStore shutting down."),l.W_.add(5),await sh(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dy.provider={build:()=>new Dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class D4{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=iA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{de(Js,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(Js,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Jv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Yg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await GA(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P4(t);de(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Aw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>Aw(e.remoteStore,a)),t._onlineComponents=e}async function P4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Js,"Using user provided OfflineComponentProvider");try{await Yg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;jl("Error using user provided cache. Falling back to memory cache: "+n),await Yg(t,new Dd)}}else de(Js,"Using default OfflineComponentProvider"),await Yg(t,new O4(void 0));return t._offlineComponents}async function d1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Js,"Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(de(Js,"Using default OnlineComponentProvider"),await Dw(t,new Dy))),t._onlineComponents}function k4(t){return d1(t).then(e=>e.syncEngine)}async function m1(t){const e=await d1(t),n=e.eventManager;return n.onListen=v4.bind(null,e.syncEngine),n.onUnlisten=E4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=T4.bind(null,e.syncEngine),n}function M4(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new f1({next:w=>{y.su(),c.enqueueAndForget(()=>n1(l,_));const x=w.docs.has(d);!x&&w.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&m&&m.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new r1(Lv(d.path),y,{includeMetadataChanges:!0,Ta:!0});return t1(l,_)}(await m1(t),t.asyncQueue,e,n,i)),i.promise}function L4(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new f1({next:w=>{y.su(),c.enqueueAndForget(()=>n1(l,_)),w.fromCache&&m.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new r1(d,y,{includeMetadataChanges:!0,Ta:!0});return t1(l,_)}(await m1(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function U4(t,e,n,i){if(e===!0&&i===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kw(t){if(!ve.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mw(t){if(ve.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firestore.googleapis.com",Lw=!0;class Uw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y1,this.ssl=Lw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Lw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mM)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new HP;switch(i.type){case"firstParty":return new KP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Pw.get(n);i&&(de("ComponentProvider","Removing Datastore"),Pw.delete(n),i.terminate())}(this),Promise.resolve()}}function V4(t,e,n,i={}){var a;const l=(t=xr(t,cm))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==y1&&l.host!==d&&jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!to(m,c)&&(t._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=hn.MOCK_USER;else{p=ox(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new hn(_)}t._authCredentials=new GP(new nA(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=class v1{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new v1(this.firestore,e,this._query)}};class Tn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Hs extends bo{constructor(e,n,i){super(e,n,Lv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ve(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function si(t,e,...n){if(t=at(t),g1("collection","path",e),t instanceof cm){const i=ut.fromString(e,...n);return Mw(i),new Hs(t,null,i)}{if(!(t instanceof Tn||t instanceof Hs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return Mw(i),new Hs(t.firestore,null,i)}}function wn(t,e,...n){if(t=at(t),arguments.length===1&&(e=iA.newId()),g1("doc","path",e),t instanceof cm){const i=ut.fromString(e,...n);return kw(i),new Tn(t,null,new ve(i))}{if(!(t instanceof Tn||t instanceof Hs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return kw(i),new Tn(t.firestore,t instanceof Hs?t.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class jw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $A(this,"async_queue_retry"),this.Su=()=>{const i=Kg();i&&de(Vw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=Kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Zl(e))throw e;de(Vw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Hi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=Wv.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Eo extends cm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new jw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jw(e),this._firestoreClient=void 0,await e}}}function j4(t,e){const n=typeof t=="object"?t:bv(),i=typeof t=="string"?t:Sd,a=$d(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=ix("firestore");l&&V4(a,...l)}return a}function n_(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||z4(t),t._firestoreClient}function z4(t){var e,n,i;const a=t._freezeSettings(),l=function(d,m,p,y){return new uk(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,p1(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new D4(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(rn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=/^__.*__$/;class q4{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new rh(e,this.data,n,this.fieldTransforms)}}class _1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class s_{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new s_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Pd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(b1(this.Lu)&&B4.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class F4{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||am(e)}ju(e,n,i,a=!1){return new s_({Lu:e,methodName:n,zu:i,path:nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oh(t){const e=t._freezeSettings(),n=am(t._databaseId);return new F4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E1(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);o_("Data must be an object, but it was:",c,i);const d=w1(i,c);let m,p;if(l.merge)m=new Bn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const w=Py(e,_,n);if(!c.contains(w))throw new fe(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);x1(y,w)||y.push(w)}m=new Bn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new q4(new Nn(d),m,p)}class dm extends fm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dm}}class a_ extends fm{_toFieldTransform(e){return new Mk(e.path,new Lc)}isEqual(e){return e instanceof a_}}function H4(t,e,n,i){const a=t.ju(1,e,n);o_("Data must be an object, but it was:",a,i);const l=[],c=Nn.empty();na(i,(m,p)=>{const y=l_(e,m,n);p=at(p);const _=a.Uu(y);if(p instanceof dm)l.push(y);else{const w=lh(p,_);w!=null&&(l.push(y),c.set(y,w))}});const d=new Bn(l);return new _1(c,d,a.fieldTransforms)}function G4(t,e,n,i,a,l){const c=t.ju(1,e,n),d=[Py(e,i,n)],m=[a];if(l.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Py(e,l[w])),m.push(l[w+1]);const p=[],y=Nn.empty();for(let w=d.length-1;w>=0;--w)if(!x1(p,d[w])){const x=d[w];let I=m[w];I=at(I);const D=c.Uu(x);if(I instanceof dm)p.push(x);else{const N=lh(I,D);N!=null&&(p.push(x),y.set(x,N))}}const _=new Bn(p);return new _1(y,_,c.fieldTransforms)}function T1(t,e,n,i=!1){return lh(n,t.ju(i?4:3,e))}function lh(t,e){if(S1(t=at(t)))return o_("Unsupported field value:",e,t),w1(t,e);if(t instanceof fm)return function(i,a){if(!b1(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=lh(d,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=at(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Dk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=jt.fromDate(i);return{timestampValue:Cd(a.serializer,l)}}if(i instanceof jt){const l=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cd(a.serializer,l)}}if(i instanceof r_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ql)return{bytesValue:LA(a.serializer,i._byteString)};if(i instanceof Tn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof i_)return function(c,d){return{mapValue:{fields:{[fA]:{stringValue:dA},[xd]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Vv(d.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${um(i)}`)}(t,e)}function w1(t,e){const n={};return aA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,(i,a)=>{const l=lh(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function S1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof r_||t instanceof Ql||t instanceof Tn||t instanceof fm||t instanceof i_)}function o_(t,e,n){if(!S1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=um(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Py(t,e,n){if((e=at(e))instanceof hm)return e._internalPath;if(typeof e=="string")return l_(t,e);throw Pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q4=new RegExp("[~\\*/\\[\\]]");function l_(t,e,n){if(e.search(Q4)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hm(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pd(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new fe(ne.INVALID_ARGUMENT,d+t+m)}function x1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $4 extends u_{data(){return super.data()}}function mm(t,e){return typeof e=="string"?l_(t,e):e instanceof hm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c_{}class pm extends c_{}function Zs(t,e,...n){let i=[];e instanceof c_&&i.push(e),i=i.concat(n),function(l){const c=l.filter(m=>m instanceof h_).length,d=l.filter(m=>m instanceof gm).length;if(c>1||c>0&&d>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class gm extends pm{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new gm(e,n,i)}_apply(e){const n=this._parse(e);return A1(e._query,n),new bo(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=oh(e.firestore);return function(l,c,d,m,p,y,_){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Fw(_,y);const I=[];for(const D of _)I.push(qw(m,l,D));w={arrayValue:{values:I}}}else w=qw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Fw(_,y),w=T1(d,c,_,y==="in"||y==="not-in");return Dt.create(p,y,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oo(t,e,n){const i=e,a=mm("where",t);return gm._create(a,i,n)}class h_ extends c_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new h_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)A1(c,m),c=wy(c,m)}(e._query,n),new bo(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class f_ extends pm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new f_(e,n)}_apply(e){const n=function(a,l,c){if(a.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(l,c)}(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new yo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function zw(t,e="asc"){const n=e,i=mm("orderBy",t);return f_._create(i,n)}class d_ extends pm{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new d_(e,n,i)}_apply(e){return new bo(e.firestore,e.converter,Rd(e._query,this._limit,this._limitType))}}function Bw(t){return d_._create("limit",t,"F")}class m_ extends pm{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new m_(e,n,i)}_apply(e){const n=X4(e,this.type,this._docOrFields,this._inclusive);return new bo(e.firestore,e.converter,function(a,l){return new yo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(e._query,n))}}function Y4(...t){return m_._create("startAfter",t,!1)}function X4(t,e,n,i){if(n[0]=at(n[0]),n[0]instanceof u_)return function(l,c,d,m,p){if(!m)throw new fe(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const y=[];for(const _ of Sl(l))if(_.field.isKeyField())y.push(Ad(c,m.key));else{const w=m.data.field(_.field);if(Zd(w))throw new fe(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const x=_.field.canonicalString();throw new fe(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}y.push(w)}return new Fl(y,p)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const a=oh(t.firestore);return function(c,d,m,p,y,_){const w=c.explicitOrderBy;if(y.length>w.length)throw new fe(ne.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let I=0;I<y.length;I++){const D=y[I];if(w[I].field.isKeyField()){if(typeof D!="string")throw new fe(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof D}`);if(!Uv(c)&&D.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${D}' contains a slash.`);const N=c.path.child(ut.fromString(D));if(!ve.isDocumentKey(N))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const V=new ve(N);x.push(Ad(d,V))}else{const N=T1(m,p,D);x.push(N)}}return new Fl(x,_)}(t._query,t.firestore._databaseId,a,e,n,i)}}function qw(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uv(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!ve.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ad(t,new ve(i))}if(n instanceof Tn)return Ad(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${um(n)}.`)}function Fw(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A1(t,e){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class W4{convertValue(e,n="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return na(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[xd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>At(c.doubleValue));return new i_(l)}convertGeoPoint(e){return new r_(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=em(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);We(qA(i));const a=new Pc(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return a.isEqual(n)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class I1 extends u_{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(mm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class ud extends I1{data(e={}){return super.data(e)}}class J4{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new bc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ud(this._firestore,this._userDataWriter,i.key,i,new bc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new ud(a._firestore,a._userDataWriter,d.doc.key,d.doc,new bc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new ud(a._firestore,a._userDataWriter,d.doc.key,d.doc,new bc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Z4(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){t=xr(t,Tn);const e=xr(t.firestore,Eo);return M4(n_(e),t._key).then(n=>tL(e,t,n))}class C1 extends W4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function wo(t){t=xr(t,bo);const e=xr(t.firestore,Eo),n=n_(e),i=new C1(e);return K4(t._query),L4(n,t._query).then(a=>new J4(e,i,t,a))}function p_(t,e,n){t=xr(t,Tn);const i=xr(t.firestore,Eo),a=R1(t.converter,e,n);return ym(i,[E1(oh(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,or.none())])}function eL(t,e,n,...i){t=xr(t,Tn);const a=xr(t.firestore,Eo),l=oh(a);let c;return c=typeof(e=at(e))=="string"||e instanceof hm?G4(l,"updateDoc",t._key,e,n,i):H4(l,"updateDoc",t._key,e),ym(a,[c.toMutation(t._key,or.exists(!0))])}function g_(t){return ym(xr(t.firestore,Eo),[new jv(t._key,or.none())])}function y_(t,e){const n=xr(t.firestore,Eo),i=wn(t),a=R1(t.converter,e);return ym(n,[E1(oh(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}function ym(t,e){return function(i,a){const l=new ji;return i.asyncQueue.enqueueAndForget(async()=>w4(await k4(i),a,l)),l.promise}(n_(t),e)}function tL(t,e,n){const i=n.docs.get(e._key),a=new C1(t);return new I1(t,a,e._key,i,new bc(n.hasPendingWrites,n.fromCache),e.converter)}function vm(){return new a_("serverTimestamp")}(function(e,n=!0){(function(a){Wl=a})(mo),no(new Qs("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Eo(new QP(i.getProvider("auth-internal")),new YP(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Wr(GT,QT,e),Wr(GT,QT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebasestorage.googleapis.com",O1="storageBucket",nL=2*60*1e3,rL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends ri{constructor(e,n,i=0){super(Xg(e),`Firebase Storage: ${n} (${Xg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function Xg(t){return"storage/"+t}function v_(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt(Et.UNKNOWN,t)}function iL(t){return new Tt(Et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sL(t){return new Tt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(Et.UNAUTHENTICATED,t)}function oL(){return new Tt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lL(t){return new Tt(Et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uL(){return new Tt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cL(){return new Tt(Et.CANCELED,"User canceled the upload/download.")}function hL(t){return new Tt(Et.INVALID_URL,"Invalid URL '"+t+"'.")}function fL(t){return new Tt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dL(){return new Tt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+O1+"' property when initializing the app?")}function mL(){return new Tt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pL(){return new Tt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gL(t){return new Tt(Et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ky(t){return new Tt(Et.INVALID_ARGUMENT,t)}function D1(){return new Tt(Et.APP_DELETED,"The Firebase app was deleted.")}function yL(t){return new Tt(Et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rc(t,e){return new Tt(Et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dc(t){throw new Tt(Et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=qn.makeFromUrl(e,n)}catch{return new qn(e,"")}if(i.path==="")return i;throw fL(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${y}/b/${a}/o${w}`,"i"),I={bucket:1,path:3},D=n===N1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",V=new RegExp(`^https?://${D}/${a}/${N}`,"i"),P=[{regex:d,indices:m,postModify:l},{regex:x,indices:I,postModify:p},{regex:V,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<P.length;H++){const W=P[H],ie=W.regex.exec(e);if(ie){const O=ie[W.indices.bucket];let A=ie[W.indices.path];A||(A=""),i=new qn(O,A),W.postModify(i);break}}if(i==null)throw hL(e);return i}}class vL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function y(...N){p||(p=!0,e.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,t(x,m())},N)}function w(){l&&clearTimeout(l)}function x(N,...V){if(p){w();return}if(N){w(),y.call(null,N,...V);return}if(m()||c){w(),y.call(null,N,...V);return}i<64&&(i*=2);let P;d===1?(d=2,P=0):P=(i+Math.random())*1e3,_(P)}let I=!1;function D(N){I||(I=!0,w(),!p&&(a!==null?(N||(d=2),clearTimeout(a),_(0)):N||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,D(!0)},n),D}function bL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){return t!==void 0}function TL(t){return typeof t=="object"&&!Array.isArray(t)}function __(t){return typeof t=="string"||t instanceof String}function Hw(t){return b_()&&t instanceof Blob}function b_(){return typeof Blob<"u"}function Gw(t,e,n,i){if(i<e)throw ky(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw ky(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function P1(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Za;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Za||(Za={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,i,a,l,c,d,m,p,y,_,w=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,I)=>{this.resolve_=x,this.reject_=I,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Gf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Za.NO_ERROR,m=l.getStatus();if(!d||wL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Za.ABORT;i(!1,new Gf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;i(!0,new Gf(p,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());EL(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=v_();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?D1():cL();c(m)}else{const m=uL();c(m)}};this.canceled_?n(!1,new Gf(!1,null,!0)):this.backoffId_=_L(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function xL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function IL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CL(t,e,n,i,a,l,c=!0){const d=P1(t.urlParams),m=t.url+d,p=Object.assign({},t.headers);return RL(p,e),xL(p,n),AL(p,l),IL(p,i),new SL(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OL(...t){const e=NL();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(b_())return new Blob(t);throw new Tt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){if(typeof atob>"u")throw gL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wg{constructor(e,n){this.data=e,this.contentType=n||null}}function kL(t,e){switch(t){case Xr.RAW:return new Wg(k1(e));case Xr.BASE64:case Xr.BASE64URL:return new Wg(M1(t,e));case Xr.DATA_URL:return new Wg(LL(e),UL(e))}throw v_()}function k1(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function ML(t){let e;try{e=decodeURIComponent(t)}catch{throw Rc(Xr.DATA_URL,"Malformed data URL.")}return k1(e)}function M1(t,e){switch(t){case Xr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Rc(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Rc(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=PL(e)}catch(a){throw a.message.includes("polyfill")?a:Rc(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class L1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rc(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=VL(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function LL(t){const e=new L1(t);return e.base64?M1(Xr.BASE64,e.rest):ML(e.rest)}function UL(t){return new L1(t).contentType}function VL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){let i=0,a="";Hw(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(Hw(this.data_)){const i=this.data_,a=DL(i,e,n);return a===null?null:new Os(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Os(i,!0)}}static getBlob(...e){if(b_()){const n=e.map(i=>i instanceof Os?i.data_:i);return new Os(OL.apply(null,n))}else{const n=e.map(c=>__(c)?kL(Xr.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Os(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){let e;try{e=JSON.parse(t)}catch{return null}return TL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zL(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function V1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e){return e}class vn{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||BL}}let Qf=null;function qL(t){return!__(t)||t.length<2?t:V1(t)}function j1(){if(Qf)return Qf;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(l,c){return qL(c)}const n=new vn("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new vn("size");return a.xform=i,t.push(a),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),Qf=t,Qf}function FL(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new qn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function HL(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return FL(i,t),i}function z1(t,e,n){const i=U1(e);return i===null?null:HL(t,i,n)}function GL(t,e,n,i){const a=U1(e);if(a===null||!__(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=t.bucket,_=t.fullPath,w="/b/"+c(y)+"/o/"+c(_),x=E_(w,n,i),I=P1({alt:"media",token:p});return x+I})[0]}function QL(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class B1{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){if(!t)throw v_()}function $L(t,e){function n(i,a){const l=z1(t,a,e);return q1(l!==null),l}return n}function KL(t,e){function n(i,a){const l=z1(t,a,e);return q1(l!==null),GL(l,a,t.host,t._protocol)}return n}function F1(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=oL():a=aL():n.getStatus()===402?a=sL(t.bucket):n.getStatus()===403?a=lL(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function YL(t){const e=F1(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=iL(t.path)),l.serverResponse=a.serverResponse,l}return n}function XL(t,e,n){const i=e.fullServerUrl(),a=E_(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new B1(a,l,KL(t,n),c);return d.errorHandler=YL(e),d}function WL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JL(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=WL(null,e)),i}function ZL(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let P="";for(let H=0;H<2;H++)P=P+Math.random().toString().slice(2);return P}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const p=JL(e,i,a),y=QL(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+m+"--",x=Os.getBlob(_,i,w);if(x===null)throw mL();const I={name:p.fullPath},D=E_(l,t.host,t._protocol),N="POST",V=t.maxUploadRetryTime,z=new B1(D,N,$L(t,n),V);return z.urlParams=I,z.headers=c,z.body=x.uploadData(),z.errorHandler=F1(e),z}class e3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a){if(this.sent_)throw dc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t3 extends e3{initXhr(){this.xhr_.responseType="text"}}function H1(){return new t3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this._service=e,n instanceof qn?this._location=n:this._location=qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lo(e,n)}get root(){const e=new qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V1(this._location.path)}get storage(){return this._service}get parent(){const e=jL(this._location.path);if(e===null)return null;const n=new qn(this._location.bucket,e);return new lo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yL(e)}}function n3(t,e,n){t._throwIfRoot("uploadBytes");const i=ZL(t.storage,t._location,j1(),new Os(e,!0),n);return t.storage.makeRequestWithTokens(i,H1).then(a=>({metadata:a,ref:t}))}function r3(t){t._throwIfRoot("getDownloadURL");const e=XL(t.storage,t._location,j1());return t.storage.makeRequestWithTokens(e,H1).then(n=>{if(n===null)throw pL();return n})}function i3(t,e){const n=zL(t._location.path,e),i=new qn(t._location.bucket,n);return new lo(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){return/^[A-Za-z]+:\/\//.test(t)}function a3(t,e){return new lo(t,e)}function G1(t,e){if(t instanceof T_){const n=t;if(n._bucket==null)throw dL();const i=new lo(n,n._bucket);return e!=null?G1(i,e):i}else return e!==void 0?i3(t,e):t}function o3(t,e){if(e&&s3(e)){if(t instanceof T_)return a3(t,e);throw ky("To use ref(service, url), the first argument must be a Storage instance.")}else return G1(t,e)}function Qw(t,e){const n=e==null?void 0:e[O1];return n==null?null:qn.makeFromBucketSpec(n,t)}function l3(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:ox(a,t.app.options.projectId))}class T_{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=N1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nL,this._maxUploadRetryTime=rL,this._requests=new Set,a!=null?this._bucket=qn.makeFromBucketSpec(a,this._host):this._bucket=Qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qn.makeFromBucketSpec(this._url,e):this._bucket=Qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lo(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new vL(D1());{const c=CL(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const $w="@firebase/storage",Kw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="storage";function u3(t,e,n){return t=at(t),n3(t,e,n)}function c3(t){return t=at(t),r3(t)}function h3(t,e){return t=at(t),o3(t,e)}function f3(t=bv(),e){t=at(t);const i=$d(t,Q1).getImmediate({identifier:e}),a=ix("storage");return a&&d3(i,...a),i}function d3(t,e,n,i={}){l3(t,e,n,i)}function m3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new T_(n,i,a,e,mo)}function p3(){no(new Qs(Q1,m3,"PUBLIC").setMultipleInstances(!0)),Wr($w,Kw,""),Wr($w,Kw,"esm2017")}p3();const g3={apiKey:"AIzaSyC7NsDb66GfmlCGzbMBU-S2KwQiy2vkjNI",authDomain:"freelancerbox-a7f4f.firebaseapp.com",projectId:"freelancerbox-a7f4f",storageBucket:"freelancerbox-a7f4f.appspot.com",messagingSenderId:"994204511794",appId:"1:994204511794:web:ec0cb5a9532167ce93162b",measurementId:"G-E3WGGPRGRM"},w_=cx(g3),Fn=Nv(w_),mt=j4(w_),y3=f3(w_);var $1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yw=Qe.createContext&&Qe.createContext($1),v3=["attr","size","title"];function _3(t,e){if(t==null)return{};var n=b3(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function b3(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kd.apply(this,arguments)}function Xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Md(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(n),!0).forEach(function(i){E3(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function E3(t,e,n){return e=T3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T3(t){var e=w3(t,"string");return typeof e=="symbol"?e:e+""}function w3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K1(t){return t&&t.map((e,n)=>Qe.createElement(e.tag,Md({key:n},e.attr),K1(e.child)))}function Yi(t){return e=>Qe.createElement(S3,kd({attr:Md({},t.attr)},e),K1(t.child))}function S3(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=_3(t,v3),d=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Qe.createElement("svg",kd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:m,style:Md(Md({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Qe.createElement("title",null,l),t.children)};return Yw!==void 0?Qe.createElement(Yw.Consumer,null,n=>e(n)):e($1)}function x3(t){return Yi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6h16"},child:[]},{tag:"path",attr:{d:"M7 12h13"},child:[]},{tag:"path",attr:{d:"M10 18h10"},child:[]}]})(t)}const A3=async(t,e,n)=>{try{const a=(await SD(Fn,t,e)).user;return await AD(a),await p_(wn(mt,"users",a.uid),{email:a.email,type:n,createdAt:vm()}),a}catch(i){throw new Error(i.message)}},R3=async(t,e)=>{try{return(await xD(Fn,t,e)).user}catch(n){throw new Error(n.message)}},Y1=async()=>{try{await jx(Fn)}catch(t){console.error("Error logging out:",t.message)}},I3=t=>th(Fn,e=>{t(e)});var Jg={exports:{}},Zg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function C3(){if(Ww)return Zg;Ww=1;var t=Fd();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Zg.useSyncExternalStoreWithSelector=function(m,p,y,_,w){var x=a(null);if(x.current===null){var I={hasValue:!1,value:null};x.current=I}else I=x.current;x=c(function(){function N(W){if(!V){if(V=!0,z=W,W=_(W),w!==void 0&&I.hasValue){var ie=I.value;if(w(ie,W))return P=ie}return P=W}if(ie=P,n(z,W))return ie;var O=_(W);return w!==void 0&&w(ie,O)?(z=W,ie):(z=W,P=O)}var V=!1,z,P,H=y===void 0?null:y;return[function(){return N(p())},H===null?void 0:function(){return N(H())}]},[p,y,_,w]);var D=i(m,x[0],x[1]);return l(function(){I.hasValue=!0,I.value=D},[D]),d(D),D},Zg}var Jw;function N3(){return Jw||(Jw=1,Jg.exports=C3()),Jg.exports}var O3=N3();function D3(t){t()}function P3(){let t=null,e=null;return{clear(){t=null,e=null},notify(){D3(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Zw={notify(){},get:()=>[]};function k3(t,e){let n,i=Zw,a=0,l=!1;function c(D){y();const N=i.subscribe(D);let V=!1;return()=>{V||(V=!0,N(),_())}}function d(){i.notify()}function m(){I.onStateChange&&I.onStateChange()}function p(){return l}function y(){a++,n||(n=t.subscribe(m),i=P3())}function _(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=Zw)}function w(){l||(l=!0,y())}function x(){l&&(l=!1,_())}const I={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:p,trySubscribe:w,tryUnsubscribe:x,getListeners:()=>i};return I}var M3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L3=M3(),U3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",V3=U3(),j3=()=>L3||V3?L.useLayoutEffect:L.useEffect,z3=j3(),ey=Symbol.for("react-redux-context"),ty=typeof globalThis<"u"?globalThis:{};function B3(){if(!L.createContext)return{};const t=ty[ey]??(ty[ey]=new Map);let e=t.get(L.createContext);return e||(e=L.createContext(null),t.set(L.createContext,e)),e}var ea=B3();function q3(t){const{children:e,context:n,serverState:i,store:a}=t,l=L.useMemo(()=>{const m=k3(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),c=L.useMemo(()=>a.getState(),[a]);z3(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||ea;return L.createElement(d.Provider,{value:l},e)}var F3=q3;function S_(t=ea){return function(){return L.useContext(t)}}var X1=S_();function W1(t=ea){const e=t===ea?X1:S_(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var H3=W1();function G3(t=ea){const e=t===ea?H3:W1(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var ur=G3(),Q3=(t,e)=>t===e;function $3(t=ea){const e=t===ea?X1:S_(t),n=(i,a={})=>{const{equalityFn:l=Q3}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:p}=c;L.useRef(!0);const y=L.useCallback({[i.name](w){return i(w)}}[i.name],[i]),_=O3.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,p||d.getState,y,l);return L.useDebugValue(_),_};return Object.assign(n,{withTypes:()=>n}),n}var Ar=$3();function Zt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var K3=typeof Symbol=="function"&&Symbol.observable||"@@observable",eS=K3,ny=()=>Math.random().toString(36).substring(7).split("").join("."),Y3={INIT:`@@redux/INIT${ny()}`,REPLACE:`@@redux/REPLACE${ny()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ny()}`},Ld=Y3;function x_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function A_(t,e,n){if(typeof t!="function")throw new Error(Zt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(A_)(t,e)}let i=t,a=e,l=new Map,c=l,d=0,m=!1;function p(){c===l&&(c=new Map,l.forEach((N,V)=>{c.set(V,N)}))}function y(){if(m)throw new Error(Zt(3));return a}function _(N){if(typeof N!="function")throw new Error(Zt(4));if(m)throw new Error(Zt(5));let V=!0;p();const z=d++;return c.set(z,N),function(){if(V){if(m)throw new Error(Zt(6));V=!1,p(),c.delete(z),l=null}}}function w(N){if(!x_(N))throw new Error(Zt(7));if(typeof N.type>"u")throw new Error(Zt(8));if(typeof N.type!="string")throw new Error(Zt(17));if(m)throw new Error(Zt(9));try{m=!0,a=i(a,N)}finally{m=!1}return(l=c).forEach(z=>{z()}),N}function x(N){if(typeof N!="function")throw new Error(Zt(10));i=N,w({type:Ld.REPLACE})}function I(){const N=_;return{subscribe(V){if(typeof V!="object"||V===null)throw new Error(Zt(11));function z(){const H=V;H.next&&H.next(y())}return z(),{unsubscribe:N(z)}},[eS](){return this}}}return w({type:Ld.INIT}),{dispatch:w,subscribe:_,getState:y,replaceReducer:x,[eS]:I}}function X3(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Ld.INIT})>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:Ld.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function J1(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const i=Object.keys(n);let a;try{X3(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const p={};for(let y=0;y<i.length;y++){const _=i[y],w=n[_],x=c[_],I=w(x,d);if(typeof I>"u")throw d&&d.type,new Error(Zt(14));p[_]=I,m=m||I!==x}return m=m||i.length!==Object.keys(c).length,m?p:c}}function Ud(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function W3(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(Zt(15))};const c={getState:a.getState,dispatch:(m,...p)=>l(m,...p)},d=t.map(m=>m(c));return l=Ud(...d)(a.dispatch),{...a,dispatch:l}}}function J3(t){return x_(t)&&"type"in t&&typeof t.type=="string"}var Z1=Symbol.for("immer-nothing"),tS=Symbol.for("immer-draftable"),Hn=Symbol.for("immer-state");function br(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var $l=Object.getPrototypeOf;function uo(t){return!!t&&!!t[Hn]}function Qi(t){var e;return t?eR(t)||Array.isArray(t)||!!t[tS]||!!((e=t.constructor)!=null&&e[tS])||bm(t)||Em(t):!1}var Z3=Object.prototype.constructor.toString();function eR(t){if(!t||typeof t!="object")return!1;const e=$l(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Z3}function Vd(t,e){_m(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function _m(t){const e=t[Hn];return e?e.type_:Array.isArray(t)?1:bm(t)?2:Em(t)?3:0}function My(t,e){return _m(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tR(t,e,n){const i=_m(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function eU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bm(t){return t instanceof Map}function Em(t){return t instanceof Set}function qa(t){return t.copy_||t.base_}function Ly(t,e){if(bm(t))return new Map(t);if(Em(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=eR(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Hn];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create($l(t),i)}else{const i=$l(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function R_(t,e=!1){return Tm(t)||uo(t)||!Qi(t)||(_m(t)>1&&(t.set=t.add=t.clear=t.delete=tU),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>R_(i,!0))),t}function tU(){br(2)}function Tm(t){return Object.isFrozen(t)}var nU={};function co(t){const e=nU[t];return e||br(0,t),e}var jc;function nR(){return jc}function rU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nS(t,e){e&&(co("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Uy(t){Vy(t),t.drafts_.forEach(iU),t.drafts_=null}function Vy(t){t===jc&&(jc=t.parent_)}function rS(t){return jc=rU(jc,t)}function iU(t){const e=t[Hn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Hn].modified_&&(Uy(e),br(4)),Qi(t)&&(t=jd(e,t),e.parent_||zd(e,t)),e.patches_&&co("Patches").generateReplacementPatches_(n[Hn].base_,t,e.patches_,e.inversePatches_)):t=jd(e,n,[]),Uy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Z1?t:void 0}function jd(t,e,n){if(Tm(e))return e;const i=e[Hn];if(!i)return Vd(e,(a,l)=>sS(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return zd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),Vd(l,(d,m)=>sS(t,i,a,d,m,n,c)),zd(t,a,!1),n&&t.patches_&&co("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function sS(t,e,n,i,a,l,c){if(uo(a)){const d=l&&e&&e.type_!==3&&!My(e.assigned_,i)?l.concat(i):void 0,m=jd(t,a,d);if(tR(n,i,m),uo(m))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Qi(a)&&!Tm(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;jd(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&zd(t,a)}}function zd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&R_(e,n)}function sU(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:nR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=I_;n&&(a=[i],l=zc);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return i.draft_=d,i.revoke_=c,d}var I_={get(t,e){if(e===Hn)return t;const n=qa(t);if(!My(n,e))return aU(t,n,e);const i=n[e];return t.finalized_||!Qi(i)?i:i===ry(t.base_,e)?(iy(t),t.copy_[e]=zy(i,t)):i},has(t,e){return e in qa(t)},ownKeys(t){return Reflect.ownKeys(qa(t))},set(t,e,n){const i=rR(qa(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=ry(qa(t),e),l=a==null?void 0:a[Hn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(eU(n,a)&&(n!==void 0||My(t.base_,e)))return!0;iy(t),jy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ry(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,iy(t),jy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=qa(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){br(11)},getPrototypeOf(t){return $l(t.base_)},setPrototypeOf(){br(12)}},zc={};Vd(I_,(t,e)=>{zc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zc.deleteProperty=function(t,e){return zc.set.call(this,t,e,void 0)};zc.set=function(t,e,n){return I_.set.call(this,t[0],e,n,t[0])};function ry(t,e){const n=t[Hn];return(n?qa(n):t)[e]}function aU(t,e,n){var a;const i=rR(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(t.draft_):void 0}function rR(t,e){if(!(e in t))return;let n=$l(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=$l(n)}}function jy(t){t.modified_||(t.modified_=!0,t.parent_&&jy(t.parent_))}function iy(t){t.copy_||(t.copy_=Ly(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var oU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(m=l,...p){return c.produce(m,y=>n.call(this,y,...p))}}typeof n!="function"&&br(6),i!==void 0&&typeof i!="function"&&br(7);let a;if(Qi(e)){const l=rS(this),c=zy(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?Uy(l):Vy(l)}return nS(l,i),iS(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===Z1&&(a=void 0),this.autoFreeze_&&R_(a,!0),i){const l=[],c=[];co("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else br(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let i,a;return[this.produce(e,n,(c,d)=>{i=c,a=d}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qi(t)||br(8),uo(t)&&(t=lU(t));const e=rS(this),n=zy(t,void 0);return n[Hn].isManual_=!0,Vy(e),n}finishDraft(t,e){const n=t&&t[Hn];(!n||!n.isManual_)&&br(9);const{scope_:i}=n;return nS(i,e),iS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=co("Patches").applyPatches_;return uo(t)?i(t,e):this.produce(t,a=>i(a,e))}};function zy(t,e){const n=bm(t)?co("MapSet").proxyMap_(t,e):Em(t)?co("MapSet").proxySet_(t,e):sU(t,e);return(e?e.scope_:nR()).drafts_.push(n),n}function lU(t){return uo(t)||br(10,t),iR(t)}function iR(t){if(!Qi(t)||Tm(t))return t;const e=t[Hn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ly(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ly(t,!0);return Vd(n,(i,a)=>{tR(n,i,iR(a))}),e&&(e.finalized_=!1),n}var Gn=new oU,sR=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function aR(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var uU=aR(),cU=aR,hU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ud:Ud.apply(null,arguments)};function aS(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(zi(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>J3(i)&&i.type===t,n}var oR=class Ec extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ec.prototype)}static get[Symbol.species](){return Ec}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ec(...e[0].concat(this)):new Ec(...e.concat(this))}};function oS(t){return Qi(t)?sR(t,()=>{}):t}function lS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function fU(t){return typeof t=="boolean"}var dU=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new oR;return n&&(fU(n)?c.push(uU):c.push(cU(n.extraArgument))),c},mU="RTK_autoBatch",uS=t=>e=>{setTimeout(e,t)},pU=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,c=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uS(10):t.type==="callback"?t.queueNotification:uS(t.timeout),p=()=>{c=!1,l&&(l=!1,d.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const _=()=>a&&y(),w=i.subscribe(_);return d.add(y),()=>{w(),d.delete(y)}},dispatch(y){var _;try{return a=!((_=y==null?void 0:y.meta)!=null&&_[mU]),l=!a,l&&(c||(c=!0,m(p))),i.dispatch(y)}finally{a=!0}}})},gU=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new oR(t);return i&&a.push(pU(typeof i=="object"?i:void 0)),a};function yU(t){const e=dU(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(x_(n))d=J1(n);else throw new Error(zi(1));let m;typeof i=="function"?m=i(e):m=e();let p=Ud;a&&(p=hU({trace:!1,...typeof a=="object"&&a}));const y=W3(...m),_=gU(y);let w=typeof c=="function"?c(_):_();const x=p(...w);return A_(d,l,x)}function lR(t){const e={},n=[];let i;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(zi(28));if(d in e)throw new Error(zi(29));return e[d]=c,a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function vU(t){return typeof t=="function"}function _U(t,e){let[n,i,a]=lR(e),l;if(vU(t))l=()=>oS(t());else{const d=oS(t);l=()=>d}function c(d=l(),m){let p=[n[m.type],...i.filter(({matcher:y})=>y(m)).map(({reducer:y})=>y)];return p.filter(y=>!!y).length===0&&(p=[a]),p.reduce((y,_)=>{if(_)if(uo(y)){const x=_(y,m);return x===void 0?y:x}else{if(Qi(y))return sR(y,w=>_(w,m));{const w=_(y,m);if(w===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return y},d)}return c.getInitialState=l,c}var bU=Symbol.for("rtk-slice-createasyncthunk");function EU(t,e){return`${t}/${e}`}function TU({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[bU];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(zi(11));const d=(typeof a.reducers=="function"?a.reducers(SU()):a.reducers)||{},m=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(P,H){const W=typeof P=="string"?P:P.type;if(!W)throw new Error(zi(12));if(W in p.sliceCaseReducersByType)throw new Error(zi(13));return p.sliceCaseReducersByType[W]=H,y},addMatcher(P,H){return p.sliceMatchers.push({matcher:P,reducer:H}),y},exposeAction(P,H){return p.actionCreators[P]=H,y},exposeCaseReducer(P,H){return p.sliceCaseReducersByName[P]=H,y}};m.forEach(P=>{const H=d[P],W={reducerName:P,type:EU(l,P),createNotation:typeof a.reducers=="function"};AU(H)?IU(W,H,y,e):xU(W,H,y)});function _(){const[P={},H=[],W=void 0]=typeof a.extraReducers=="function"?lR(a.extraReducers):[a.extraReducers],ie={...P,...p.sliceCaseReducersByType};return _U(a.initialState,O=>{for(let A in ie)O.addCase(A,ie[A]);for(let A of p.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of H)O.addMatcher(A.matcher,A.reducer);W&&O.addDefaultCase(W)})}const w=P=>P,x=new Map;let I;function D(P,H){return I||(I=_()),I(P,H)}function N(){return I||(I=_()),I.getInitialState()}function V(P,H=!1){function W(O){let A=O[P];return typeof A>"u"&&H&&(A=N()),A}function ie(O=w){const A=lS(x,H,()=>new WeakMap);return lS(A,O,()=>{const C={};for(const[k,j]of Object.entries(a.selectors??{}))C[k]=wU(j,O,N,H);return C})}return{reducerPath:P,getSelectors:ie,get selectors(){return ie(W)},selectSlice:W}}const z={name:l,reducer:D,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:N,...V(c),injectInto(P,{reducerPath:H,...W}={}){const ie=H??c;return P.inject({reducerPath:ie,reducer:D},W),{...z,...V(ie,!0)}}};return z}}function wU(t,e,n,i){function a(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var wm=TU();function SU(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function xU({type:t,reducerName:e,createNotation:n},i,a){let l,c;if("reducer"in i){if(n&&!RU(i))throw new Error(zi(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?aS(t,c):aS(t))}function AU(t){return t._reducerDefinitionType==="asyncThunk"}function RU(t){return t._reducerDefinitionType==="reducerWithPrepare"}function IU({type:t,reducerName:e},n,i,a){if(!a)throw new Error(zi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:p,options:y}=n,_=a(t,l,y);i.exposeAction(e,_),c&&i.addCase(_.fulfilled,c),d&&i.addCase(_.pending,d),m&&i.addCase(_.rejected,m),p&&i.addMatcher(_.settled,p),i.exposeCaseReducer(e,{fulfilled:c||$f,pending:d||$f,rejected:m||$f,settled:p||$f})}function $f(){}function zi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const CU={showMenu:!1},uR=wm({name:"menu",initialState:CU,reducers:{toggleMenu:t=>{t.showMenu=!t.showMenu},closeMenu:t=>{t.showMenu=!1}}}),{toggleMenu:NU,closeMenu:cR}=uR.actions,OU=uR.reducer;function DU(t){return Yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function PU(t){return Yi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function kU(t){return Yi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function MU(t){return Yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function hR(t){return Yi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(t)}function LU(t){return Yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(t)}function UU(t){return Yi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"},child:[]}]})(t)}const fR=wm({name:"bookmarkedJobs",initialState:{jobIds:[]},reducers:{setSavedJobs:(t,e)=>{t.jobIds=e.payload},addSavedJob:(t,e)=>{t.jobIds.includes(e.payload)||t.jobIds.push(e.payload)},removeSavedJob:(t,e)=>{t.jobIds=t.jobIds.filter(n=>n!==e.payload)},clearSavedJobs:t=>{t.jobIds=[]}}}),{setSavedJobs:C_,addSavedJob:VU,removeSavedJob:jU,clearSavedJobs:qj}=fR.actions,zU=fR.reducer,BU=()=>{const{showMenu:t}=Ar(m=>m.menu),e=ur(),[n,i]=L.useState(null),a=Ir();L.useEffect(()=>{const m=I3(p=>{i(p)});return()=>m()},[]);const l=()=>{e(NU())},c=()=>{e(cR())},d=async()=>{await Y1(),e(C_([])),persistor.purge(),a("/login")};return E.jsx("header",{className:"w-full py-4 bg-bgc text-white px-6 shadow-md",children:E.jsxs("nav",{className:"max-w-[1300px] mx-auto flex items-center justify-between",children:[E.jsx("div",{className:"logo",children:E.jsx(vr,{to:"/",children:E.jsxs("h1",{className:"text-2xl font-bold text-[#F8FAFC]",children:["Launch",E.jsx("span",{className:"text-primary",children:"Desk"})]})})}),E.jsx("div",{className:"md:hidden cursor-pointer",children:E.jsx(x3,{onClick:l,size:28})}),E.jsx("ul",{className:`absolute md:static top-full left-0 w-full md:w-auto bg-[#4F46E5] md:bg-transparent px-6 py-4 md:p-0 flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-8 transition-all duration-300 ${t?"mobileMenu":"webMenu"}`,children:n?E.jsxs(E.Fragment,{children:[E.jsx("li",{children:E.jsx(vr,{to:"/",className:"hover:text-[#E11D48]",children:"Home"})}),E.jsx("li",{children:E.jsx(vr,{to:"/about",className:"hover:text-[#E11D48]",children:"About"})}),E.jsx("li",{children:E.jsx(vr,{to:"/profile",children:E.jsx(LU,{})})}),E.jsx("li",{children:E.jsx(vr,{to:"/savedjobs",children:E.jsx(hR,{})})}),E.jsx("li",{children:E.jsx("button",{onClick:d,children:"Log Out"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("li",{children:E.jsx(vr,{onClick:c,to:"/signup",className:"block w-full text-center py-3 rounded-md text-white hover:bg-red-600 hover:text-white transition-colors duration-300",children:"Sign Up"})}),E.jsx("li",{children:E.jsx(vr,{onClick:c,to:"/login",className:"block w-full text-center py-3 rounded-md text-white hover:bg-red-600 hover:text-white transition-colors duration-300",children:"Login"})})]})})]})})},qU=()=>E.jsx("footer",{className:"bg-bgc text-white mt-5 py-8",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-[#F8FAFC]",children:"LaunchDesk"}),E.jsx("p",{className:"text-gray-200 mt-2",children:"Empowering freelancers with the best tools and opportunities."})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC]",children:"Quick Links"}),E.jsxs("ul",{className:"mt-2 space-y-2",children:[E.jsx("li",{children:E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"Home"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"About"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"Services"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"Contact"})})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC]",children:"Follow Us"}),E.jsxs("div",{className:"flex justify-center md:justify-start gap-4 mt-2",children:[E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:E.jsx(DU,{})}),E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:E.jsx(MU,{})}),E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:E.jsx(PU,{})}),E.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:E.jsx(kU,{})})]})]})]}),E.jsxs("div",{className:"border-t border-[#6366F1] mt-6 pt-4 text-center text-gray-300",children:[" ",new Date().getFullYear()," LaunchDesk. All rights reserved."]})]})}),FU=()=>E.jsxs(E.Fragment,{children:[E.jsx(BU,{}),E.jsx(f2,{}),E.jsx(qU,{})]});var uh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ho=typeof window>"u"||"Deno"in globalThis;function Cn(){}function HU(t,e){return typeof t=="function"?t(e):t}function By(t){return typeof t=="number"&&t>=0&&t!==1/0}function dR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Gs(t,e){return typeof t=="function"?t(e):t}function _r(t,e){return typeof t=="function"?t(e):t}function cS(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:d}=t;if(c){if(i){if(e.queryHash!==N_(c,e.options))return!1}else if(!qc(e.queryKey,c))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||l&&!l(e))}function hS(t,e){const{exact:n,status:i,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Bc(e.options.mutationKey)!==Bc(l))return!1}else if(!qc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function N_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Bc)(t)}function Bc(t){return JSON.stringify(t,(e,n)=>Fy(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function qc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>qc(t[n],e[n])):!1}function mR(t,e){if(t===e)return t;const n=fS(t)&&fS(e);if(n||Fy(t)&&Fy(e)){const i=n?t:Object.keys(t),a=i.length,l=n?e:Object.keys(e),c=l.length,d=n?[]:{},m=new Set(i);let p=0;for(let y=0;y<c;y++){const _=n?y:l[y];(!n&&m.has(_)||n)&&t[_]===void 0&&e[_]===void 0?(d[_]=void 0,p++):(d[_]=mR(t[_],e[_]),d[_]===t[_]&&t[_]!==void 0&&p++)}return a===c&&p===a?t:d}return e}function qy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function fS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fy(t){if(!dS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!dS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dS(t){return Object.prototype.toString.call(t)==="[object Object]"}function GU(t){return new Promise(e=>{setTimeout(e,t)})}function Hy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mR(t,e):e}function QU(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function $U(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var O_=Symbol();function pR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===O_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function KU(t,e){return typeof t=="function"?t(...e):!!t}var Ha,Ds,Al,NS,YU=(NS=class extends uh{constructor(){super();Se(this,Ha);Se(this,Ds);Se(this,Al);me(this,Al,e=>{if(!ho&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,Ds)||this.setEventListener(F(this,Al))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ds))==null||e.call(this),me(this,Ds,void 0))}setEventListener(e){var n;me(this,Al,e),(n=F(this,Ds))==null||n.call(this),me(this,Ds,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){F(this,Ha)!==e&&(me(this,Ha,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,Ha)=="boolean"?F(this,Ha):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ha=new WeakMap,Ds=new WeakMap,Al=new WeakMap,NS),D_=new YU,Rl,Ps,Il,OS,XU=(OS=class extends uh{constructor(){super();Se(this,Rl,!0);Se(this,Ps);Se(this,Il);me(this,Il,e=>{if(!ho&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){F(this,Ps)||this.setEventListener(F(this,Il))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,Ps))==null||e.call(this),me(this,Ps,void 0))}setEventListener(e){var n;me(this,Il,e),(n=F(this,Ps))==null||n.call(this),me(this,Ps,e(this.setOnline.bind(this)))}setOnline(e){F(this,Rl)!==e&&(me(this,Rl,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return F(this,Rl)}},Rl=new WeakMap,Ps=new WeakMap,Il=new WeakMap,OS),Bd=new XU;function Gy(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}function WU(t){return Math.min(1e3*2**t,3e4)}function gR(t){return(t??"online")==="online"?Bd.isOnline():!0}var yR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function sy(t){return t instanceof yR}function vR(t){let e=!1,n=0,i=!1,a;const l=Gy(),c=D=>{var N;i||(w(new yR(D)),(N=t.abort)==null||N.call(t))},d=()=>{e=!0},m=()=>{e=!1},p=()=>D_.isFocused()&&(t.networkMode==="always"||Bd.isOnline())&&t.canRun(),y=()=>gR(t.networkMode)&&t.canRun(),_=D=>{var N;i||(i=!0,(N=t.onSuccess)==null||N.call(t,D),a==null||a(),l.resolve(D))},w=D=>{var N;i||(i=!0,(N=t.onError)==null||N.call(t,D),a==null||a(),l.reject(D))},x=()=>new Promise(D=>{var N;a=V=>{(i||p())&&D(V)},(N=t.onPause)==null||N.call(t)}).then(()=>{var D;a=void 0,i||(D=t.onContinue)==null||D.call(t)}),I=()=>{if(i)return;let D;const N=n===0?t.initialPromise:void 0;try{D=N??t.fn()}catch(V){D=Promise.reject(V)}Promise.resolve(D).then(_).catch(V=>{var ie;if(i)return;const z=t.retry??(ho?0:3),P=t.retryDelay??WU,H=typeof P=="function"?P(n,V):P,W=z===!0||typeof z=="number"&&n<z||typeof z=="function"&&z(n,V);if(e||!W){w(V);return}n++,(ie=t.onFail)==null||ie.call(t,n,V),GU(H).then(()=>p()?void 0:x()).then(()=>{e?w(V):I()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:m,canStart:y,start:()=>(y()?I():x().then(I),l)}}var JU=t=>setTimeout(t,0);function ZU(){let t=[],e=0,n=d=>{d()},i=d=>{d()},a=JU;const l=d=>{e?t.push(d):a(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&a(()=>{i(()=>{d.forEach(m=>{n(m)})})})};return{batch:d=>{let m;e++;try{m=d()}finally{e--,e||c()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var tn=ZU(),Ga,DS,_R=(DS=class{constructor(){Se(this,Ga)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),By(this.gcTime)&&me(this,Ga,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ho?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ga)&&(clearTimeout(F(this,Ga)),me(this,Ga,void 0))}},Ga=new WeakMap,DS),Cl,Qa,ar,$a,cn,Hc,Ka,gr,Pi,PS,eV=(PS=class extends _R{constructor(e){super();Se(this,gr);Se(this,Cl);Se(this,Qa);Se(this,ar);Se(this,$a);Se(this,cn);Se(this,Hc);Se(this,Ka);me(this,Ka,!1),me(this,Hc,e.defaultOptions),this.setOptions(e.options),this.observers=[],me(this,$a,e.client),me(this,ar,F(this,$a).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,me(this,Cl,tV(this.options)),this.state=e.state??F(this,Cl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=F(this,cn))==null?void 0:e.promise}setOptions(e){this.options={...F(this,Hc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,ar).remove(this)}setData(e,n){const i=Hy(this.state.data,e,this.options);return je(this,gr,Pi).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){je(this,gr,Pi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,a;const n=(i=F(this,cn))==null?void 0:i.promise;return(a=F(this,cn))==null||a.cancel(e),n?n.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Cl))}isActive(){return this.observers.some(e=>_r(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===O_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Gs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!dR(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,cn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=F(this,cn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),F(this,ar).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(F(this,cn)&&(F(this,Ka)?F(this,cn).cancel({revert:!0}):F(this,cn).cancelRetry()),this.scheduleGc()),F(this,ar).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,gr,Pi).call(this,{type:"invalidate"})}fetch(e,n){var p,y,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,cn))return F(this,cn).continueRetry(),F(this,cn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(x=>x.options.queryFn);w&&this.setOptions(w.options)}const i=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(me(this,Ka,!0),i.signal)})},l=()=>{const w=pR(this.options,n),I=(()=>{const D={client:F(this,$a),queryKey:this.queryKey,meta:this.meta};return a(D),D})();return me(this,Ka,!1),this.options.persister?this.options.persister(w,I,this):w(I)},d=(()=>{const w={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:F(this,$a),state:this.state,fetchFn:l};return a(w),w})();(p=this.options.behavior)==null||p.onFetch(d,this),me(this,Qa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=d.fetchOptions)==null?void 0:y.meta))&&je(this,gr,Pi).call(this,{type:"fetch",meta:(_=d.fetchOptions)==null?void 0:_.meta});const m=w=>{var x,I,D,N;sy(w)&&w.silent||je(this,gr,Pi).call(this,{type:"error",error:w}),sy(w)||((I=(x=F(this,ar).config).onError)==null||I.call(x,w,this),(N=(D=F(this,ar).config).onSettled)==null||N.call(D,this.state.data,w,this)),this.scheduleGc()};return me(this,cn,vR({initialPromise:n==null?void 0:n.initialPromise,fn:d.fetchFn,abort:i.abort.bind(i),onSuccess:w=>{var x,I,D,N;if(w===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(V){m(V);return}(I=(x=F(this,ar).config).onSuccess)==null||I.call(x,w,this),(N=(D=F(this,ar).config).onSettled)==null||N.call(D,w,this.state.error,this),this.scheduleGc()},onError:m,onFail:(w,x)=>{je(this,gr,Pi).call(this,{type:"failed",failureCount:w,error:x})},onPause:()=>{je(this,gr,Pi).call(this,{type:"pause"})},onContinue:()=>{je(this,gr,Pi).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),F(this,cn).start()}},Cl=new WeakMap,Qa=new WeakMap,ar=new WeakMap,$a=new WeakMap,cn=new WeakMap,Hc=new WeakMap,Ka=new WeakMap,gr=new WeakSet,Pi=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...bR(i.data,this.options),fetchMeta:e.meta??null};case"success":return me(this,Qa,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return sy(a)&&a.revert&&F(this,Qa)?{...F(this,Qa),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),tn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),F(this,ar).notify({query:this,type:"updated",action:e})})},PS);function bR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $r,kS,nV=(kS=class extends uh{constructor(e={}){super();Se(this,$r);this.config=e,me(this,$r,new Map)}build(e,n,i){const a=n.queryKey,l=n.queryHash??N_(a,n);let c=this.get(l);return c||(c=new eV({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){F(this,$r).has(e.queryHash)||(F(this,$r).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,$r).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,$r).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,$r).get(e)}getAll(){return[...F(this,$r).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>cS(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>cS(e,i)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},$r=new WeakMap,kS),Kr,_n,Ya,Yr,As,MS,rV=(MS=class extends _R{constructor(e){super();Se(this,Yr);Se(this,Kr);Se(this,_n);Se(this,Ya);this.mutationId=e.mutationId,me(this,_n,e.mutationCache),me(this,Kr,[]),this.state=e.state||iV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){F(this,Kr).includes(e)||(F(this,Kr).push(e),this.clearGcTimeout(),F(this,_n).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){me(this,Kr,F(this,Kr).filter(n=>n!==e)),this.scheduleGc(),F(this,_n).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){F(this,Kr).length||(this.state.status==="pending"?this.scheduleGc():F(this,_n).remove(this))}continue(){var e;return((e=F(this,Ya))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var l,c,d,m,p,y,_,w,x,I,D,N,V,z,P,H,W,ie,O,A;const n=()=>{je(this,Yr,As).call(this,{type:"continue"})};me(this,Ya,vR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,k)=>{je(this,Yr,As).call(this,{type:"failed",failureCount:C,error:k})},onPause:()=>{je(this,Yr,As).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,_n).canRun(this)}));const i=this.state.status==="pending",a=!F(this,Ya).canStart();try{if(i)n();else{je(this,Yr,As).call(this,{type:"pending",variables:e,isPaused:a}),await((c=(l=F(this,_n).config).onMutate)==null?void 0:c.call(l,e,this));const k=await((m=(d=this.options).onMutate)==null?void 0:m.call(d,e));k!==this.state.context&&je(this,Yr,As).call(this,{type:"pending",context:k,variables:e,isPaused:a})}const C=await F(this,Ya).start();return await((y=(p=F(this,_n).config).onSuccess)==null?void 0:y.call(p,C,e,this.state.context,this)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,C,e,this.state.context)),await((I=(x=F(this,_n).config).onSettled)==null?void 0:I.call(x,C,null,this.state.variables,this.state.context,this)),await((N=(D=this.options).onSettled)==null?void 0:N.call(D,C,null,e,this.state.context)),je(this,Yr,As).call(this,{type:"success",data:C}),C}catch(C){try{throw await((z=(V=F(this,_n).config).onError)==null?void 0:z.call(V,C,e,this.state.context,this)),await((H=(P=this.options).onError)==null?void 0:H.call(P,C,e,this.state.context)),await((ie=(W=F(this,_n).config).onSettled)==null?void 0:ie.call(W,void 0,C,this.state.variables,this.state.context,this)),await((A=(O=this.options).onSettled)==null?void 0:A.call(O,void 0,C,e,this.state.context)),C}finally{je(this,Yr,As).call(this,{type:"error",error:C})}}finally{F(this,_n).runNext(this)}}},Kr=new WeakMap,_n=new WeakMap,Ya=new WeakMap,Yr=new WeakSet,As=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tn.batch(()=>{F(this,Kr).forEach(i=>{i.onMutationUpdate(e)}),F(this,_n).notify({mutation:this,type:"updated",action:e})})},MS);function iV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ki,yr,Gc,LS,sV=(LS=class extends uh{constructor(e={}){super();Se(this,ki);Se(this,yr);Se(this,Gc);this.config=e,me(this,ki,new Set),me(this,yr,new Map),me(this,Gc,0)}build(e,n,i){const a=new rV({mutationCache:this,mutationId:++Uf(this,Gc)._,options:e.defaultMutationOptions(n),state:i});return this.add(a),a}add(e){F(this,ki).add(e);const n=Kf(e);if(typeof n=="string"){const i=F(this,yr).get(n);i?i.push(e):F(this,yr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,ki).delete(e)){const n=Kf(e);if(typeof n=="string"){const i=F(this,yr).get(n);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&F(this,yr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Kf(e);if(typeof n=="string"){const i=F(this,yr).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const n=Kf(e);if(typeof n=="string"){const a=(i=F(this,yr).get(n))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tn.batch(()=>{F(this,ki).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,ki).clear(),F(this,yr).clear()})}getAll(){return Array.from(F(this,ki))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>hS(n,i))}findAll(e={}){return this.getAll().filter(n=>hS(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cn))))}},ki=new WeakMap,yr=new WeakMap,Gc=new WeakMap,LS);function Kf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function qd(t){return{onFetch:(e,n)=>{var y,_,w,x,I;const i=e.options,a=(w=(_=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:w.direction,l=((x=e.state.data)==null?void 0:x.pages)||[],c=((I=e.state.data)==null?void 0:I.pageParams)||[];let d={pages:[],pageParams:[]},m=0;const p=async()=>{let D=!1;const N=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?D=!0:e.signal.addEventListener("abort",()=>{D=!0}),e.signal)})},V=pR(e.options,e.fetchOptions),z=async(P,H,W)=>{if(D)return Promise.reject();if(H==null&&P.pages.length)return Promise.resolve(P);const O=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:H,direction:W?"backward":"forward",meta:e.options.meta};return N(j),j})(),A=await V(O),{maxPages:C}=e.options,k=W?$U:QU;return{pages:k(P.pages,A,C),pageParams:k(P.pageParams,H,C)}};if(a&&l.length){const P=a==="backward",H=P?ER:Qy,W={pages:l,pageParams:c},ie=H(i,W);d=await z(W,ie,P)}else{const P=t??l.length;do{const H=m===0?c[0]??i.initialPageParam:Qy(i,d);if(m>0&&H==null)break;d=await z(d,H),m++}while(m<P)}return d};e.options.persister?e.fetchFn=()=>{var D,N;return(N=(D=e.options).persister)==null?void 0:N.call(D,p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=p}}}function Qy(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function ER(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}function aV(t,e){return e?Qy(t,e)!=null:!1}function oV(t,e){return!e||!t.getPreviousPageParam?!1:ER(t,e)!=null}var bt,ks,Ms,Nl,Ol,Ls,Dl,Pl,US,lV=(US=class{constructor(t={}){Se(this,bt);Se(this,ks);Se(this,Ms);Se(this,Nl);Se(this,Ol);Se(this,Ls);Se(this,Dl);Se(this,Pl);me(this,bt,t.queryCache||new nV),me(this,ks,t.mutationCache||new sV),me(this,Ms,t.defaultOptions||{}),me(this,Nl,new Map),me(this,Ol,new Map),me(this,Ls,0)}mount(){Uf(this,Ls)._++,F(this,Ls)===1&&(me(this,Dl,D_.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,bt).onFocus())})),me(this,Pl,Bd.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,bt).onOnline())})))}unmount(){var t,e;Uf(this,Ls)._--,F(this,Ls)===0&&((t=F(this,Dl))==null||t.call(this),me(this,Dl,void 0),(e=F(this,Pl))==null||e.call(this),me(this,Pl,void 0))}isFetching(t){return F(this,bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ks).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,bt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,bt).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Gs(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return F(this,bt).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=F(this,bt).get(i.queryHash),l=a==null?void 0:a.state.data,c=HU(e,l);if(c!==void 0)return F(this,bt).build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>F(this,bt).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,bt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,bt);tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,bt);return tn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=tn.batch(()=>F(this,bt).findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(Cn).catch(Cn)}invalidateQueries(t,e={}){return tn.batch(()=>(F(this,bt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=tn.batch(()=>F(this,bt).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(Cn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,bt).build(this,e);return n.isStaleByTime(Gs(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cn).catch(Cn)}fetchInfiniteQuery(t){return t.behavior=qd(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cn).catch(Cn)}ensureInfiniteQueryData(t){return t.behavior=qd(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bd.isOnline()?F(this,ks).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,bt)}getMutationCache(){return F(this,ks)}getDefaultOptions(){return F(this,Ms)}setDefaultOptions(t){me(this,Ms,t)}setQueryDefaults(t,e){F(this,Nl).set(Bc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,Nl).values()],n={};return e.forEach(i=>{qc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Ol).set(Bc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Ol).values()],n={};return e.forEach(i=>{qc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,Ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=N_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===O_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,bt).clear(),F(this,ks).clear()}},bt=new WeakMap,ks=new WeakMap,Ms=new WeakMap,Nl=new WeakMap,Ol=new WeakMap,Ls=new WeakMap,Dl=new WeakMap,Pl=new WeakMap,US),Rn,ze,Qc,bn,Xa,kl,Us,Vs,$c,Ml,Ll,Wa,Ja,js,Ul,Xe,Tc,$y,Ky,Yy,Xy,Wy,Jy,Zy,wR,VS,TR=(VS=class extends uh{constructor(e,n){super();Se(this,Xe);Se(this,Rn);Se(this,ze);Se(this,Qc);Se(this,bn);Se(this,Xa);Se(this,kl);Se(this,Us);Se(this,Vs);Se(this,$c);Se(this,Ml);Se(this,Ll);Se(this,Wa);Se(this,Ja);Se(this,js);Se(this,Ul,new Set);this.options=n,me(this,Rn,e),me(this,Vs,null),me(this,Us,Gy()),this.options.experimental_prefetchInRender||F(this,Us).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ze).addObserver(this),mS(F(this,ze),this.options)?je(this,Xe,Tc).call(this):this.updateResult(),je(this,Xe,Xy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ev(F(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ev(F(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,Xe,Wy).call(this),je(this,Xe,Jy).call(this),F(this,ze).removeObserver(this)}setOptions(e){const n=this.options,i=F(this,ze);if(this.options=F(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _r(this.options.enabled,F(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,Xe,Zy).call(this),F(this,ze).setOptions(this.options),n._defaulted&&!qy(this.options,n)&&F(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ze),observer:this});const a=this.hasListeners();a&&pS(F(this,ze),i,this.options,n)&&je(this,Xe,Tc).call(this),this.updateResult(),a&&(F(this,ze)!==i||_r(this.options.enabled,F(this,ze))!==_r(n.enabled,F(this,ze))||Gs(this.options.staleTime,F(this,ze))!==Gs(n.staleTime,F(this,ze)))&&je(this,Xe,$y).call(this);const l=je(this,Xe,Ky).call(this);a&&(F(this,ze)!==i||_r(this.options.enabled,F(this,ze))!==_r(n.enabled,F(this,ze))||l!==F(this,js))&&je(this,Xe,Yy).call(this,l)}getOptimisticResult(e){const n=F(this,Rn).getQueryCache().build(F(this,Rn),e),i=this.createResult(n,e);return cV(this,i)&&(me(this,bn,i),me(this,kl,this.options),me(this,Xa,F(this,ze).state)),i}getCurrentResult(){return F(this,bn)}trackResult(e,n){return new Proxy(e,{get:(i,a)=>(this.trackProp(a),n==null||n(a),Reflect.get(i,a))})}trackProp(e){F(this,Ul).add(e)}getCurrentQuery(){return F(this,ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=F(this,Rn).defaultQueryOptions(e),i=F(this,Rn).getQueryCache().build(F(this,Rn),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return je(this,Xe,Tc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,bn)))}createResult(e,n){var C;const i=F(this,ze),a=this.options,l=F(this,bn),c=F(this,Xa),d=F(this,kl),p=e!==i?e.state:F(this,Qc),{state:y}=e;let _={...y},w=!1,x;if(n._optimisticResults){const k=this.hasListeners(),j=!k&&mS(e,n),G=k&&pS(e,i,n,a);(j||G)&&(_={..._,...bR(y.data,e.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:I,errorUpdatedAt:D,status:N}=_;x=_.data;let V=!1;if(n.placeholderData!==void 0&&x===void 0&&N==="pending"){let k;l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?(k=l.data,V=!0):k=typeof n.placeholderData=="function"?n.placeholderData((C=F(this,Ll))==null?void 0:C.state.data,F(this,Ll)):n.placeholderData,k!==void 0&&(N="success",x=Hy(l==null?void 0:l.data,k,n),w=!0)}if(n.select&&x!==void 0&&!V)if(l&&x===(c==null?void 0:c.data)&&n.select===F(this,$c))x=F(this,Ml);else try{me(this,$c,n.select),x=n.select(x),x=Hy(l==null?void 0:l.data,x,n),me(this,Ml,x),me(this,Vs,null)}catch(k){me(this,Vs,k)}F(this,Vs)&&(I=F(this,Vs),x=F(this,Ml),D=Date.now(),N="error");const z=_.fetchStatus==="fetching",P=N==="pending",H=N==="error",W=P&&z,ie=x!==void 0,A={status:N,fetchStatus:_.fetchStatus,isPending:P,isSuccess:N==="success",isError:H,isInitialLoading:W,isLoading:W,data:x,dataUpdatedAt:_.dataUpdatedAt,error:I,errorUpdatedAt:D,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>p.dataUpdateCount||_.errorUpdateCount>p.errorUpdateCount,isFetching:z,isRefetching:z&&!P,isLoadingError:H&&!ie,isPaused:_.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:H&&ie,isStale:P_(e,n),refetch:this.refetch,promise:F(this,Us)};if(this.options.experimental_prefetchInRender){const k=U=>{A.status==="error"?U.reject(A.error):A.data!==void 0&&U.resolve(A.data)},j=()=>{const U=me(this,Us,A.promise=Gy());k(U)},G=F(this,Us);switch(G.status){case"pending":e.queryHash===i.queryHash&&k(G);break;case"fulfilled":(A.status==="error"||A.data!==G.value)&&j();break;case"rejected":(A.status!=="error"||A.error!==G.reason)&&j();break}}return A}updateResult(){const e=F(this,bn),n=this.createResult(F(this,ze),this.options);if(me(this,Xa,F(this,ze).state),me(this,kl,this.options),F(this,Xa).data!==void 0&&me(this,Ll,F(this,ze)),qy(n,e))return;me(this,bn,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!F(this,Ul).size)return!0;const c=new Set(l??F(this,Ul));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,bn)).some(d=>{const m=d;return F(this,bn)[m]!==e[m]&&c.has(m)})};je(this,Xe,wR).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,Xe,Xy).call(this)}},Rn=new WeakMap,ze=new WeakMap,Qc=new WeakMap,bn=new WeakMap,Xa=new WeakMap,kl=new WeakMap,Us=new WeakMap,Vs=new WeakMap,$c=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,Wa=new WeakMap,Ja=new WeakMap,js=new WeakMap,Ul=new WeakMap,Xe=new WeakSet,Tc=function(e){je(this,Xe,Zy).call(this);let n=F(this,ze).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Cn)),n},$y=function(){je(this,Xe,Wy).call(this);const e=Gs(this.options.staleTime,F(this,ze));if(ho||F(this,bn).isStale||!By(e))return;const i=dR(F(this,bn).dataUpdatedAt,e)+1;me(this,Wa,setTimeout(()=>{F(this,bn).isStale||this.updateResult()},i))},Ky=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ze)):this.options.refetchInterval)??!1},Yy=function(e){je(this,Xe,Jy).call(this),me(this,js,e),!(ho||_r(this.options.enabled,F(this,ze))===!1||!By(F(this,js))||F(this,js)===0)&&me(this,Ja,setInterval(()=>{(this.options.refetchIntervalInBackground||D_.isFocused())&&je(this,Xe,Tc).call(this)},F(this,js)))},Xy=function(){je(this,Xe,$y).call(this),je(this,Xe,Yy).call(this,je(this,Xe,Ky).call(this))},Wy=function(){F(this,Wa)&&(clearTimeout(F(this,Wa)),me(this,Wa,void 0))},Jy=function(){F(this,Ja)&&(clearInterval(F(this,Ja)),me(this,Ja,void 0))},Zy=function(){const e=F(this,Rn).getQueryCache().build(F(this,Rn),this.options);if(e===F(this,ze))return;const n=F(this,ze);me(this,ze,e),me(this,Qc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},wR=function(e){tn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(F(this,bn))}),F(this,Rn).getQueryCache().notify({query:F(this,ze),type:"observerResultsUpdated"})})},VS);function uV(t,e){return _r(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mS(t,e){return uV(t,e)||t.state.data!==void 0&&ev(t,e,e.refetchOnMount)}function ev(t,e,n){if(_r(e.enabled,t)!==!1&&Gs(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&P_(t,e)}return!1}function pS(t,e,n,i){return(t!==e||_r(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&P_(t,n)}function P_(t,e){return _r(e.enabled,t)!==!1&&t.isStaleByTime(Gs(e.staleTime,t))}function cV(t,e){return!qy(t.getCurrentResult(),e)}var hV=class extends TR{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:qd()})}getOptimisticResult(t){return t.behavior=qd(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var I,D;const{state:n}=t,i=super.createResult(t,e),{isFetching:a,isRefetching:l,isError:c,isRefetchError:d}=i,m=(D=(I=n.fetchMeta)==null?void 0:I.fetchMore)==null?void 0:D.direction,p=c&&m==="forward",y=a&&m==="forward",_=c&&m==="backward",w=a&&m==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:aV(e,n.data),hasPreviousPage:oV(e,n.data),isFetchNextPageError:p,isFetchingNextPage:y,isFetchPreviousPageError:_,isFetchingPreviousPage:w,isRefetchError:d&&!p&&!_,isRefetching:l&&!y&&!w}}},SR=L.createContext(void 0),fV=t=>{const e=L.useContext(SR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},dV=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(SR.Provider,{value:t,children:e})),xR=L.createContext(!1),mV=()=>L.useContext(xR);xR.Provider;function pV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var gV=L.createContext(pV()),yV=()=>L.useContext(gV),vV=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},_V=t=>{L.useEffect(()=>{t.clearReset()},[t])},bV=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&t.data===void 0||KU(n,[t.error,i])),EV=t=>{if(t.suspense){const e=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>e(n(...i)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},TV=(t,e)=>t.isLoading&&t.isFetching&&!e,wV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,gS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function AR(t,e,n){var _,w,x,I,D;const i=mV(),a=yV(),l=fV(),c=l.defaultQueryOptions(t);(w=(_=l.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||w.call(_,c),c._optimisticResults=i?"isRestoring":"optimistic",EV(c),vV(c,a),_V(a);const d=!l.getQueryCache().get(c.queryHash),[m]=L.useState(()=>new e(l,c)),p=m.getOptimisticResult(c),y=!i&&t.subscribed!==!1;if(L.useSyncExternalStore(L.useCallback(N=>{const V=y?m.subscribe(tn.batchCalls(N)):Cn;return m.updateResult(),V},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),L.useEffect(()=>{m.setOptions(c)},[c,m]),wV(c,p))throw gS(c,m,a);if(bV({result:p,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((I=(x=l.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||I.call(x,c,p),c.experimental_prefetchInRender&&!ho&&TV(p,i)){const N=d?gS(c,m,a):(D=l.getQueryCache().get(c.queryHash))==null?void 0:D.promise;N==null||N.catch(Cn).finally(()=>{m.updateResult()})}return c.notifyOnChangeProps?p:m.trackResult(p)}function Sm(t,e){return AR(t,TR)}function SV(t,e){return AR(t,hV)}const xV=async({pageParam:t=null})=>{const e=si(mt,"posts");let n=Zs(e,zw("createdAt","desc"),Bw(10));t&&(n=Zs(e,zw("createdAt","desc"),Y4(t),Bw(10)));const i=await wo(n),a=i.docs.map(c=>({id:c.id,...c.data()})),l=i.docs[i.docs.length-1];return{posts:a,lastVisible:l}},Qn=({height:t})=>E.jsx("div",{className:`${t&&"min-h-[80vh]"} flex items-center justify-center`,children:E.jsx("div",{className:"loader"})}),AV=({buttonText:t,onClick:e})=>E.jsx("button",{onClick:e,className:"bg-primary text-white font-semibold py-2 px-5 rounded-lg shadow-md hover:bg-sky-600 cursor-pointer transition-colors duration-200",children:t}),RV=async(t,e)=>{try{const n=await y_(si(mt,"savedJobs"),{userId:t,jobId:e,date:vm()});return console.log("Saved job to Firestore with ID:",n.id),n.id}catch(n){throw console.error("Error saving job:",n),n}};function RR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=RR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function eo(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=RR(t))&&(i&&(i+=" "),i+=e);return i}function IV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}IV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ch=t=>typeof t=="number"&&!isNaN(t),fo=t=>typeof t=="string",$i=t=>typeof t=="function",CV=t=>fo(t)||ch(t),tv=t=>fo(t)||$i(t)?t:null,NV=(t,e)=>t===!1||ch(t)&&t>0?t:e,nv=t=>L.isValidElement(t)||fo(t)||$i(t)||ch(t);function OV(t,e,n=300){let{scrollHeight:i,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function DV({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:p,isIn:y,playToast:_}){let w=n?`${t}--${c}`:t,x=n?`${e}--${c}`:e,I=L.useRef(0);return L.useLayoutEffect(()=>{let D=p.current,N=w.split(" "),V=z=>{z.target===p.current&&(_(),D.removeEventListener("animationend",V),D.removeEventListener("animationcancel",V),I.current===0&&z.type!=="animationcancel"&&D.classList.remove(...N))};D.classList.add(...N),D.addEventListener("animationend",V),D.addEventListener("animationcancel",V)},[]),L.useEffect(()=>{let D=p.current,N=()=>{D.removeEventListener("animationend",N),i?OV(D,m,a):m()};y||(d?N():(I.current=1,D.className+=` ${x}`,D.addEventListener("animationend",N)))},[y]),Qe.createElement(Qe.Fragment,null,l)}}function yS(t,e){return{content:IR(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function IR(t,e,n=!1){return L.isValidElement(t)&&!fo(t.type)?L.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):$i(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function PV({closeToast:t,theme:e,ariaLabel:n="close"}){return Qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},Qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function kV({delay:t,isRunning:e,closeToast:n,type:i="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:m,isIn:p,theme:y}){let _=a||c&&d===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let x=eo("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),I=$i(l)?l({rtl:m,type:i,defaultClassName:x}):eo(x,l),D={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{p&&n()}};return Qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),Qe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:I,style:w,...D}))}var MV=1,CR=()=>`${MV++}`;function LV(t,e,n){let i=1,a=0,l=[],c=[],d=e,m=new Map,p=new Set,y=z=>(p.add(z),()=>p.delete(z)),_=()=>{c=Array.from(m.values()),p.forEach(z=>z())},w=({containerId:z,toastId:P,updateId:H})=>{let W=z?z!==t:t!==1,ie=m.has(P)&&H==null;return W||ie},x=(z,P)=>{m.forEach(H=>{var W;(P==null||P===H.props.toastId)&&((W=H.toggle)==null||W.call(H,z))})},I=z=>{var P,H;(H=(P=z.props)==null?void 0:P.onClose)==null||H.call(P,z.removalReason),z.isActive=!1},D=z=>{if(z==null)m.forEach(I);else{let P=m.get(z);P&&I(P)}_()},N=()=>{a-=l.length,l=[]},V=z=>{var P,H;let{toastId:W,updateId:ie}=z.props,O=ie==null;z.staleId&&m.delete(z.staleId),z.isActive=!0,m.set(W,z),_(),n(yS(z,O?"added":"updated")),O&&((H=(P=z.props).onOpen)==null||H.call(P))};return{id:t,props:d,observe:y,toggle:x,removeToast:D,toasts:m,clearQueue:N,buildToast:(z,P)=>{if(w(P))return;let{toastId:H,updateId:W,data:ie,staleId:O,delay:A}=P,C=W==null;C&&a++;let k={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(P).filter(([G,U])=>U!=null)),toastId:H,updateId:W,data:ie,isIn:!1,className:tv(P.className||d.toastClassName),progressClassName:tv(P.progressClassName||d.progressClassName),autoClose:P.isLoading?!1:NV(P.autoClose,d.autoClose),closeToast(G){m.get(H).removalReason=G,D(H)},deleteToast(){let G=m.get(H);if(G!=null){if(n(yS(G,"removed")),m.delete(H),a--,a<0&&(a=0),l.length>0){V(l.shift());return}_()}}};k.closeButton=d.closeButton,P.closeButton===!1||nv(P.closeButton)?k.closeButton=P.closeButton:P.closeButton===!0&&(k.closeButton=nv(d.closeButton)?d.closeButton:!0);let j={content:z,props:k,staleId:O};d.limit&&d.limit>0&&a>d.limit&&C?l.push(j):ch(A)?setTimeout(()=>{V(j)},A):V(j)},setProps(z){d=z},setToggle:(z,P)=>{let H=m.get(z);H&&(H.toggle=P)},isToastActive:z=>{var P;return(P=m.get(z))==null?void 0:P.isActive},getSnapshot:()=>c}}var En=new Map,Fc=[],rv=new Set,UV=t=>rv.forEach(e=>e(t)),NR=()=>En.size>0;function VV(){Fc.forEach(t=>DR(t.content,t.options)),Fc=[]}var jV=(t,{containerId:e})=>{var n;return(n=En.get(e||1))==null?void 0:n.toasts.get(t)};function OR(t,e){var n;if(e)return!!((n=En.get(e))!=null&&n.isToastActive(t));let i=!1;return En.forEach(a=>{a.isToastActive(t)&&(i=!0)}),i}function zV(t){if(!NR()){Fc=Fc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||CV(t))En.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=En.get(t.containerId);e?e.removeToast(t.id):En.forEach(n=>{n.removeToast(t.id)})}}var BV=(t={})=>{En.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function DR(t,e){nv(t)&&(NR()||Fc.push({content:t,options:e}),En.forEach(n=>{n.buildToast(t,e)}))}function qV(t){var e;(e=En.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function PR(t,e){En.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function FV(t){let e=t.containerId||1;return{subscribe(n){let i=LV(e,t,UV);En.set(e,i);let a=i.observe(n);return VV(),()=>{a(),En.delete(e)}},setProps(n){var i;(i=En.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=En.get(e))==null?void 0:n.getSnapshot()}}}function HV(t){return rv.add(t),()=>{rv.delete(t)}}function GV(t){return t&&(fo(t.toastId)||ch(t.toastId))?t.toastId:CR()}function hh(t,e){return DR(t,e),e.toastId}function xm(t,e){return{...e,type:e&&e.type||t,toastId:GV(e)}}function Am(t){return(e,n)=>hh(e,xm(t,n))}function ke(t,e){return hh(t,xm("default",e))}ke.loading=(t,e)=>hh(t,xm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function QV(t,{pending:e,error:n,success:i},a){let l;e&&(l=fo(e)?ke.loading(e,a):ke.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,y,_)=>{if(y==null){ke.dismiss(l);return}let w={type:p,...c,...a,data:_},x=fo(y)?{render:y}:y;return l?ke.update(l,{...w,...x}):ke(x.render,{...w,...x}),_},m=$i(t)?t():t;return m.then(p=>d("success",i,p)).catch(p=>d("error",n,p)),m}ke.promise=QV;ke.success=Am("success");ke.info=Am("info");ke.error=Am("error");ke.warning=Am("warning");ke.warn=ke.warning;ke.dark=(t,e)=>hh(t,xm("default",{theme:"dark",...e}));function $V(t){zV(t)}ke.dismiss=$V;ke.clearWaitingQueue=BV;ke.isActive=OR;ke.update=(t,e={})=>{let n=jV(t,e);if(n){let{props:i,content:a}=n,l={delay:100,...i,...e,toastId:e.toastId||t,updateId:CR()};l.toastId!==t&&(l.staleId=t);let c=l.render||a;delete l.render,hh(c,l)}};ke.done=t=>{ke.update(t,{progress:1})};ke.onChange=HV;ke.play=t=>PR(!0,t);ke.pause=t=>PR(!1,t);function KV(t){var e;let{subscribe:n,getSnapshot:i,setProps:a}=L.useRef(FV(t)).current;a(t);let l=(e=L.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let m=new Map;return t.newestOnTop&&l.reverse(),l.forEach(p=>{let{position:y}=p.props;m.has(y)||m.set(y,[]),m.get(y).push(p)}),Array.from(m,p=>d(p[0],p[1]))}return{getToastToRender:c,isToastActive:OR,count:l==null?void 0:l.length}}function YV(t){let[e,n]=L.useState(!1),[i,a]=L.useState(!1),l=L.useRef(null),c=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:p,onClick:y,closeOnClick:_}=t;qV({id:t.toastId,containerId:t.containerId,fn:n}),L.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{x()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||V(),window.addEventListener("focus",N),window.addEventListener("blur",V)}function x(){window.removeEventListener("focus",N),window.removeEventListener("blur",V)}function I(O){if(t.draggable===!0||t.draggable===O.pointerType){z();let A=l.current;c.canCloseOnClick=!0,c.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(c.start=O.clientX,c.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(c.start=O.clientY,c.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function D(O){let{top:A,bottom:C,left:k,right:j}=l.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&t.pauseOnHover&&O.clientX>=k&&O.clientX<=j&&O.clientY>=A&&O.clientY<=C?V():N()}function N(){n(!0)}function V(){n(!1)}function z(){c.didMove=!1,document.addEventListener("pointermove",H),document.addEventListener("pointerup",W)}function P(){document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",W)}function H(O){let A=l.current;if(c.canDrag&&A){c.didMove=!0,e&&V(),t.draggableDirection==="x"?c.delta=O.clientX-c.start:c.delta=O.clientY-c.start,c.start!==O.clientX&&(c.canCloseOnClick=!1);let C=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;A.style.transform=`translate3d(${C},0)`,A.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function W(){P();let O=l.current;if(c.canDrag&&c.didMove&&O){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let ie={onPointerDown:I,onPointerUp:D};return d&&m&&(ie.onMouseEnter=V,t.stacked||(ie.onMouseLeave=N)),_&&(ie.onClick=O=>{y&&y(O),c.canCloseOnClick&&p(!0)}),{playToast:N,pauseToast:V,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:ie}}var XV=typeof window<"u"?L.useLayoutEffect:L.useEffect,Rm=({theme:t,type:e,isLoading:n,...i})=>Qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function WV(t){return Qe.createElement(Rm,{...t},Qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function JV(t){return Qe.createElement(Rm,{...t},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ZV(t){return Qe.createElement(Rm,{...t},Qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function e6(t){return Qe.createElement(Rm,{...t},Qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function t6(){return Qe.createElement("div",{className:"Toastify__spinner"})}var iv={info:JV,warning:WV,success:ZV,error:e6,spinner:t6},n6=t=>t in iv;function r6({theme:t,type:e,isLoading:n,icon:i}){let a=null,l={theme:t,type:e};return i===!1||($i(i)?a=i({...l,isLoading:n}):L.isValidElement(i)?a=L.cloneElement(i,l):n?a=iv.spinner():n6(e)&&(a=iv[e](l))),a}var i6=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:l}=YV(t),{closeButton:c,children:d,autoClose:m,onClick:p,type:y,hideProgressBar:_,closeToast:w,transition:x,position:I,className:D,style:N,progressClassName:V,updateId:z,role:P,progress:H,rtl:W,toastId:ie,deleteToast:O,isIn:A,isLoading:C,closeOnClick:k,theme:j,ariaLabel:G}=t,U=eo("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":W},{"Toastify__toast--close-on-click":k}),Pt=$i(D)?D({rtl:W,position:I,type:y,defaultClassName:U}):eo(U,D),ct=r6(t),ee=!!H||!m,ce={closeToast:w,type:y,theme:j},ge=null;return c===!1||($i(c)?ge=c(ce):L.isValidElement(c)?ge=L.cloneElement(c,ce):ge=PV(ce)),Qe.createElement(x,{isIn:A,done:O,position:I,preventExitTransition:n,nodeRef:i,playToast:l},Qe.createElement("div",{id:ie,tabIndex:0,onClick:p,"data-in":A,className:Pt,...a,style:N,ref:i,...A&&{role:P,"aria-label":G}},ct!=null&&Qe.createElement("div",{className:eo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},ct),IR(d,t,!e),ge,!t.customProgressBar&&Qe.createElement(kV,{...z&&!ee?{key:`p-${z}`}:{},rtl:W,theme:j,delay:m,isRunning:e,isIn:A,closeToast:w,hide:_,type:y,className:V,controlledProgress:ee,progress:H||0})))},s6=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),a6=DV(s6("bounce",!0)),o6={position:"top-right",transition:a6,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function l6(t){let e={...o6,...t},n=t.stacked,[i,a]=L.useState(!0),l=L.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=KV(e),{className:p,style:y,rtl:_,containerId:w,hotKeys:x}=e;function I(N){let V=eo("Toastify__toast-container",`Toastify__toast-container--${N}`,{"Toastify__toast-container--rtl":_});return $i(p)?p({position:N,rtl:_,defaultClassName:V}):eo(V,tv(p))}function D(){n&&(a(!0),ke.play())}return XV(()=>{var N;if(n){let V=l.current.querySelectorAll('[data-in="true"]'),z=12,P=(N=e.position)==null?void 0:N.includes("top"),H=0,W=0;Array.from(V).reverse().forEach((ie,O)=>{let A=ie;A.classList.add("Toastify__toast--stacked"),O>0&&(A.dataset.collapsed=`${i}`),A.dataset.pos||(A.dataset.pos=P?"top":"bot");let C=H*(i?.2:1)+(i?0:z*O);A.style.setProperty("--y",`${P?C:C*-1}px`),A.style.setProperty("--g",`${z}`),A.style.setProperty("--s",`${1-(i?W:0)}`),H+=A.offsetHeight,W+=.025})}},[i,m,n]),L.useEffect(()=>{function N(V){var z;let P=l.current;x(V)&&((z=P.querySelector('[tabIndex="0"]'))==null||z.focus(),a(!1),ke.pause()),V.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(a(!0),ke.play())}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[x]),Qe.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{n&&(a(!1),ke.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((N,V)=>{let z=V.length?{...y}:{...y,pointerEvents:"none"};return Qe.createElement("div",{tabIndex:-1,className:I(N),"data-stacked":n,style:z,key:`c-${N}`},V.map(({content:P,props:H})=>Qe.createElement(i6,{...H,stacked:n,collapseAll:D,isIn:d(H.toastId,H.containerId),key:`t-${H.key}`},P)))}))}const kR=({post:t,setselectedPost:e})=>{const n=Ar(d=>d.user.currentUser),i=Ar(d=>d.bookmarkedJobs.jobIds),a=ur(),l=i.includes(t.id),c=async d=>{if(d.stopPropagation(),!n){ke.info("Login first to bookmark ");return}const m=t.id;if(l){a(jU(m)),ke.success("Removed from bookmarks ");const p=Zs(si(mt,"savedJobs"),oo("userId","==",n.uid),oo("jobId","==",m)),y=await wo(p);for(const _ of y.docs)await g_(wn(mt,"savedJobs",_.id))}else a(VU(m)),ke.success("Job bookmarked "),await RV(n.uid,m)};return E.jsxs("div",{onClick:()=>e==null?void 0:e(t),className:"relative bg-cardBg p-6 rounded-2xl border hover:border-primary shadow transition cursor-pointer",children:[l?E.jsx(hR,{onClick:c,className:"absolute top-4 right-4 text-2xl text-primary"}):E.jsx(UU,{onClick:c,className:"absolute top-4 right-4 text-2xl text-primary"}),E.jsx("h3",{className:"text-2xl font-bold text-primary mb-2",children:t.title}),E.jsx("p",{className:"text-textMuted mb-4 line-clamp-3",children:t.description}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("p",{className:"font-semibold text-lg text-primary",children:[" ",t.salary]}),E.jsx("span",{className:"text-sm bg-primary text-white px-3 py-1 rounded-full",children:"Apply Now"})]})]})},u6=async t=>{const e=Zs(si(mt,"savedJobs"),oo("userId","==",t));return(await wo(e)).docs.map(i=>i.data().jobId)},c6=t=>Sm({queryKey:["savedJobIds",t],queryFn:()=>u6(t),enabled:!!t,staleTime:1e3*60*2});var sv=new Map,Yf=new WeakMap,vS=0,h6=void 0;function f6(t){return t?(Yf.has(t)||(vS+=1,Yf.set(t,vS.toString())),Yf.get(t)):"0"}function d6(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?f6(t.root):t[e]}`).toString()}function m6(t){const e=d6(t);let n=sv.get(e);if(!n){const i=new Map;let a;const l=new IntersectionObserver(c=>{c.forEach(d=>{var m;const p=d.isIntersecting&&a.some(y=>d.intersectionRatio>=y);t.trackVisibility&&typeof d.isVisible>"u"&&(d.isVisible=p),(m=i.get(d.target))==null||m.forEach(y=>{y(p,d)})})},t);a=l.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:l,elements:i},sv.set(e,n)}return n}function p6(t,e,n={},i=h6){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const m=t.getBoundingClientRect();return e(i,{isIntersecting:i,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:m,intersectionRect:m,rootBounds:m}),()=>{}}const{id:a,observer:l,elements:c}=m6(n),d=c.get(t)||[];return c.has(t)||c.set(t,d),d.push(e),l.observe(t),function(){d.splice(d.indexOf(e),1),d.length===0&&(c.delete(t),l.unobserve(t)),c.size===0&&(l.disconnect(),sv.delete(a))}}function g6({threshold:t,delay:e,trackVisibility:n,rootMargin:i,root:a,triggerOnce:l,skip:c,initialInView:d,fallbackInView:m,onChange:p}={}){var y;const[_,w]=L.useState(null),x=L.useRef(p),[I,D]=L.useState({inView:!!d,entry:void 0});x.current=p,L.useEffect(()=>{if(c||!_)return;let P;return P=p6(_,(H,W)=>{D({inView:H,entry:W}),x.current&&x.current(H,W),W.isIntersecting&&l&&P&&(P(),P=void 0)},{root:a,rootMargin:i,threshold:t,trackVisibility:n,delay:e},m),()=>{P&&P()}},[Array.isArray(t)?t.toString():t,_,a,i,l,c,n,m,e]);const N=(y=I.entry)==null?void 0:y.target,V=L.useRef(void 0);!_&&N&&!l&&!c&&V.current!==N&&(V.current=N,D({inView:!!d,entry:void 0}));const z=[w,I.inView,I.entry];return z.ref=z[0],z.inView=z[1],z.entry=z[2],z}const _S=()=>{const t=Ar(z=>z.user.currentUser),{data:e,isLoading:n}=c6(t==null?void 0:t.uid),i=ur(),[a,l]=L.useState(null),[c,d]=L.useState(""),{ref:m,inView:p}=g6(),{data:y,isLoading:_,error:w,hasNextPage:x,fetchNextPage:I,isFetchingNextPage:D}=SV({queryKey:["posts"],queryFn:xV,getNextPageParam:z=>z.lastVisible||void 0});L.useEffect(()=>{!n&&e&&i(C_(e||[]))},[n,e,i]),L.useEffect(()=>{p&&x&&I()},[p,x,I]),L.useEffect(()=>{const z=(y==null?void 0:y.pages.flatMap(P=>P.posts))||[];z.length>0&&a===null&&l(z[0])},[y,a]);const V=((y==null?void 0:y.pages.flatMap(z=>z.posts))||[]).filter(z=>z.title.toLowerCase().includes(c.toLowerCase())||z.company.toLowerCase().includes(c.toLowerCase()));return _||n?E.jsx(Qn,{height:!0}):w?E.jsx("div",{children:"Error loading posts"}):E.jsxs("div",{className:"bg-bgc min-h-screen pt-20 px-4",children:[E.jsxs("div",{className:"flex flex-col items-center mb-10",children:[E.jsx("div",{className:"w-full max-w-[600px] mb-6",children:E.jsx("input",{type:"text",placeholder:" Search jobs... titles, vibes, and more",value:c,onChange:z=>d(z.target.value),className:"w-full px-5 py-3 rounded-xl bg-[#1F2937]/70 backdrop-blur-md text-textLight border border-primary placeholder:text-textMuted focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300 shadow-md hover:shadow-xl"})}),E.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-textLight",children:" Land Your Dream Job Today!"})]}),E.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-10 max-w-[1200px] mx-auto",children:[E.jsxs("div",{className:"flex-1 space-y-6",children:[V.length===0?E.jsx("p",{className:"text-textMuted text-center",children:"No jobs found "}):V.map(z=>E.jsx(kR,{post:z,setselectedPost:l},z.id)),E.jsx("div",{ref:m,className:"h-10"}),D&&E.jsx(Qn,{height:!1})]}),E.jsx("div",{className:"w-full md:w-[500px]",children:a&&E.jsx("div",{className:"sticky top-10",children:E.jsxs("div",{className:"p-6 rounded-2xl bg-cardBg shadow-lg border-2 border-primary space-y-5 animate-fadeIn",children:[E.jsxs("h2",{className:"text-3xl font-extrabold text-textLight flex items-center gap-2",children:[a.title," ",E.jsx("span",{className:"text-primary",children:""})]}),E.jsx("p",{className:"text-md text-textMuted leading-relaxed tracking-wide",children:a.description}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("p",{className:"text-lg font-semibold text-sky-400",children:[" ",E.jsx("span",{className:"text-textLight",children:"Salary:"})," ",a.salary]}),E.jsxs("p",{className:"text-lg font-semibold text-emerald-400",children:[" ",E.jsx("span",{className:"text-textLight",children:"Company:"})," ",a.company]}),E.jsxs("p",{className:"text-lg font-semibold text-pink-400",children:[" ",E.jsx("span",{className:"text-textLight",children:"Location:"})," ",a.location]})]}),E.jsx(yv,{to:`/jobs/${a.id}`,className:"block w-fit",children:E.jsx(AV,{buttonText:"Apply Now "})})]})})})]})]})},y6=()=>E.jsxs("div",{className:"bg-[var(--color-bgc)] text-[var(--color-textLight)] font-sans",children:[E.jsx("section",{className:"min-h-[90vh] flex items-center justify-center px-6 py-20 bg-[var(--color-bgc)] text-center",children:E.jsxs("div",{className:"max-w-4xl",children:[E.jsxs("h1",{className:"text-5xl sm:text-6xl font-black text-[var(--color-primary)] mb-6 leading-tight animate-pulse",children:[" Find Jobs. ",E.jsx("br",{className:"sm:hidden"})," Not Stress."]}),E.jsx("p",{className:"text-lg sm:text-xl text-[var(--color-textMuted)] max-w-xl mx-auto",children:"We're not LinkedIn  we're LinkedLit. Built for real ones who want real jobs with zero cringe."})]})}),E.jsx("section",{className:"py-20 px-6 max-w-6xl mx-auto",children:E.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-3xl font-bold text-[var(--color-primary)] mb-4",children:"Our Story "}),E.jsx("p",{className:"text-[var(--color-textMuted)] leading-relaxed text-[17px]",children:"Once upon a deadline, a bunch of devs got tired of broken job portals, spammy listings, and ghosted applications. So we built JobConnect  a chill, smart platform that actually works. No fluff. No fuss. Just jobs."})]}),E.jsx("div",{className:"bg-[var(--color-cardBg)] h-64 rounded-xl shadow-md border border-[var(--color-primary)] flex items-center justify-center text-[var(--color-primary)] text-2xl font-semibold hover:scale-[1.02] transition-all",children:" Real tools. Real people. Real jobs."})]})}),E.jsxs("section",{className:"py-20 px-6",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-3xl font-bold text-[var(--color-primary)]",children:"Our Mission "}),E.jsx("p",{className:"text-[var(--color-textMuted)] mt-2 text-base",children:"What gets us hyped daily."})]}),E.jsx("div",{className:"relative border-l-4 border-[var(--color-primary)] pl-6 max-w-3xl mx-auto space-y-12",children:[{title:" Boost Job Seekers",text:"Help you stand out with a fire resume & zero anxiety."},{title:" Make Hiring Less Mid",text:"A hiring process that doesnt feel like solving quantum physics."},{title:" Connect You With Vibes",text:"We link real talent with real teams. No fake vibes allowed."}].map(({title:t,text:e},n)=>E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold text-[var(--color-primary)]",children:t}),E.jsx("p",{className:"text-[var(--color-textMuted)]",children:e})]},n))})]}),E.jsxs("section",{className:"py-20 px-6 bg-[var(--color-cardBg)]",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-3xl font-bold text-[var(--color-primary)]",children:"The Cool Nerds Behind It "}),E.jsx("p",{className:"text-[var(--color-textMuted)] mt-2",children:"No CEOs. Just G.O.A.T.s."})]}),E.jsx("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3 max-w-6xl mx-auto",children:["","",""].map((t,e)=>E.jsxs("div",{className:"bg-[var(--color-bgc)] border border-[var(--color-cardBg)] rounded-xl p-6 shadow-md hover:shadow-xl hover:scale-[1.03] transition-all duration-300 text-center",children:[E.jsx("div",{className:"text-5xl mb-4",children:t}),E.jsxs("h3",{className:"font-semibold text-[var(--color-primary)] text-lg",children:["Dev #",e+1]}),E.jsx("p",{className:"text-[var(--color-textMuted)] text-sm",children:"Frontend Ninja"})]},e))})]}),E.jsx("section",{className:"py-20 px-6 bg-[var(--color-bgc)]",children:E.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[E.jsx("blockquote",{className:"text-2xl italic text-[var(--color-textLight)]",children:"This ain't just an app  its your glow up moment."}),E.jsx("p",{className:"mt-4 text-[var(--color-primary)] font-bold",children:" Team JobConnect "})]})})]}),v6={currentUser:null},MR=wm({name:"user",initialState:v6,reducers:{setUser:(t,e)=>{t.currentUser=e.payload},logoutUser:t=>{t.currentUser=null},updateEditedUser:(t,e)=>({...t,...e.payload})}}),{setUser:Im,logoutUser:_6,updateEditedUser:b6}=MR.actions,E6=MR.reducer,T6=()=>{const[t,e]=L.useState(""),[n,i]=L.useState(""),[a,l]=L.useState(""),[c,d]=L.useState(!1),[m,p]=L.useState(""),[y,_]=L.useState(""),[w,x]=L.useState(""),[I,D]=L.useState(""),[N,V]=L.useState(""),[z,P]=L.useState(""),H=Ir(),W=ur();L.useEffect(()=>{const O=Nv(),A=th(O,async C=>{C&&C.emailVerified&&H("/home")});return()=>A()},[]);const ie=async O=>{O.preventDefault(),d(!0);try{const A=await A3(t,n,a);ke(" Verification email sent. Go check it!");const C=setInterval(async()=>{if(await A.reload(),A.emailVerified){clearInterval(C),await Vx(A,{displayName:m});const k=w.split(",").map(j=>j.trim());await p_(wn(mt,"users",A.uid),{uid:A.uid,email:A.email,type:a,username:m,phone:y,bio:z,skills:k,github:I,linkedin:N,createdAt:new Date().toISOString()}),W(Im({uid:A.uid,email:A.email,emailVerified:!0,type:a,username:m,phone:y,bio:z,skills:k,github:I,linkedin:N})),H("/home")}},3e3)}catch(A){console.error(" Signup error:",A),ke.error("Signup failed: "+A.message),d(!1)}};return E.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[var(--color-bgc)] px-4",children:c?E.jsx(Qn,{}):E.jsxs("div",{className:"w-full max-w-md mt-5 bg-[var(--color-cardBg)] shadow-lg rounded-xl p-8 border border-[var(--color-primary)]",children:[E.jsx("h2",{className:"text-3xl font-bold text-[var(--color-primary)] text-center mb-2",children:"Lets Create Your Profile "}),E.jsx("p",{className:"text-sm text-center text-[var(--color-textMuted)] mb-6",children:"Just a few details and you're good to go."}),E.jsxs("form",{onSubmit:ie,className:"space-y-4 text-[var(--color-textLight)]",children:[E.jsx("input",{type:"text",placeholder:"Username *",value:m,onChange:O=>p(O.target.value),required:!0,className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"email",placeholder:"Email *",value:t,onChange:O=>e(O.target.value),required:!0,className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"password",placeholder:"Password *",value:n,onChange:O=>i(O.target.value),required:!0,className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"text",placeholder:"Phone",value:y,onChange:O=>_(O.target.value),className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"text",placeholder:"Skills (comma separated)",value:w,onChange:O=>x(O.target.value),className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"text",placeholder:"Short Bio",value:z,onChange:O=>P(O.target.value),className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"url",placeholder:"GitHub Profile",value:I,onChange:O=>D(O.target.value),className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsx("input",{type:"url",placeholder:"LinkedIn Profile",value:N,onChange:O=>V(O.target.value),className:"bg-transparent border border-[var(--color-textMuted)] rounded-md w-full px-4 py-2 placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"}),E.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[E.jsx("input",{type:"radio",value:"JobSeeker",checked:a==="JobSeeker",onChange:O=>l(O.target.value),className:"accent-[var(--color-primary)]"}),E.jsx("span",{className:"text-[var(--color-textLight)]",children:"Job Seeker"})]}),E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[E.jsx("input",{type:"radio",value:"Recruiter",checked:a==="Recruiter",onChange:O=>l(O.target.value),className:"accent-[var(--color-primary)]"}),E.jsx("span",{className:"text-[var(--color-textLight)]",children:"Recruiter"})]})]}),E.jsx("button",{type:"submit",className:"w-full bg-[var(--color-primary)] hover:bg-sky-500 text-[var(--color-bgc)] py-2.5 rounded-md font-bold text-lg transition",children:"Sign Me Up "})]}),E.jsxs("p",{className:"mt-6 text-sm text-center text-[var(--color-textMuted)]",children:["Already vibing here?"," ",E.jsx(vr,{to:"/login",className:"text-[var(--color-primary)] font-medium hover:underline",children:"Log in"})]})]})})},w6=()=>{const[t,e]=L.useState(""),[n,i]=L.useState(""),[a,l]=L.useState(!1),c=ur(),d=Ir(),m=async p=>{p.preventDefault(),l(!0);try{const y=await R3(t,n);if(!y.emailVerified){ke.error("Bruh... verify your email first "),l(!1);return}const _=wn(mt,"users",y.uid),w=await To(_);if(w.exists()){const x={uid:y.uid,email:y.email,emailVerified:y.emailVerified,...w.data()};c(Im(x))}ke.success("You're in. Lets get that "),d("/home")}catch(y){console.error("Login error:",y),ke.error("Login failed: "+y.message)}finally{l(!1)}};return E.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[var(--color-bgc)] px-4",children:a?E.jsx(Qn,{}):E.jsxs("div",{className:"w-full max-w-md bg-[var(--color-cardBg)] rounded-2xl shadow-lg p-8 border border-[var(--color-primary)] transition duration-300",children:[E.jsx("h2",{className:"text-4xl font-extrabold text-center text-[var(--color-primary)] mb-6 leading-tight",children:" Welcome Back, Legend."}),E.jsx("p",{className:"text-center text-[var(--color-textMuted)] text-sm mb-8",children:"Login to unlock the good stuff."}),E.jsxs("form",{onSubmit:m,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-[var(--color-textLight)] mb-1",children:"Email"}),E.jsx("input",{type:"email",placeholder:"you@vibemail.com",required:!0,value:t,onChange:p=>e(p.target.value),className:"w-full px-4 py-2 bg-transparent border border-[var(--color-textMuted)] rounded-md text-[var(--color-textLight)] placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-[var(--color-textLight)] mb-1",children:"Password"}),E.jsx("input",{type:"password",placeholder:"",required:!0,value:n,onChange:p=>i(p.target.value),className:"w-full px-4 py-2 bg-transparent border border-[var(--color-textMuted)] rounded-md text-[var(--color-textLight)] placeholder-[var(--color-textMuted)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] transition"})]}),E.jsx("button",{type:"submit",className:"w-full bg-[var(--color-primary)] hover:bg-sky-500 text-[var(--color-bgc)] py-2.5 rounded-md font-bold text-lg transition duration-200",children:"Let Me In "})]}),E.jsxs("p",{className:"mt-6 text-center text-sm text-[var(--color-textMuted)]",children:["Dont have an account?"," ",E.jsx("a",{href:"/signup",className:"text-[var(--color-primary)] hover:underline font-medium",children:"Sign Up"})]})]})})},S6=()=>E.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Welcome to Your Dashboard"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Total Projects"}),E.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"12"})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Active Tasks"}),E.jsx("p",{className:"text-3xl font-bold text-green-600",children:"8"})]}),E.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[E.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Team Members"}),E.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"5"})]})]}),E.jsxs("div",{className:"mt-10",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Recent Activity"}),E.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md text-gray-600",children:E.jsx("p",{children:"No recent activity to display."})})]})]})}),x6=()=>{const t=Ir(),e=ur(),n=Fn.currentUser,i=Ar(m=>m.user.currentUser),[a,l]=L.useState({username:"",phone:"",education:"",skills:"",confirmPassword:"",confirmEmail:"",github:"",linkedin:""}),c=m=>{const{name:p,value:y}=m.target;l({...a,[p]:y})},d=async m=>{if(m.preventDefault(),!i){alert(" User not logged in!");return}try{const p=wn(mt,"users",i.uid),y=a.skills.split(",").map(w=>w.trim());await p_(p,{username:a.username,email:i.email,phone:a.phone,education:a.education,skills:y,confirmPassword:a.confirmPassword,confirmEmail:a.confirmEmail,github:a.github,linkedin:a.linkedin,uid:i.uid},{merge:!0}),await Vx(n,{displayName:a.username});const _={username:a.username,email:i.email,phone:a.phone,education:a.education,skills:y,confirmPassword:a.confirmPassword,confirmEmail:a.confirmEmail,github:a.github,linkedin:a.linkedin,uid:i.uid};e(Im(_)),alert(" Profile updated successfully!"),t("/home")}catch(p){console.error(" Firestore error:",p),alert(" Something went wrong while saving profile: "+p.message)}};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-6",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-10",children:[E.jsx("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-8",children:"Complete Your Profile"}),E.jsxs("form",{onSubmit:d,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("input",{name:"username",type:"text",placeholder:"Username *",onChange:c,required:!0,className:"input"}),E.jsx("input",{name:"phone",type:"text",placeholder:"Phone Number",onChange:c,className:"input"}),E.jsx("input",{name:"skills",type:"text",placeholder:"Skills (comma separated)",onChange:c,className:"input"}),E.jsx("input",{name:"github",type:"url",placeholder:"GitHub Profile",onChange:c,className:"input"}),E.jsx("input",{name:"linkedin",type:"url",placeholder:"LinkedIn Profile",onChange:c,className:"input"})]}),E.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition duration-300",children:"Save Profile"})]})]})})},bS=({user:t})=>{const e=ur(),[n,i]=L.useState({uid:"",username:"",email:"",phone:"",skills:"",bio:"",github:"",linkedin:"",resumeName:"",resumeURL:""}),[a,l]=L.useState(!1),[c,d]=L.useState(!0),[m,p]=L.useState(null),[y,_]=L.useState(null);L.useEffect(()=>{t&&(i({uid:t.uid||"",username:t.username||"",email:t.email||"",phone:t.phone||"",skills:t.skills||"",bio:t.bio||"",github:t.github||"",linkedin:t.linkedin||"",resumeName:t.resumeName||"",resumeURL:t.resumeURL||""}),d(!1))},[t]);const w=P=>{const{name:H,value:W}=P.target;i(ie=>({...ie,[H]:W}))},x=P=>{const H=P.target.files[0];H&&p(H)},I=()=>l(!0),D=()=>{t&&i({uid:t.uid||"",username:t.username||"",email:t.email||"",phone:t.phone||"",skills:t.skills||"",bio:t.bio||"",github:t.github||"",linkedin:t.linkedin||"",resumeName:t.resumeName||"",resumeURL:t.resumeURL||""}),l(!1),p(null)},N=async()=>{try{const{uid:P,...H}=n;if(!P)return ke.error("User not found.");if(m){_(!0);const ie=h3(y3,`resumes/${P}/${m.name}`);await u3(ie,m);const O=await c3(ie);H.resumeURL=O,H.resumeName=m.name,i(A=>({...A,resumeURL:O,resumeName:m.name})),_(!1)}const W=wn(mt,"users",P);await eL(W,H),e(b6({...n,...H})),ke.success("Profile updated successfully "),l(!1),p(null)}catch(P){ke.error("Failed to update profile "),console.error("Error:",P.message)}},V=(P,H,W="")=>E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsxs("label",{className:"text-sm text-textMuted mb-1",children:[W," ",P]}),a?E.jsx("input",{type:"text",name:H,value:n[H],onChange:w,placeholder:`Enter your ${P.toLowerCase()}`,className:"bg-[#1F2937] text-textLight border border-primary rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-sky-400"}):E.jsx("p",{className:"text-textLight",children:n[H]||"Not provided"})]}),z=()=>E.jsxs("div",{className:"flex flex-col",children:[E.jsx("label",{className:"text-sm text-textMuted mb-1",children:" Resume"}),a?E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:x,className:"text-sm text-textLight"}),n.resumeName&&!m&&E.jsxs("p",{className:"text-xs text-gray-400",children:["Current: ",E.jsx("strong",{children:n.resumeName})]})]}):n.resumeName?E.jsxs("a",{href:n.resumeURL,target:"_blank",rel:"noreferrer",className:"text-sky-400 underline text-sm",children:["View ",n.resumeName]}):E.jsx("p",{className:"text-gray-500 italic",children:"No resume uploaded"})]});return c||!t?E.jsx("div",{className:"text-center mt-10 text-textLight",children:" Loading profile..."}):E.jsxs("div",{className:"bg-cardBg text-textLight shadow-xl border border-primary rounded-2xl p-8 max-w-3xl mx-auto mt-10 animate-fadeIn",children:[E.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-primary",children:" Your Profile"}),E.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[V("Username","username",""),V("Email","email",""),V("Phone","phone",""),V("Skills","skills",""),V("Bio","bio",""),V("GitHub","github",""),V("LinkedIn","linkedin",""),z()]}),a?E.jsxs("div",{className:"flex flex-wrap gap-4 mt-8",children:[E.jsx("button",{onClick:N,className:"bg-emerald-500 hover:bg-emerald-600 transition text-white px-6 py-2 rounded-md shadow",children:y?"Uploading...":" Save"}),E.jsx("button",{onClick:D,className:"bg-gray-600 hover:bg-gray-700 transition text-white px-6 py-2 rounded-md shadow",children:" Cancel"})]}):E.jsx("div",{className:"mt-8",children:E.jsx("button",{onClick:I,className:"bg-sky-600 hover:bg-sky-700 transition text-white px-6 py-2 rounded-md shadow",children:" Edit Profile"})})]})},A6={jobId:null,resumeURL:null,answers:[],userInfo:null},LR=wm({name:"jobApplication",initialState:A6,reducers:{setJobId:(t,e)=>{t.jobId=e.payload},setResumeURL:(t,e)=>{t.resumeURL=e.payload},setAnswers:(t,e)=>{t.answers=e.payload},setUserInfo:(t,e)=>{t.userInfo=e.payload},resetApplication:t=>{t.jobId=null,t.resumeURL=null,t.answers=[],t.userInfo=null}}}),{setJobId:R6,setResumeURL:I6,setAnswers:C6,setUserInfo:N6,resetApplication:O6}=LR.actions,D6=LR.reducer;var k_="persist:",M_="persist/FLUSH",Cm="persist/REHYDRATE",L_="persist/PAUSE",U_="persist/PERSIST",V_="persist/PURGE",j_="persist/REGISTER",P6=-1;function cd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cd=function(n){return typeof n}:cd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cd(t)}function ES(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function k6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ES(n,!0).forEach(function(i){M6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ES(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function M6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t,e,n,i){i.debug;var a=k6({},n);return t&&cd(t)==="object"&&Object.keys(t).forEach(function(l){l!=="_persist"&&e[l]===n[l]&&(a[l]=t[l])}),a}function U6(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],a=t.throttle||0,l="".concat(t.keyPrefix!==void 0?t.keyPrefix:k_).concat(t.key),c=t.storage,d;t.serialize===!1?d=function(W){return W}:typeof t.serialize=="function"?d=t.serialize:d=V6;var m=t.writeFailHandler||null,p={},y={},_=[],w=null,x=null,I=function(W){Object.keys(W).forEach(function(ie){V(ie)&&p[ie]!==W[ie]&&_.indexOf(ie)===-1&&_.push(ie)}),Object.keys(p).forEach(function(ie){W[ie]===void 0&&V(ie)&&_.indexOf(ie)===-1&&p[ie]!==void 0&&_.push(ie)}),w===null&&(w=setInterval(D,a)),p=W};function D(){if(_.length===0){w&&clearInterval(w),w=null;return}var H=_.shift(),W=i.reduce(function(ie,O){return O.in(ie,H,p)},p[H]);if(W!==void 0)try{y[H]=d(W)}catch(ie){console.error("redux-persist/createPersistoid: error serializing state",ie)}else delete y[H];_.length===0&&N()}function N(){Object.keys(y).forEach(function(H){p[H]===void 0&&delete y[H]}),x=c.setItem(l,d(y)).catch(z)}function V(H){return!(n&&n.indexOf(H)===-1&&H!=="_persist"||e&&e.indexOf(H)!==-1)}function z(H){m&&m(H)}var P=function(){for(;_.length!==0;)D();return x||Promise.resolve()};return{update:I,flush:P}}function V6(t){return JSON.stringify(t)}function j6(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:k_).concat(t.key),i=t.storage;t.debug;var a;return t.deserialize===!1?a=function(c){return c}:typeof t.deserialize=="function"?a=t.deserialize:a=z6,i.getItem(n).then(function(l){if(l)try{var c={},d=a(l);return Object.keys(d).forEach(function(m){c[m]=e.reduceRight(function(p,y){return y.out(p,m,d)},a(d[m]))}),c}catch(m){throw m}else return})}function z6(t){return JSON.parse(t)}function B6(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:k_).concat(t.key);return e.removeItem(n,q6)}function q6(t){}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(n,!0).forEach(function(i){F6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function F6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t,e){if(t==null)return{};var n=G6(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function G6(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var Q6=5e3;function $6(t,e){var n=t.version!==void 0?t.version:P6;t.debug;var i=t.stateReconciler===void 0?L6:t.stateReconciler,a=t.getStoredState||j6,l=t.timeout!==void 0?t.timeout:Q6,c=null,d=!1,m=!0,p=function(_){return _._persist.rehydrated&&c&&!m&&c.update(_),_};return function(y,_){var w=y||{},x=w._persist,I=H6(w,["_persist"]),D=I;if(_.type===U_){var N=!1,V=function(A,C){N||(_.rehydrate(t.key,A,C),N=!0)};if(l&&setTimeout(function(){!N&&V(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},l),m=!1,c||(c=U6(t)),x)return Di({},e(D,_),{_persist:x});if(typeof _.rehydrate!="function"||typeof _.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return _.register(t.key),a(t).then(function(O){var A=t.migrate||function(C,k){return Promise.resolve(C)};A(O,n).then(function(C){V(C)},function(C){V(void 0,C)})},function(O){V(void 0,O)}),Di({},e(D,_),{_persist:{version:n,rehydrated:!1}})}else{if(_.type===V_)return d=!0,_.result(B6(t)),Di({},e(D,_),{_persist:x});if(_.type===M_)return _.result(c&&c.flush()),Di({},e(D,_),{_persist:x});if(_.type===L_)m=!0;else if(_.type===Cm){if(d)return Di({},D,{_persist:Di({},x,{rehydrated:!0})});if(_.key===t.key){var z=e(D,_),P=_.payload,H=i!==!1&&P!==void 0?i(P,y,z,t):z,W=Di({},H,{_persist:Di({},x,{rehydrated:!0})});return p(W)}}}if(!x)return e(y,_);var ie=e(D,_);return ie===D?y:p(Di({},ie,{_persist:x}))}}function wS(t){return X6(t)||Y6(t)||K6()}function K6(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Y6(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function X6(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function SS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SS(n,!0).forEach(function(i){W6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function W6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var UR={registry:[],bootstrapped:!1},J6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UR,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case j_:return av({},e,{registry:[].concat(wS(e.registry),[n.key])});case Cm:var i=e.registry.indexOf(n.key),a=wS(e.registry);return a.splice(i,1),av({},e,{registry:a,bootstrapped:a.length===0});default:return e}};function Z6(t,e,n){var i=A_(J6,UR,void 0),a=function(m){i.dispatch({type:j_,key:m})},l=function(m,p,y){var _={type:Cm,payload:p,err:y,key:m};t.dispatch(_),i.dispatch(_)},c=av({},i,{purge:function(){var m=[];return t.dispatch({type:V_,result:function(y){m.push(y)}}),Promise.all(m)},flush:function(){var m=[];return t.dispatch({type:M_,result:function(y){m.push(y)}}),Promise.all(m)},pause:function(){t.dispatch({type:L_})},persist:function(){t.dispatch({type:U_,register:a,rehydrate:l})}});return c.persist(),c}var mc={},Xf={},Wf={},xS;function ej(){if(xS)return Wf;xS=1,Wf.__esModule=!0,Wf.default=a;function t(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(l)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function i(l){if((typeof self>"u"?"undefined":t(self))!=="object"||!(l in self))return!1;try{var c=self[l],d="redux-persist ".concat(l," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function a(l){var c="".concat(l,"Storage");return i(c)?self[c]:n}return Wf}var AS;function tj(){if(AS)return Xf;AS=1,Xf.__esModule=!0,Xf.default=n;var t=e(ej());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){var a=(0,t.default)(i);return{getItem:function(c){return new Promise(function(d,m){d(a.getItem(c))})},setItem:function(c,d){return new Promise(function(m,p){m(a.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,m){d(a.removeItem(c))})}}}return Xf}var RS;function nj(){if(RS)return mc;RS=1,mc.__esModule=!0,mc.default=void 0;var t=e(tj());function e(i){return i&&i.__esModule?i:{default:i}}var n=(0,t.default)("local");return mc.default=n,mc}var rj=nj();const ij=jS(rj),sj={key:"root",storage:ij,whitelist:["user","bookmarkedJobs"]},aj=J1({user:E6,menu:OU,jobApplication:D6,bookmarkedJobs:zU}),oj=$6(sj,aj),VR=yU({reducer:oj,middleware:t=>t({serializableCheck:{ignoreActions:[M_,Cm,L_,U_,V_,j_]}})}),z_=Z6(VR),lj=()=>{const t=ur(),e=Ar(y=>y.user.currentUser),[n,i]=L.useState(""),[a,l]=L.useState(""),[c,d]=L.useState(!1),m=Ir(),p=async()=>{if(!n||!a){alert("Please enter your email and password to confirm deletion.");return}if(n!==e.email){alert("Email does not match your account email.");return}d(!0);try{const y=Fn.currentUser,_=go.credential(n,a);await wD(y,_),await g_(wn(mt,"users",e.uid)),await ND(y),await jx(Fn),t(_6()),await z_.purge(),alert("Account deleted successfully."),m("/login")}catch(y){console.error(y),y.code==="auth/wrong-password"?alert("Incorrect password."):y.code==="auth/user-mismatch"?alert("Email does not match current user."):y.code==="auth/too-many-requests"?alert("Too many attempts. Please try again later."):alert("Something went wrong. Check console.")}finally{d(!1)}};return E.jsxs("div",{className:"min-h-screen pt-20 px-4 text-center",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-500",children:"Delete Account"}),E.jsx("p",{className:"mb-6 text-textMuted",children:"This will permanently delete your account and all your data. This action cannot be undone."}),E.jsxs("div",{className:"input-container flex flex-col",children:[E.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:y=>i(y.target.value),className:"w-full max-w-md px-4 py-2 mb-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-300"}),E.jsx("input",{type:"password",placeholder:"Enter your password",value:a,onChange:y=>l(y.target.value),className:"w-full max-w-md px-4 py-2 mb-6 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-300"})]}),E.jsx("button",{disabled:c,onClick:p,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-md shadow-lg transition-all duration-300",children:c?"Deleting...":"Delete My Account"})]})};function uj(t){return Yi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const cj=({showPopUp:t,setshowPopUp:e})=>{const n=()=>{e(!1)};return E.jsx("div",{className:`${t?"flex":"hidden"} fixed inset-0 items-center justify-center    z-50`,children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-blue-500 p-8 w-[90%] max-w-lg relative",children:[E.jsx("button",{onClick:n,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl",children:E.jsx(uj,{})}),E.jsxs("div",{className:"text-center",children:[E.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Job Posted!"}),E.jsx("p",{className:"text-gray-600",children:"Your job has been successfully posted to the board."}),E.jsx("button",{onClick:n,className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition duration-300",children:"Close"})]})]})})},hj=()=>{const t=Ar(_=>_.user.currentUser),[e,n]=L.useState(!1),[i,a]=L.useState(!1),[l,c]=L.useState({title:"",description:"",location:"",company:"",salary:"",questions:[""]}),d=_=>{const{name:w,value:x}=_.target;c(I=>({...I,[w]:x}))},m=async _=>{_.preventDefault();const{title:w,description:x,location:I,company:D,salary:N}=l;if(!w||!x||!I||!D||!N){alert("Yo! Fill in all the fields first ");return}n(!0);try{await y_(si(mt,"posts"),{...l,createdAt:vm(),ownerId:t.uid,postedBy:{uid:t.uid,email:t.email,name:t.username}}),c({title:"",description:"",location:"",company:"",salary:"",questions:[""]})}catch(V){console.error(" Error posting job:",V)}n(!1),a(!0)},p=(_,w)=>{const x=[...l.questions];x[_]=w,c(I=>({...I,questions:x}))},y=()=>{l.questions.length<5&&c(_=>({..._,questions:[..._.questions,""]}))};return E.jsxs("div",{className:"p-6 sm:p-8 max-w-3xl mx-auto mt-10 bg-cardBg text-textLight rounded-2xl shadow-lg border border-primary animate-fadeIn",children:[E.jsx(cj,{showPopUp:i,setshowPopUp:a}),e?E.jsx(Qn,{}):E.jsxs(E.Fragment,{children:[E.jsx("h1",{className:"text-4xl font-bold mb-6 text-primary",children:" Let's Post That Job!"}),E.jsxs("form",{className:"flex flex-col gap-4",children:[E.jsx("input",{type:"text",name:"title",value:l.title,onChange:d,placeholder:" Job Title",className:"bg-[#1f2937] border border-primary text-textLight rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary placeholder:text-textMuted"}),E.jsx("textarea",{placeholder:" Job Description",value:l.description,name:"description",onChange:d,rows:5,className:"bg-[#1f2937] border border-primary text-textLight rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary placeholder:text-textMuted"}),E.jsx("input",{type:"text",name:"location",value:l.location,onChange:d,placeholder:" Location",className:"bg-[#1f2937] border border-primary text-textLight rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary placeholder:text-textMuted"}),E.jsx("input",{type:"text",name:"company",onChange:d,value:l.company,placeholder:" Company Name",className:"bg-[#1f2937] border border-primary text-textLight rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary placeholder:text-textMuted"}),E.jsx("input",{type:"text",name:"salary",onChange:d,value:l.salary,placeholder:" Salary Range",className:"bg-[#1f2937] border border-primary text-textLight rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary placeholder:text-textMuted"}),E.jsx("h2",{className:"text-lg font-semibold mt-4 text-textMuted",children:" Optional Screening Questions"}),l.questions.map((_,w)=>E.jsx("input",{type:"text",value:_,onChange:x=>p(w,x.target.value),placeholder:` Question ${w+1}`,className:"bg-[#1f2937] border border-gray-600 text-textLight rounded-md px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary placeholder:text-textMuted"},w)),l.questions.length<5&&E.jsx("button",{type:"button",onClick:y,className:"text-primary hover:underline text-sm mt-1 transition",children:" Add another question"}),E.jsx("button",{type:"submit",onClick:m,className:"bg-primary hover:bg-primary/90 transition duration-200 text-white px-6 py-3 rounded-xl mt-6 font-bold shadow",children:" Submit Job"})]})]})]})},fj=()=>{const[t,e]=L.useState(null),n=Fn.currentUser,[i,a]=L.useState(!1);L.useEffect(()=>{const c=async()=>{try{const d=si(mt,"posts"),m=Zs(d,oo("ownerId","==",n.uid)),y=(await wo(m)).docs.map(_=>({id:_.id,..._.data()}));e(y)}catch(d){console.error(" Error fetching jobs:",d)}};n!=null&&n.uid&&c()},[n]);const l=async c=>{if(window.confirm("Are you sure you want to delete this job?")){a(c);try{await g_(wn(mt,"posts",c)),e(m=>m.filter(p=>p.id!==c)),console.log(` Job with ID ${c} deleted.`)}catch(m){console.error(" Error deleting job:",m)}finally{a(!1)}}};return E.jsxs("div",{className:"px-4 py-8 max-w-5xl mx-auto",children:[E.jsx("h2",{className:"text-3xl font-bold text-textLight mb-6 text-center",children:" Jobs Youve Posted"}),t?E.jsx("div",{className:"overflow-x-auto shadow-xl rounded-2xl border border-primary",children:E.jsxs("table",{className:"min-w-full bg-cardBg text-textLight rounded-xl overflow-hidden",children:[E.jsx("thead",{className:"bg-[#1F2937] text-primary",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 text-left",children:"#"}),E.jsx("th",{className:"px-6 py-4 text-left",children:"Title"}),E.jsx("th",{className:"px-6 py-4 text-left",children:"Company"}),E.jsx("th",{className:"px-6 py-4 text-left",children:"Actions"})]})}),E.jsxs("tbody",{children:[t.map((c,d)=>E.jsxs("tr",{className:"hover:bg-[#2c3444] transition-all duration-200",children:[E.jsx("td",{className:"px-6 py-3",children:d+1}),E.jsx("td",{className:"px-6 py-3 font-medium",children:c.title}),E.jsx("td",{className:"px-6 py-3",children:c.company}),E.jsxs("td",{className:"px-6 py-3 space-x-2",children:[E.jsx(vr,{to:`/view-job-applicants/${c.id}`,children:E.jsx("button",{className:"bg-sky-500 hover:bg-sky-600 text-white px-4 py-1.5 rounded-lg text-sm transition",children:"View "})}),E.jsx("button",{onClick:()=>l(c.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1.5 rounded-lg text-sm transition",children:i===c.id?"Deleting...":"Delete "})]})]},c.id)),t.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:"4",className:"text-center py-8 text-textMuted text-lg",children:" You havent posted any jobs yet."})})]})]})}):E.jsx(Qn,{})]})},dj=()=>{const[t,e]=L.useState([]),[n,i]=L.useState(!1),a=Ar(l=>l.user.currentUser);return L.useEffect(()=>{(async()=>{if(a){i(!0);try{const c=Zs(si(mt,"applications"),oo("applicantId","==",a.uid)),d=await wo(c),m=await Promise.all(d.docs.map(async p=>{const y=p.data(),_=wn(mt,"posts",y.jobId),w=await To(_);return{id:p.data(),...y,jobDetails:w.exists()?w.data():{}}}));e(m)}catch(c){console.error("Error fetching applications:",c)}finally{i(!1)}}})()},[a]),E.jsxs("div",{className:"space-y-6",children:[E.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-6",children:"Jobs Applied"}),n?E.jsx(Qn,{}):t.length===0?E.jsx("p",{className:"text-gray-500",children:"You haven't applied to any jobs yet."}):t.map(l=>{var c,d;return E.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg shadow-sm bg-white",children:[E.jsx("h3",{className:"text-xl font-semibold text-blue-600",children:l.jobDetails.title||"Untitled Job"}),E.jsxs("p",{className:"text-gray-700 mb-1",children:[E.jsx("strong",{children:"Company:"})," ",l.jobDetails.company||"N/A"]}),E.jsxs("p",{className:"text-gray-700 mb-1",children:[E.jsx("strong",{children:"Location:"})," ",l.jobDetails.location||"N/A"]}),E.jsxs("p",{className:"text-sm text-gray-500",children:[E.jsx("strong",{children:"Applied On:"})," ",((d=(c=l.createdAt)==null?void 0:c.toDate)==null?void 0:d.call(c).toLocaleDateString())||"Unknown"]}),l.resumeURL&&E.jsx("a",{href:l.resumeURL,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline text-sm mt-2 inline-block",children:"View Resume"})]},l.id)})]})},mj=()=>{var y;const t=Ir(),e=ur(),n=Ar(_=>_.user.currentUser),[i,a]=L.useState(" Account Info");L.useEffect(()=>{const _=Nv(),w=th(_,async x=>{if(x&&!n){const I=wn(mt,"users",x.uid),D=await To(I);D.exists()&&e(Im(D.data()))}});return()=>w()},[e,n]);const l=_=>_==="JobSeeker"?[" Account Info"," Delete Account"," Jobs Applied"]:_==="Recruiter"?[" Account Info"," Post a Job"," Delete Account"," Jobs Posted"]:[" Account Info"],c=async()=>{await Y1(),e(C_([])),z_.purge(),e(cR()),t("/login")};if(!n)return E.jsx("div",{className:"text-center mt-20 text-xl font-semibold text-white animate-pulse",children:"Loading profile "});const d=n.type||n.type,m=l(d),p=()=>{switch(i){case" Account Info":return E.jsx(bS,{user:n});case" Post a Job":return E.jsx(hj,{});case" Delete Account":return E.jsx(lj,{});case" Jobs Posted":return E.jsx(fj,{});case" Jobs Applied":return E.jsx(dj,{});default:return E.jsx(bS,{user:n})}};return E.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br  text-white pt-10 px-4 sm:px-8",children:E.jsxs("div",{className:"flex flex-col md:flex-row gap-6 max-w-7xl mx-auto",children:[E.jsxs("div",{className:"w-full md:w-[260px] bg-[#1f2235] rounded-2xl  p-6 space-y-4 border border-[#31344b]",children:[E.jsxs("h2",{className:"text-2xl font-extrabold text-primary mb-4",children:["Yo, ",((y=n.username)==null?void 0:y.split(" ")[0])||"User"," "]}),m.map((_,w)=>E.jsx("div",{onClick:()=>a(_),className:`w-full py-3 px-4 rounded-xl cursor-pointer transition-all duration-200 text-sm font-semibold ${i===_?"bg-primary text-white shadow-lg":"bg-[#2a2d41] hover:bg-[#3a3e5c] text-gray-300"}`,children:_},w)),E.jsx("button",{onClick:c,className:"w-full mt-6 bg-red-600 hover:bg-red-700 text-white font-semibold py-3 rounded-xl transition duration-200",children:" Logout"})]}),E.jsx("div",{className:"flex-1 bg-[#1f2235] border border-[#31344b] rounded-2xl  p-6",children:p()})]})})},pj=()=>{const{id:t}=fv(),[e,n]=L.useState(""),[i,a]=L.useState(null),[l,c]=L.useState(!0),d=ur();L.useEffect(()=>{const y=Fn.currentUser;y&&d(N6({email:y.email,displayName:y.displayName,emailVerified:y.emailVerified,uid:y.uid}))},[d]),L.useEffect(()=>{const y=async()=>{try{const _=wn(mt,"posts",t),w=await To(_);w.exists()?a(w.data()):console.log("No such job found!")}catch(_){console.error("Error fetching job:",_)}finally{c(!1)}};t&&(d(R6(t)),y())},[t,d]);const m=y=>{const _=y.target.value,w=p(_);n(_),d(I6(w))};function p(y){const _=y.match(/\/d\/(.*?)\//);return _&&_[1]?`https://drive.google.com/uc?id=${_[1]}`:y}return l?E.jsx(Qn,{}):i?E.jsxs("div",{className:"mx-auto py-12 px-4 flex flex-col md:flex-row gap-8 w-full max-w-[1300px]",children:[E.jsxs("div",{className:"left w-full md:w-[40%] border-2 border-blue-600 p-6 rounded-lg",children:[E.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-700",children:"Paste Google Drive Resume Link"}),E.jsx("input",{type:"url",placeholder:"https://drive.google.com/...",value:e,onChange:m,className:"w-full border p-2 rounded mb-4"}),E.jsx(vr,{to:`/screening-questions/${t}`,children:E.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg shadow-md transition duration-200 mt-6",disabled:!e,children:"Continue"})})]}),E.jsxs("div",{className:"right w-full md:w-[60%] bg-white p-6 rounded-lg",children:[E.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-4",children:i.title}),E.jsx("p",{className:"text-gray-700 mb-6",children:i.description}),E.jsxs("p",{className:"text-lg font-semibold text-green-700 mb-2",children:["Company: ",i.company]}),E.jsxs("p",{className:"text-lg font-semibold text-green-700 mb-2",children:["Location: ",i.location]}),E.jsxs("p",{className:"text-lg font-semibold text-green-700 mb-2",children:["Salary: $",i.salary]})]})]}):E.jsx("div",{className:"text-center py-12",children:"Job not found."})},jR=async t=>{const e=wn(mt,"posts",t),n=await To(e);if(!n.exists())throw new Error("Job not found");return{id:n.id,...n.data()}},gj=()=>{const{id:t}=fv(),e=Ir(),n=ur(),i=Fn.currentUser,{data:a,isLoading:l,error:c}=Sm({queryKey:["job",t],queryFn:()=>jR(t),enabled:!!t}),d=(a==null?void 0:a.questions)||[],[m,p]=L.useState(Array(d.length).fill("")),y=(w,x)=>{const I=[...m];I[w]=x,p(I)},_=w=>{if(w.preventDefault(),!i){alert("Please login first to proceed.");return}const x=d.map((I,D)=>({question:I,answer:m[D]}));n(C6({QA:x,jobId:t})),e("/review")};return c?E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("p",{className:"text-red-500 text-lg",children:"Error loading job data"})}):E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-10",children:E.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-xl shadow-lg p-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-blue-700 mb-8",children:"Screening Questions"}),l?E.jsx(Qn,{}):d.length>0?E.jsxs("form",{className:"space-y-6",onSubmit:_,children:[d.map((w,x)=>E.jsxs("div",{children:[E.jsxs("label",{className:"block text-gray-800 font-medium mb-2",children:[x+1,". ",w]}),E.jsx("textarea",{rows:"3",placeholder:"Type your answer...",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:m[x],onChange:I=>y(x,I.target.value),required:!0})]},x)),E.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-md shadow-md transition duration-300",children:"Next Step"})]}):E.jsx("p",{className:"text-gray-600 text-center",children:"No questions provided by the employer."})]})})},yj=()=>{const t=Ir(),e=ur(),n=Ar(x=>x.jobApplication||{}),{resumeURL:i,QA:a=[],jobId:l}=n,c=Fn.currentUser,[d,m]=L.useState(!1),{data:p,isLoading:y,error:_}=Sm({queryKey:["job",l],queryFn:()=>jR(l),enabled:!!l}),w=async()=>{if(!c){alert("You must be logged in to submit an application.");return}m(!0);try{await y_(si(mt,"applications"),{...n,applicantId:c.uid,ownerId:(p==null?void 0:p.ownerId)||"",createdAt:vm()}),alert("Application Submitted Successfully!"),e(O6()),t("/thank-you")}catch(x){console.error("Error submitting application:",x),alert("Failed to submit application. Please try again later.")}finally{m(!1)}};return y?E.jsx(Qn,{}):_?E.jsxs("div",{className:"text-center py-10 text-red-600 font-semibold",children:["Error loading job: ",_.message]}):E.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:d?E.jsx(Qn,{}):E.jsxs("div",{className:"flex flex-col",children:[E.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-8 text-center",children:"Review Your Application"}),E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8 border border-blue-100",children:[E.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-2",children:(p==null?void 0:p.title)||"Job Title"}),E.jsxs("p",{className:"text-gray-700 mb-1",children:[E.jsx("strong",{children:"Company:"})," ",(p==null?void 0:p.company)||"N/A"]}),E.jsxs("p",{className:"text-gray-700 mb-1",children:[E.jsx("strong",{children:"Location:"})," ",(p==null?void 0:p.location)||"N/A"]}),E.jsxs("p",{className:"text-gray-700 mb-1",children:[E.jsx("strong",{children:"Salary:"})," $",(p==null?void 0:p.salary)||"N/A"]}),E.jsx("p",{className:"text-gray-700 mt-2",children:(p==null?void 0:p.description)||"No description available."})]}),E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8 border border-blue-100",children:[E.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-4",children:"Resume Preview"}),i?E.jsx("iframe",{src:i,title:"Resume Preview",className:"w-full h-[500px] border rounded",allowFullScreen:!0}):E.jsx("p",{className:"text-red-500",children:"No resume uploaded."})]}),E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8 border border-blue-100",children:[E.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-4",children:"Screening Answers"}),a.length>0?a.map((x,I)=>E.jsxs("div",{className:"mb-4",children:[E.jsxs("p",{className:"font-semibold text-gray-800",children:["Q",I+1,": ",x.question]}),E.jsxs("p",{className:"text-gray-700 mt-1",children:[E.jsx("strong",{children:"Answer:"})," ",x.answer||"No answer provided."]})]},I)):E.jsx("p",{className:"text-gray-500",children:"No answers submitted."})]}),E.jsx("div",{className:"text-center",children:E.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold py-3 px-8 rounded-lg transition duration-200",children:"Submit Application"})})]})})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_j=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),IS=t=>{const e=_j(t);return e.charAt(0).toUpperCase()+e.slice(1)},zR=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),bj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ej={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>L.createElement("svg",{ref:m,...Ej,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:zR("lucide",a),...!l&&!bj(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,y])=>L.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=(t,e)=>{const n=L.forwardRef(({className:i,...a},l)=>L.createElement(Tj,{ref:l,iconNode:e,className:zR(`lucide-${vj(IS(t))}`,`lucide-${t}`,i),...a}));return n.displayName=IS(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xj=wj("circle-check-big",Sj),Aj=()=>{const t=Ir();return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[E.jsx(xj,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),E.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Thank You!"}),E.jsx("p",{className:"text-gray-600 mb-6",children:"Your job application has been submitted successfully."}),E.jsx("button",{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition duration-200",children:"Go to Home"})]})})},Rj=()=>{const{jobId:t}=fv(),[e,n]=L.useState(null),[i,a]=L.useState([]),[l,c]=L.useState(""),[d,m]=L.useState(!1),[p,y]=L.useState(null);return L.useEffect(()=>{const _=th(Fn,w=>{w?n(w):(n(null),c("You must be logged in to view applicants."))});return()=>_()},[]),L.useEffect(()=>{const _=async()=>{if(e){m(!0),c("");try{const x=Zs(si(mt,"applications"),oo("jobId","==",t)),D=(await wo(x)).docs.map(N=>({id:N.id,...N.data()})).filter(N=>N.ownerId===e.uid||N.applicantId===e.uid);console.log(D),a(D)}catch(x){console.error(" Error fetching applicants:",x),c("Failed to fetch applicants. Please check your permissions.")}finally{m(!1)}}},w=async()=>{if(t)try{const x=wn(mt,"posts",t),I=await To(x);if(I.exists()){const D=I.data();y(D.title||"Untitled Job")}else y("Job not found")}catch(x){console.error("Error fetching job title:",x),y("Error loading job")}};t&&e&&(_(),w())},[t,e]),E.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[E.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:["Applicant for Job ",E.jsx("span",{className:"text-indigo-600",children:p})]}),l&&E.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:l}),d?E.jsx(Qn,{}):i.length>0?E.jsx("ul",{className:"space-y-5",children:i.map(_=>{var w,x;return E.jsxs("li",{className:"bg-white shadow-md rounded-lg p-5 border border-gray-200 hover:shadow-lg transition",children:[E.jsxs("p",{className:"mb-2",children:[E.jsx("strong",{className:"text-indigo-600",children:"Email:"})," ",E.jsx("span",{className:"text-gray-700",children:((w=_.userInfo)==null?void 0:w.email)||"N/A"})]}),E.jsxs("div",{className:"mb-2",children:[E.jsx("strong",{className:"text-indigo-600",children:"Answers:"}),Array.isArray((x=_.answers)==null?void 0:x.QA)&&_.answers.QA.length>0?E.jsx("ul",{className:"list-disc ml-5 text-gray-700 mt-1",children:_.answers.QA.map((I,D)=>E.jsxs("li",{children:[E.jsx("span",{className:"font-semibold",children:"Q:"})," ",I.question,E.jsx("br",{}),E.jsx("span",{className:"font-semibold",children:"A:"})," ",I.answer]},D))}):E.jsx("p",{className:"text-gray-500 ml-2",children:"No answers provided"})]}),E.jsxs("p",{children:[E.jsx("strong",{className:"text-indigo-600",children:"Resume:"})," ",_.resumeURL?E.jsx("a",{href:_.resumeURL,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 underline hover:text-indigo-800",children:"View"}):E.jsx("span",{className:"text-gray-500",children:"Not uploaded"})]})]},_.id)})}):E.jsx("p",{className:"mt-8 text-gray-500 text-center",children:"No applicants found."})]})},Ij=async t=>{const e=Zs(si(mt,"savedJobs"),oo("userId","==",t)),i=(await wo(e)).docs.map(l=>l.data().jobId);return(await Promise.all(i.map(async l=>{const c=wn(mt,"posts",l),d=await To(c);return d.exists()?{id:d.id,...d.data()}:null}))).filter(Boolean)},Cj=t=>Sm({queryKey:["savedJobs",t],queryFn:()=>Ij(t),enabled:!!t}),Nj=()=>{const t=Ar(a=>a.user.currentUser),{data:e=[],isLoading:n,isError:i}=Cj(t==null?void 0:t.uid);return i?E.jsx("div",{className:"text-red-600 text-center mt-4",children:" Failed to load saved jobs."}):E.jsxs("div",{className:"max-w-5xl mx-auto py-8 px-4",children:[E.jsx("h2",{className:"text-2xl font-bold mb-5",children:"Saved Jobs"}),n?E.jsx(Qn,{}):e.length===0?E.jsx("p",{children:"You havent liked anything yet "}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(a=>E.jsx(kR,{post:a},a.id))})]})};function CS(){return E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsx("p",{className:"text-lg font-semibold animate-pulse",children:"Loading..."})})}function Oj(){const[t,e]=L.useState(null),[n,i]=L.useState(!0);L.useEffect(()=>{const c=th(Fn,d=>{e(d),i(!1)});return()=>c()},[]);const a=({children:c})=>n?E.jsx(CS,{}):!t||!t.emailVerified?E.jsx(dT,{to:"/login",replace:!0}):c,l=({children:c})=>n?E.jsx(CS,{}):t&&t.emailVerified?E.jsx(dT,{to:"/home",replace:!0}):c;return E.jsx(m2,{children:E.jsxs(un,{path:"/",element:E.jsx(FU,{}),children:[E.jsx(un,{index:!0,element:E.jsx(a,{children:E.jsx(_S,{})})}),E.jsx(un,{path:"home",element:E.jsx(a,{children:E.jsx(_S,{})})}),E.jsx(un,{path:"about",element:E.jsx(y6,{})}),E.jsx(un,{path:"signup",element:E.jsx(l,{children:E.jsx(T6,{})})}),E.jsx(un,{path:"login",element:E.jsx(l,{children:E.jsx(w6,{})})}),E.jsx(un,{path:"dashboard",element:E.jsx(a,{children:E.jsx(S6,{})})}),E.jsx(un,{path:"profile",element:E.jsx(a,{children:E.jsx(mj,{})})}),E.jsx(un,{path:"userdetailspage",element:E.jsx(a,{children:E.jsx(x6,{})})}),E.jsx(un,{path:"jobs/:id",element:E.jsx(a,{children:E.jsx(pj,{})})}),E.jsx(un,{path:"screening-questions/:id",element:E.jsx(a,{children:E.jsx(gj,{})})}),E.jsx(un,{path:"review",element:E.jsx(a,{children:E.jsx(yj,{})})}),E.jsx(un,{path:"/thank-you",element:E.jsx(a,{children:E.jsx(Aj,{})})}),E.jsx(un,{path:"savedjobs",element:E.jsx(a,{children:E.jsx(Nj,{})})}),E.jsx(un,{path:"view-job-applicants/:jobId",element:E.jsx(a,{children:E.jsx(Rj,{})})})]})})}function hd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hd=function(n){return typeof n}:hd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},hd(t)}function Dj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function kj(t,e,n){return e&&Pj(t.prototype,e),t}function Mj(t,e){return e&&(hd(e)==="object"||typeof e=="function")?e:fd(t)}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function fd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},lv(t,e)}function dd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BR=function(t){Lj(e,t);function e(){var n,i;Dj(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return i=Mj(this,(n=ov(e)).call.apply(n,[this].concat(l))),dd(fd(i),"state",{bootstrapped:!1}),dd(fd(i),"_unsubscribe",void 0),dd(fd(i),"handlePersistorState",function(){var d=i.props.persistor,m=d.getState(),p=m.bootstrapped;p&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return kj(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(L.PureComponent);dd(BR,"defaultProps",{children:null,loading:null});const Uj=new lV;EC.createRoot(document.getElementById("root")).render(E.jsx(L.StrictMode,{children:E.jsx(dV,{client:Uj,children:E.jsx(F3,{store:VR,children:E.jsx(BR,{loading:null,persistor:z_,children:E.jsxs(U2,{basename:"/launchdesk",children:[E.jsx(Oj,{}),E.jsx(l6,{})]})})})})}));
