var LE=t=>{throw TypeError(t)};var wg=(t,e,n)=>e.has(t)||LE("Cannot "+n);var q=(t,e,n)=>(wg(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?LE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,i)=>(wg(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Ve=(t,e,n)=>(wg(t,e,"access private method"),n);var Pf=(t,e,n,i)=>({set _(a){de(t,e,a,n)},get _(){return q(t,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function RS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sg={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function WI(){if(VE)return ic;VE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return ic.Fragment=e,ic.jsx=n,ic.jsxs=n,ic}var jE;function JI(){return jE||(jE=1,Sg.exports=WI()),Sg.exports}var T=JI(),Ag={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function ZI(){if(zE)return Ce;zE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function O(z,oe,he){this.props=z,this.context=oe,this.refs=k,this.updater=he||x}O.prototype.isReactComponent={},O.prototype.setState=function(z,oe){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,oe,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=O.prototype;function G(z,oe,he){this.props=z,this.context=oe,this.refs=k,this.updater=he||x}var P=G.prototype=new V;P.constructor=G,N(P,O.prototype),P.isPureReactComponent=!0;var F=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function I(z,oe,he,le,ve,De){return he=De.ref,{$$typeof:t,type:z,key:oe,ref:he!==void 0?he:null,props:De}}function A(z,oe){return I(z.type,oe,void 0,void 0,void 0,z.props)}function C(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function L(z){var oe={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(he){return oe[he]})}var j=/\/+/g;function H(z,oe){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):oe.toString(36)}function M(){}function Pt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function(oe){z.status==="pending"&&(z.status="fulfilled",z.value=oe)},function(oe){z.status==="pending"&&(z.status="rejected",z.reason=oe)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function lt(z,oe,he,le,ve){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(De){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case t:case e:Re=!0;break;case _:return Re=z._init,lt(Re(z._payload),oe,he,le,ve)}}if(Re)return ve=ve(z),Re=le===""?"."+H(z,0):le,F(ve)?(he="",Re!=null&&(he=Re.replace(j,"$&/")+"/"),lt(ve,oe,he,"",function(Ir){return Ir})):ve!=null&&(C(ve)&&(ve=A(ve,he+(ve.key==null||z&&z.key===ve.key?"":(""+ve.key).replace(j,"$&/")+"/")+Re)),oe.push(ve)),1;Re=0;var Bt=le===""?".":le+":";if(F(z))for(var at=0;at<z.length;at++)le=z[at],De=Bt+H(le,at),Re+=lt(le,oe,he,De,ve);else if(at=w(z),typeof at=="function")for(z=at.call(z),at=0;!(le=z.next()).done;)le=le.value,De=Bt+H(le,at++),Re+=lt(le,oe,he,De,ve);else if(De==="object"){if(typeof z.then=="function")return lt(Pt(z),oe,he,le,ve);throw oe=String(z),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ee(z,oe,he){if(z==null)return z;var le=[],ve=0;return lt(z,le,"","",function(De){return oe.call(he,De,ve++)}),le}function ce(z){if(z._status===-1){var oe=z._result;oe=oe(),oe.then(function(he){(z._status===0||z._status===-1)&&(z._status=1,z._result=he)},function(he){(z._status===0||z._status===-1)&&(z._status=2,z._result=he)}),z._status===-1&&(z._status=0,z._result=oe)}if(z._status===1)return z._result.default;throw z._result}var ge=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Qe(){}return Ce.Children={map:ee,forEach:function(z,oe,he){ee(z,function(){oe.apply(this,arguments)},he)},count:function(z){var oe=0;return ee(z,function(){oe++}),oe},toArray:function(z){return ee(z,function(oe){return oe})||[]},only:function(z){if(!C(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ce.Component=O,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=G,Ce.StrictMode=i,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(z){return J.H.useMemoCache(z)}},Ce.cache=function(z){return function(){return z.apply(null,arguments)}},Ce.cloneElement=function(z,oe,he){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var le=N({},z.props),ve=z.key,De=void 0;if(oe!=null)for(Re in oe.ref!==void 0&&(De=void 0),oe.key!==void 0&&(ve=""+oe.key),oe)!re.call(oe,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&oe.ref===void 0||(le[Re]=oe[Re]);var Re=arguments.length-2;if(Re===1)le.children=he;else if(1<Re){for(var Bt=Array(Re),at=0;at<Re;at++)Bt[at]=arguments[at+2];le.children=Bt}return I(z.type,ve,void 0,void 0,De,le)},Ce.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ce.createElement=function(z,oe,he){var le,ve={},De=null;if(oe!=null)for(le in oe.key!==void 0&&(De=""+oe.key),oe)re.call(oe,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=oe[le]);var Re=arguments.length-2;if(Re===1)ve.children=he;else if(1<Re){for(var Bt=Array(Re),at=0;at<Re;at++)Bt[at]=arguments[at+2];ve.children=Bt}if(z&&z.defaultProps)for(le in Re=z.defaultProps,Re)ve[le]===void 0&&(ve[le]=Re[le]);return I(z,De,void 0,void 0,null,ve)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(z){return{$$typeof:d,render:z}},Ce.isValidElement=C,Ce.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ce}},Ce.memo=function(z,oe){return{$$typeof:g,type:z,compare:oe===void 0?null:oe}},Ce.startTransition=function(z){var oe=J.T,he={};J.T=he;try{var le=z(),ve=J.S;ve!==null&&ve(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Qe,ge)}catch(De){ge(De)}finally{J.T=oe}},Ce.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ce.use=function(z){return J.H.use(z)},Ce.useActionState=function(z,oe,he){return J.H.useActionState(z,oe,he)},Ce.useCallback=function(z,oe){return J.H.useCallback(z,oe)},Ce.useContext=function(z){return J.H.useContext(z)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(z,oe){return J.H.useDeferredValue(z,oe)},Ce.useEffect=function(z,oe,he){var le=J.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(z,oe)},Ce.useId=function(){return J.H.useId()},Ce.useImperativeHandle=function(z,oe,he){return J.H.useImperativeHandle(z,oe,he)},Ce.useInsertionEffect=function(z,oe){return J.H.useInsertionEffect(z,oe)},Ce.useLayoutEffect=function(z,oe){return J.H.useLayoutEffect(z,oe)},Ce.useMemo=function(z,oe){return J.H.useMemo(z,oe)},Ce.useOptimistic=function(z,oe){return J.H.useOptimistic(z,oe)},Ce.useReducer=function(z,oe,he){return J.H.useReducer(z,oe,he)},Ce.useRef=function(z){return J.H.useRef(z)},Ce.useState=function(z){return J.H.useState(z)},Ce.useSyncExternalStore=function(z,oe,he){return J.H.useSyncExternalStore(z,oe,he)},Ce.useTransition=function(){return J.H.useTransition()},Ce.version="19.1.0",Ce}var BE;function Ld(){return BE||(BE=1,Ag.exports=ZI()),Ag.exports}var U=Ld();const Ge=RS(U);var Rg={exports:{}},sc={},xg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function eC(){return qE||(qE=1,function(t){function e(ee,ce){var ge=ee.length;ee.push(ce);e:for(;0<ge;){var Qe=ge-1>>>1,z=ee[Qe];if(0<a(z,ce))ee[Qe]=ce,ee[ge]=z,ge=Qe;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ce=ee[0],ge=ee.pop();if(ge!==ce){ee[0]=ge;e:for(var Qe=0,z=ee.length,oe=z>>>1;Qe<oe;){var he=2*(Qe+1)-1,le=ee[he],ve=he+1,De=ee[ve];if(0>a(le,ge))ve<z&&0>a(De,le)?(ee[Qe]=De,ee[ve]=ge,Qe=ve):(ee[Qe]=le,ee[he]=ge,Qe=he);else if(ve<z&&0>a(De,ge))ee[Qe]=De,ee[ve]=ge,Qe=ve;else break e}}return ce}function a(ee,ce){var ge=ee.sortIndex-ce.sortIndex;return ge!==0?ge:ee.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,v=null,w=3,x=!1,N=!1,k=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function F(ee){for(var ce=n(g);ce!==null;){if(ce.callback===null)i(g);else if(ce.startTime<=ee)i(g),ce.sortIndex=ce.expirationTime,e(m,ce);else break;ce=n(g)}}function J(ee){if(k=!1,F(ee),!N)if(n(m)!==null)N=!0,re||(re=!0,H());else{var ce=n(g);ce!==null&&lt(J,ce.startTime-ee)}}var re=!1,I=-1,A=5,C=-1;function L(){return O?!0:!(t.unstable_now()-C<A)}function j(){if(O=!1,re){var ee=t.unstable_now();C=ee;var ce=!0;try{e:{N=!1,k&&(k=!1,G(I),I=-1),x=!0;var ge=w;try{t:{for(F(ee),v=n(m);v!==null&&!(v.expirationTime>ee&&L());){var Qe=v.callback;if(typeof Qe=="function"){v.callback=null,w=v.priorityLevel;var z=Qe(v.expirationTime<=ee);if(ee=t.unstable_now(),typeof z=="function"){v.callback=z,F(ee),ce=!0;break t}v===n(m)&&i(m),F(ee)}else i(m);v=n(m)}if(v!==null)ce=!0;else{var oe=n(g);oe!==null&&lt(J,oe.startTime-ee),ce=!1}}break e}finally{v=null,w=ge,x=!1}ce=void 0}}finally{ce?H():re=!1}}}var H;if(typeof P=="function")H=function(){P(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Pt=M.port2;M.port1.onmessage=j,H=function(){Pt.postMessage(null)}}else H=function(){V(j,0)};function lt(ee,ce){I=V(function(){ee(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ge=w;w=ce;try{return ee()}finally{w=ge}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ge=w;w=ee;try{return ce()}finally{w=ge}},t.unstable_scheduleCallback=function(ee,ce,ge){var Qe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Qe+ge:Qe):ge=Qe,ee){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ge+z,ee={id:_++,callback:ce,priorityLevel:ee,startTime:ge,expirationTime:z,sortIndex:-1},ge>Qe?(ee.sortIndex=ge,e(g,ee),n(m)===null&&ee===n(g)&&(k?(G(I),I=-1):k=!0,lt(J,ge-Qe))):(ee.sortIndex=z,e(m,ee),N||x||(N=!0,re||(re=!0,H()))),ee},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(ee){var ce=w;return function(){var ge=w;w=ce;try{return ee.apply(this,arguments)}finally{w=ge}}}}(Ig)),Ig}var FE;function tC(){return FE||(FE=1,xg.exports=eC()),xg.exports}var Cg={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function nC(){if(HE)return on;HE=1;var t=Ld();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:g,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},on.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:x}):_==="script"&&i.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},on.requestFormReset=function(m){i.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.0",on}var GE;function rC(){if(GE)return Cg.exports;GE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cg.exports=nC(),Cg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function iC(){if(QE)return sc;QE=1;var t=tC(),e=Ld(),n=rC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),r;if(p===u)return d(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=p;break}if(S===u){E=!0,u=f,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=f;break}if(S===u){E=!0,u=p,o=f;break}S=S.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Pt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case J:return"Suspense";case re:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case P:return(r.displayName||"Context")+".Provider";case G:return(r._context.displayName||"Context")+".Consumer";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:Pt(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return Pt(r(s))}catch{}}return null}var lt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Qe=[],z=-1;function oe(r){return{current:r}}function he(r){0>z||(r.current=Qe[z],Qe[z]=null,z--)}function le(r,s){z++,Qe[z]=r.current,r.current=s}var ve=oe(null),De=oe(null),Re=oe(null),Bt=oe(null);function at(r,s){switch(le(Re,s),le(De,r),le(ve,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?hE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=hE(s),r=fE(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}he(ve),le(ve,r)}function Ir(){he(ve),he(De),he(Re)}function Wi(r){r.memoizedState!==null&&le(Bt,r);var s=ve.current,o=fE(s,r.type);s!==o&&(le(De,r),le(ve,o))}function ai(r){De.current===r&&(he(ve),he(De)),Bt.current===r&&(he(Bt),Zu._currentValue=ge)}var na=Object.prototype.hasOwnProperty,ra=t.unstable_scheduleCallback,ia=t.unstable_cancelCallback,Xl=t.unstable_shouldYield,lh=t.unstable_requestPaint,Hn=t.unstable_now,wm=t.unstable_getCurrentPriorityLevel,Wl=t.unstable_ImmediatePriority,go=t.unstable_UserBlockingPriority,sa=t.unstable_NormalPriority,Sm=t.unstable_LowPriority,yo=t.unstable_IdlePriority,Jl=t.log,uh=t.unstable_setDisableYieldValue,gt=null,Je=null;function Nn(r){if(typeof Jl=="function"&&uh(r),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(gt,r)}catch{}}var sn=Math.clz32?Math.clz32:aa,ch=Math.log,Am=Math.LN2;function aa(r){return r>>>=0,r===0?32:31-(ch(r)/Am|0)|0}var oa=256,la=4194304;function or(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _o(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,p=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=or(u):(E&=S,E!==0?f=or(E):o||(o=S&~r,o!==0&&(f=or(o))))):(S=u&~p,S!==0?f=or(S):E!==0?f=or(E):o||(o=u&~r,o!==0&&(f=or(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function ua(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Zl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var r=oa;return oa<<=1,(oa&4194048)===0&&(oa=256),r}function tu(){var r=la;return la<<=1,(la&62914560)===0&&(la=4194304),r}function oi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function li(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nu(r,s,o,u,f,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,D=r.expirationTimes,Y=r.hiddenUpdates;for(o=E&~o;0<o;){var te=31-sn(o),ie=1<<te;S[te]=0,D[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var W=X[te];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&Cr(r,u,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~s))}function Cr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-sn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function ru(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-sn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Ji(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function vo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zi(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:OE(r.type))}function hh(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var ct=Math.random().toString(36).slice(2),kt="__reactFiber$"+ct,xt="__reactProps$"+ct,Gn="__reactContainer$"+ct,iu="__reactEvents$"+ct,Rm="__reactListeners$"+ct,es="__reactHandles$"+ct,fh="__reactResources$"+ct,ca="__reactMarker$"+ct;function ts(r){delete r[kt],delete r[xt],delete r[iu],delete r[Rm],delete r[es]}function ui(r){var s=r[kt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Gn]||o[kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=gE(r);r!==null;){if(o=r[kt])return o;r=gE(r)}return s}r=o,o=r.parentNode}return null}function Nr(r){if(r=r[kt]||r[Gn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Or(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function mn(r){var s=r[fh];return s||(s=r[fh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(r){r[ca]=!0}var su=new Set,bo={};function lr(r,s){ci(r,s),ci(r+"Capture",s)}function ci(r,s){for(bo[r]=s,r=0;r<s.length;r++)su.add(s[r])}var dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},ha={};function ph(r){return na.call(ha,r)?!0:na.call(mh,r)?!1:dh.test(r)?ha[r]=!0:(mh[r]=!0,!1)}function ns(r,s,o){if(ph(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Dr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Kt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var fa,gh;function hi(r){if(fa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fa=s&&s[1]||"",gh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+r+gh}var Eo=!1;function To(r,s){if(!r||Eo)return"";Eo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var X=W}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(W){X=W}r.call(ie.prototype)}}else{try{throw Error()}catch(W){X=W}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var D=E.split(`
`),Y=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===Y.length)for(u=D.length-1,f=Y.length-1;1<=u&&0<=f&&D[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==Y[f]){var te=`
`+D[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{Eo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?hi(o):""}function au(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return To(r.type,!1);case 11:return To(r.type.render,!1);case 1:return To(r.type,!0);case 31:return hi("Activity");default:return""}}function wo(r){try{var s="";do s+=au(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ou(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xm(r){var s=ou(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function So(r){r._valueTracker||(r._valueTracker=xm(r))}function lu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=ou(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function da(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Im=/[\n"\\]/g;function It(r){return r.replace(Im,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function On(r,s,o,u,f,p,E,S){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+pn(s)):r.value!==""+pn(s)&&(r.value=""+pn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?rs(r,E,pn(s)):o!=null?rs(r,E,pn(o)):u!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+pn(S):r.removeAttribute("name")}function ma(r,s,o,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function rs(r,s,o){s==="number"&&da(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function fi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function tt(r,s,o){if(s!=null&&(s=""+pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+pn(o):""}function pa(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(lt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=pn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Qn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yh(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ga.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function uu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&yh(r,f,u)}else for(var p in s)s.hasOwnProperty(p)&&yh(r,p,s[p])}function cu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(r){return Nm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var di=null;function $n(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,pi=null;function hu(r){var s=Nr(r);if(s&&(r=s.stateNode)){var o=r[xt]||null;e:switch(r=s.stateNode,s.type){case"input":if(On(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[xt]||null;if(!f)throw Error(i(90));On(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&lu(u)}break e;case"textarea":tt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&fi(r,!!o.multiple,s,!1)}}}var Pr=!1;function _h(r,s,o){if(Pr)return r(s,o);Pr=!0;try{var u=r(s);return u}finally{if(Pr=!1,(mi!==null||pi!==null)&&(ff(),mi&&(s=mi,r=pi,pi=mi=null,hu(s),r)))for(s=0;s<r.length;s++)hu(r[s])}}function ya(r,s){var o=r.stateNode;if(o===null)return null;var u=o[xt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kn=!1;if(ur)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Kn=!1}var kr=null,is=null,gi=null;function fu(){if(gi)return gi;var r,s=is,o=s.length,u,f="value"in kr?kr.value:kr.textContent,p=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[p-u];u++);return gi=f.slice(r,1<u?1-u:void 0)}function Mr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ur(){return!0}function du(){return!1}function qt(r){function s(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ur:du,this.isPropagationStopped=du,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),s}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=qt(Ye),va=_({},Ye,{view:0,detail:0}),vh=qt(va),xo,Io,Lr,ba=_({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lr&&(Lr&&r.type==="mousemove"?(xo=r.screenX-Lr.screenX,Io=r.screenY-Lr.screenY):Io=xo=0,Lr=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:Io}}),Yn=qt(ba),bh=_({},ba,{dataTransfer:0}),Om=qt(bh),Ea=_({},va,{relatedTarget:0}),Co=qt(Ea),mu=_({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),No=qt(mu),Eh=_({},Ye,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Oo=qt(Eh),Dm=_({},Ye,{data:0}),pu=qt(Dm),Ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=wh[r])?!!s[r]:!1}function wa(){return gu}var Sh=_({},va,{key:function(r){if(r.key){var s=Ta[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Th[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(r){return r.type==="keypress"?Mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Do=qt(Sh),Ah=_({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=qt(Ah),yi=_({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa}),Rh=qt(yi),xh=_({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ih=qt(xh),Ch=_({},ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=qt(Ch),gn=_({},Ye,{newState:0,oldState:0}),Nh=qt(gn),Oh=[9,13,27,32],Vr=ur&&"CompositionEvent"in window,h=null;ur&&"documentMode"in document&&(h=document.documentMode);var y=ur&&"TextEvent"in window&&!h,b=ur&&(!Vr||h&&8<h&&11>=h),R=" ",$=!1;function Z(r,s){switch(r){case"keyup":return Oh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ze=!1;function Mt(r,s){switch(r){case"compositionend":return ue(s);case"keypress":return s.which!==32?null:($=!0,R);case"textInput":return r=s.data,r===R&&$?null:r;default:return null}}function Be(r,s){if(ze)return r==="compositionend"||!Vr&&Z(r,s)?(r=fu(),gi=is=kr=null,ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ft[r.type]:s==="textarea"}function _i(r,s,o,u){mi?pi?pi.push(u):pi=[u]:mi=u,s=_f(s,"onChange"),0<s.length&&(o=new Ro("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Yt=null,jr=null;function _u(r){aE(r,0)}function Dh(r){var s=Or(r);if(lu(s))return r}function xv(r,s){if(r==="change")return s}var Iv=!1;if(ur){var Pm;if(ur){var km="oninput"in document;if(!km){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),km=typeof Cv.oninput=="function"}Pm=km}else Pm=!1;Iv=Pm&&(!document.documentMode||9<document.documentMode)}function Nv(){Yt&&(Yt.detachEvent("onpropertychange",Ov),jr=Yt=null)}function Ov(r){if(r.propertyName==="value"&&Dh(jr)){var s=[];_i(s,jr,r,$n(r)),_h(_u,s)}}function xx(r,s,o){r==="focusin"?(Nv(),Yt=s,jr=o,Yt.attachEvent("onpropertychange",Ov)):r==="focusout"&&Nv()}function Ix(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Dh(jr)}function Cx(r,s){if(r==="click")return Dh(s)}function Nx(r,s){if(r==="input"||r==="change")return Dh(s)}function Ox(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dn=typeof Object.is=="function"?Object.is:Ox;function vu(r,s){if(Dn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!na.call(s,f)||!Dn(r[f],s[f]))return!1}return!0}function Dv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Pv(r,s){var o=Dv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Dv(o)}}function kv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?kv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Mv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=da(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=da(r.document)}return s}function Mm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Dx=ur&&"documentMode"in document&&11>=document.documentMode,ko=null,Um=null,bu=null,Lm=!1;function Uv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lm||ko==null||ko!==da(u)||(u=ko,"selectionStart"in u&&Mm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bu&&vu(bu,u)||(bu=u,u=_f(Um,"onSelect"),0<u.length&&(s=new Ro("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=ko)))}function Sa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Mo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Vm={},Lv={};ur&&(Lv=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Aa(r){if(Vm[r])return Vm[r];if(!Mo[r])return r;var s=Mo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Lv)return Vm[r]=s[o];return r}var Vv=Aa("animationend"),jv=Aa("animationiteration"),zv=Aa("animationstart"),Px=Aa("transitionrun"),kx=Aa("transitionstart"),Mx=Aa("transitioncancel"),Bv=Aa("transitionend"),qv=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jm.push("scrollEnd");function cr(r,s){qv.set(r,s),lr(s,[r])}var Fv=new WeakMap;function Xn(r,s){if(typeof r=="object"&&r!==null){var o=Fv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:wo(s)},Fv.set(r,s),s)}return{value:r,source:s,stack:wo(s)}}var Wn=[],Uo=0,zm=0;function Ph(){for(var r=Uo,s=zm=Uo=0;s<r;){var o=Wn[s];Wn[s++]=null;var u=Wn[s];Wn[s++]=null;var f=Wn[s];Wn[s++]=null;var p=Wn[s];if(Wn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&Hv(o,f,p)}}function kh(r,s,o,u){Wn[Uo++]=r,Wn[Uo++]=s,Wn[Uo++]=o,Wn[Uo++]=u,zm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Bm(r,s,o,u){return kh(r,s,o,u),Mh(r)}function Lo(r,s){return kh(r,null,null,s),Mh(r)}function Hv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&s!==null&&(f=31-sn(o),r=p.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function Mh(r){if(50<Gu)throw Gu=0,$p=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Vo={};function Ux(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,o,u){return new Ux(r,s,o,u)}function qm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vi(r,s){var o=r.alternate;return o===null?(o=Pn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Gv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Uh(r,s,o,u,f,p){var E=0;if(u=r,typeof r=="function")qm(r)&&(E=1);else if(typeof r=="string")E=VI(r,o,ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Pn(31,o,s,f),r.elementType=C,r.lanes=p,r;case N:return Ra(o.children,f,p,s);case k:E=8,f|=24;break;case O:return r=Pn(12,o,s,f|2),r.elementType=O,r.lanes=p,r;case J:return r=Pn(13,o,s,f),r.elementType=J,r.lanes=p,r;case re:return r=Pn(19,o,s,f),r.elementType=re,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case P:E=10;break e;case G:E=9;break e;case F:E=11;break e;case I:E=14;break e;case A:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Pn(E,o,s,f),s.elementType=r,s.type=u,s.lanes=p,s}function Ra(r,s,o,u){return r=Pn(7,r,u,s),r.lanes=o,r}function Fm(r,s,o){return r=Pn(6,r,null,s),r.lanes=o,r}function Hm(r,s,o){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var jo=[],zo=0,Lh=null,Vh=0,Jn=[],Zn=0,xa=null,bi=1,Ei="";function Ia(r,s){jo[zo++]=Vh,jo[zo++]=Lh,Lh=r,Vh=s}function Qv(r,s,o){Jn[Zn++]=bi,Jn[Zn++]=Ei,Jn[Zn++]=xa,xa=r;var u=bi;r=Ei;var f=32-sn(u)-1;u&=~(1<<f),o+=1;var p=32-sn(s)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,bi=1<<32-sn(s)+f|o<<f|u,Ei=p+r}else bi=1<<p|o<<f|u,Ei=r}function Gm(r){r.return!==null&&(Ia(r,1),Qv(r,1,0))}function Qm(r){for(;r===Lh;)Lh=jo[--zo],jo[zo]=null,Vh=jo[--zo],jo[zo]=null;for(;r===xa;)xa=Jn[--Zn],Jn[Zn]=null,Ei=Jn[--Zn],Jn[Zn]=null,bi=Jn[--Zn],Jn[Zn]=null}var yn=null,yt=null,$e=!1,Ca=null,zr=!1,$m=Error(i(519));function Na(r){var s=Error(i(418,""));throw wu(Xn(s,r)),$m}function $v(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[kt]=r,s[xt]=u,o){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(o=0;o<$u.length;o++)Me($u[o],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),ma(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),So(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),pa(s,u.value,u.defaultValue,u.children),So(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||cE(s.textContent,o)?(u.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),u.onScroll!=null&&Me("scroll",s),u.onScrollEnd!=null&&Me("scrollend",s),u.onClick!=null&&(s.onclick=vf),s=!0):s=!1,s||Na(r)}function Kv(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:yn=yn.return}}function Eu(r){if(r!==yn)return!1;if(!$e)return Kv(r),$e=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ug(r.type,r.memoizedProps)),o=!o),o&&yt&&Na(r),Kv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){yt=fr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}yt=null}}else s===27?(s=yt,bs(r.type)?(r=dg,dg=null,yt=r):yt=s):yt=yn?fr(r.stateNode.nextSibling):null;return!0}function Tu(){yt=yn=null,$e=!1}function Yv(){var r=Ca;return r!==null&&(An===null?An=r:An.push.apply(An,r),Ca=null),r}function wu(r){Ca===null?Ca=[r]:Ca.push(r)}var Km=oe(null),Oa=null,Ti=null;function ss(r,s,o){le(Km,s._currentValue),s._currentValue=o}function wi(r){r._currentValue=Km.current,he(Km)}function Ym(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Xm(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var D=0;D<s.length;D++)if(S.context===s[D]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),Ym(p.return,o,r),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),Ym(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Su(r,s,o,u){r=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var S=f.type;Dn(f.pendingProps.value,E.value)||(r!==null?r.push(S):r=[S])}}else if(f===Bt.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Zu):r=[Zu])}f=f.return}r!==null&&Xm(s,r,o,u),s.flags|=262144}function jh(r){for(r=r.firstContext;r!==null;){if(!Dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Da(r){Oa=r,Ti=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function an(r){return Xv(Oa,r)}function zh(r,s){return Oa===null&&Da(r),Xv(r,s)}function Xv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ti===null){if(r===null)throw Error(i(308));Ti=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ti=Ti.next=s;return o}var Lx=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},Vx=t.unstable_scheduleCallback,jx=t.unstable_NormalPriority,Lt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wm(){return{controller:new Lx,data:new Map,refCount:0}}function Au(r){r.refCount--,r.refCount===0&&Vx(jx,function(){r.controller.abort()})}var Ru=null,Jm=0,Bo=0,qo=null;function zx(r,s){if(Ru===null){var o=Ru=[];Jm=0,Bo=eg(),qo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Jm++,s.then(Wv,Wv),s}function Wv(){if(--Jm===0&&Ru!==null){qo!==null&&(qo.status="fulfilled");var r=Ru;Ru=null,Bo=0,qo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Bx(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Jv=ee.S;ee.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&zx(r,s),Jv!==null&&Jv(r,s)};var Pa=oe(null);function Zm(){var r=Pa.current;return r!==null?r:ot.pooledCache}function Bh(r,s){s===null?le(Pa,Pa.current):le(Pa,s.pool)}function Zv(){var r=Zm();return r===null?null:{parent:Lt._currentValue,pool:r}}var xu=Error(i(460)),e0=Error(i(474)),qh=Error(i(542)),ep={then:function(){}};function t0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Fh(){}function n0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Fh,Fh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,i0(r),r;default:if(typeof s.status=="string")s.then(Fh,Fh);else{if(r=ot,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,i0(r),r}throw Iu=s,xu}}var Iu=null;function r0(){if(Iu===null)throw Error(i(459));var r=Iu;return Iu=null,r}function i0(r){if(r===xu||r===qh)throw Error(i(483))}var as=!1;function tp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function np(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ls(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Mh(r),Hv(r,null,o),s}return kh(r,u,s,o),Mh(r)}function Cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ru(r,o)}}function rp(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var ip=!1;function Nu(){if(ip){var r=qo;if(r!==null)throw r}}function Ou(r,s,o,u){ip=!1;var f=r.updateQueue;as=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,Y=D.next;D.next=null,E===null?p=Y:E.next=Y,E=D;var te=r.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==E&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=D))}if(p!==null){var ie=f.baseState;E=0,te=Y=D=null,S=p;do{var X=S.lane&-536870913,W=X!==S.lane;if(W?(qe&X)===X:(u&X)===X){X!==0&&X===Bo&&(ip=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=r,be=S;X=s;var it=o;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){ie=we.call(it,ie,X);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,X=typeof we=="function"?we.call(it,ie,X):we,X==null)break e;ie=_({},ie,X);break e;case 2:as=!0}}X=S.callback,X!==null&&(r.flags|=64,W&&(r.flags|=8192),W=f.callbacks,W===null?f.callbacks=[X]:W.push(X))}else W={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=W,D=ie):te=te.next=W,E|=X;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;W=S,S=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);te===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),gs|=E,r.lanes=E,r.memoizedState=ie}}function s0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function a0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)s0(o[r],s)}var Fo=oe(null),Hh=oe(0);function o0(r,s){r=Ni,le(Hh,r),le(Fo,s),Ni=r|s.baseLanes}function sp(){le(Hh,Ni),le(Fo,Fo.current)}function ap(){Ni=Hh.current,he(Fo),he(Hh)}var us=0,Ne=null,nt=null,Ct=null,Gh=!1,Ho=!1,ka=!1,Qh=0,Du=0,Go=null,qx=0;function St(){throw Error(i(321))}function op(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Dn(r[o],s[o]))return!1;return!0}function lp(r,s,o,u,f,p){return us=p,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=r===null||r.memoizedState===null?H0:G0,ka=!1,p=o(u,f),ka=!1,Ho&&(p=u0(s,o,u,f)),l0(r),p}function l0(r){ee.H=Jh;var s=nt!==null&&nt.next!==null;if(us=0,Ct=nt=Ne=null,Gh=!1,Du=0,Go=null,s)throw Error(i(300));r===null||Ht||(r=r.dependencies,r!==null&&jh(r)&&(Ht=!0))}function u0(r,s,o,u){Ne=r;var f=0;do{if(Ho&&(Go=null),Du=0,Ho=!1,25<=f)throw Error(i(301));if(f+=1,Ct=nt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ee.H=Yx,p=s(o,u)}while(Ho);return p}function Fx(){var r=ee.H,s=r.useState()[0];return s=typeof s.then=="function"?Pu(s):s,r=r.useState()[0],(nt!==null?nt.memoizedState:null)!==r&&(Ne.flags|=1024),s}function up(){var r=Qh!==0;return Qh=0,r}function cp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function hp(r){if(Gh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gh=!1}us=0,Ct=nt=Ne=null,Ho=!1,Du=Qh=0,Go=null}function wn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Nt(){if(nt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var s=Ct===null?Ne.memoizedState:Ct.next;if(s!==null)Ct=s,nt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ct===null?Ne.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(r){var s=Du;return Du+=1,Go===null&&(Go=[]),r=n0(Go,r,s),s=Ne,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?H0:G0),r}function $h(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pu(r);if(r.$$typeof===P)return an(r)}throw Error(i(438,String(r)))}function dp(r){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=fp(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=L;return s.index++,o}function Si(r,s){return typeof s=="function"?s(r):s}function Kh(r){var s=Nt();return mp(s,nt,r)}function mp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,u.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{s=f.next;var S=E=null,D=null,Y=s,te=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(qe&ie)===ie:(us&ie)===ie){var X=Y.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===Bo&&(te=!0);else if((us&X)===X){Y=Y.next,X===Bo&&(te=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(S=D=ie,E=p):D=D.next=ie,Ne.lanes|=X,gs|=X;ie=Y.action,ka&&o(p,ie),p=Y.hasEagerState?Y.eagerState:o(p,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(S=D=X,E=p):D=D.next=X,Ne.lanes|=ie,gs|=ie;Y=Y.next}while(Y!==null&&Y!==s);if(D===null?E=p:D.next=S,!Dn(p,r.memoizedState)&&(Ht=!0,te&&(o=qo,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=D,u.lastRenderedState=p}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function pp(r){var s=Nt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=r(p,E.action),E=E.next;while(E!==f);Dn(p,s.memoizedState)||(Ht=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function c0(r,s,o){var u=Ne,f=Nt(),p=$e;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Dn((nt||f).memoizedState,o);E&&(f.memoizedState=o,Ht=!0),f=f.queue;var S=d0.bind(null,u,f,r);if(ku(2048,8,S,[r]),f.getSnapshot!==s||E||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Qo(9,Yh(),f0.bind(null,u,f,o,s),null),ot===null)throw Error(i(349));p||(us&124)!==0||h0(u,s,o)}return o}function h0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=fp(),Ne.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function f0(r,s,o,u){s.value=o,s.getSnapshot=u,m0(s)&&p0(r)}function d0(r,s,o){return o(function(){m0(s)&&p0(r)})}function m0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Dn(r,o)}catch{return!0}}function p0(r){var s=Lo(r,2);s!==null&&Vn(s,r,2)}function gp(r){var s=wn();if(typeof r=="function"){var o=r;if(r=o(),ka){Nn(!0);try{o()}finally{Nn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},s}function g0(r,s,o,u){return r.baseState=o,mp(r,nt,typeof u=="function"?u:Si)}function Hx(r,s,o,u,f){if(Wh(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};ee.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,y0(s,p)):(p.next=o.next,s.pending=o.next=p)}}function y0(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var p=ee.T,E={};ee.T=E;try{var S=o(f,u),D=ee.S;D!==null&&D(E,S),_0(r,s,S)}catch(Y){yp(r,s,Y)}finally{ee.T=p}}else try{p=o(f,u),_0(r,s,p)}catch(Y){yp(r,s,Y)}}function _0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){v0(r,s,u)},function(u){return yp(r,s,u)}):v0(r,s,o)}function v0(r,s,o){s.status="fulfilled",s.value=o,b0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,y0(r,o)))}function yp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,b0(s),s=s.next;while(s!==u)}r.action=null}function b0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function E0(r,s){return s}function T0(r,s){if($e){var o=ot.formState;if(o!==null){e:{var u=Ne;if($e){if(yt){t:{for(var f=yt,p=zr;f.nodeType!==8;){if(!p){f=null;break t}if(f=fr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){yt=fr(f.nextSibling),u=f.data==="F!";break e}}Na(u)}u=!1}u&&(s=o[0])}}return o=wn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:s},o.queue=u,o=B0.bind(null,Ne,u),u.dispatch=o,u=gp(!1),p=Tp.bind(null,Ne,!1,u.queue),u=wn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=Hx.bind(null,Ne,f,p,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function w0(r){var s=Nt();return S0(s,nt,r)}function S0(r,s,o){if(s=mp(r,s,E0)[0],r=Kh(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Pu(s)}catch(E){throw E===xu?qh:E}else u=s;s=Nt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,Qo(9,Yh(),Gx.bind(null,f,o),null)),[u,p,r]}function Gx(r,s){r.action=s}function A0(r){var s=Nt(),o=nt;if(o!==null)return S0(s,o,r);Nt(),s=s.memoizedState,o=Nt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Qo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=fp(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Yh(){return{destroy:void 0,resource:void 0}}function R0(){return Nt().memoizedState}function Xh(r,s,o,u){var f=wn();u=u===void 0?null:u,Ne.flags|=r,f.memoizedState=Qo(1|s,Yh(),o,u)}function ku(r,s,o,u){var f=Nt();u=u===void 0?null:u;var p=f.memoizedState.inst;nt!==null&&u!==null&&op(u,nt.memoizedState.deps)?f.memoizedState=Qo(s,p,o,u):(Ne.flags|=r,f.memoizedState=Qo(1|s,p,o,u))}function x0(r,s){Xh(8390656,8,r,s)}function I0(r,s){ku(2048,8,r,s)}function C0(r,s){return ku(4,2,r,s)}function N0(r,s){return ku(4,4,r,s)}function O0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function D0(r,s,o){o=o!=null?o.concat([r]):null,ku(4,4,O0.bind(null,s,r),o)}function _p(){}function P0(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&op(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function k0(r,s){var o=Nt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&op(s,u[1]))return u[0];if(u=r(),ka){Nn(!0);try{r()}finally{Nn(!1)}}return o.memoizedState=[u,s],u}function vp(r,s,o){return o===void 0||(us&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Lb(),Ne.lanes|=r,gs|=r,o)}function M0(r,s,o,u){return Dn(o,s)?o:Fo.current!==null?(r=vp(r,o,u),Dn(r,s)||(Ht=!0),r):(us&42)===0?(Ht=!0,r.memoizedState=o):(r=Lb(),Ne.lanes|=r,gs|=r,s)}function U0(r,s,o,u,f){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=ee.T,S={};ee.T=S,Tp(r,!1,s,o);try{var D=f(),Y=ee.S;if(Y!==null&&Y(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=Bx(D,u);Mu(r,s,te,Ln(r))}else Mu(r,s,u,Ln(r))}catch(ie){Mu(r,s,{then:function(){},status:"rejected",reason:ie},Ln())}finally{ce.p=p,ee.T=E}}function Qx(){}function bp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=L0(r).queue;U0(r,f,s,ge,o===null?Qx:function(){return V0(r),o(u)})}function L0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ge},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function V0(r){var s=L0(r).next.queue;Mu(r,s,{},Ln())}function Ep(){return an(Zu)}function j0(){return Nt().memoizedState}function z0(){return Nt().memoizedState}function $x(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();r=os(o);var u=ls(s,r,o);u!==null&&(Vn(u,s,o),Cu(u,s,o)),s={cache:Wm()},r.payload=s;return}s=s.return}}function Kx(r,s,o){var u=Ln();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Wh(r)?q0(s,o):(o=Bm(r,s,o,u),o!==null&&(Vn(o,r,u),F0(o,s,u)))}function B0(r,s,o){var u=Ln();Mu(r,s,o,u)}function Mu(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Wh(r))q0(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,S=p(E,o);if(f.hasEagerState=!0,f.eagerState=S,Dn(S,E))return kh(r,s,f,0),ot===null&&Ph(),!1}catch{}finally{}if(o=Bm(r,s,f,u),o!==null)return Vn(o,r,u),F0(o,s,u),!0}return!1}function Tp(r,s,o,u){if(u={lane:2,revertLane:eg(),action:u,hasEagerState:!1,eagerState:null,next:null},Wh(r)){if(s)throw Error(i(479))}else s=Bm(r,o,u,2),s!==null&&Vn(s,r,2)}function Wh(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function q0(r,s){Ho=Gh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function F0(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,ru(r,o)}}var Jh={readContext:an,use:$h,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},H0={readContext:an,use:$h,useCallback:function(r,s){return wn().memoizedState=[r,s===void 0?null:s],r},useContext:an,useEffect:x0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Xh(4194308,4,O0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Xh(4194308,4,r,s)},useInsertionEffect:function(r,s){Xh(4,2,r,s)},useMemo:function(r,s){var o=wn();s=s===void 0?null:s;var u=r();if(ka){Nn(!0);try{r()}finally{Nn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=wn();if(o!==void 0){var f=o(s);if(ka){Nn(!0);try{o(s)}finally{Nn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=Kx.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var s=wn();return r={current:r},s.memoizedState=r},useState:function(r){r=gp(r);var s=r.queue,o=B0.bind(null,Ne,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:_p,useDeferredValue:function(r,s){var o=wn();return vp(o,r,s)},useTransition:function(){var r=gp(!1);return r=U0.bind(null,Ne,r.queue,!0,!1),wn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ne,f=wn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ot===null)throw Error(i(349));(qe&124)!==0||h0(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,x0(d0.bind(null,u,p,r),[r]),u.flags|=2048,Qo(9,Yh(),f0.bind(null,u,p,o,s),null),o},useId:function(){var r=wn(),s=ot.identifierPrefix;if($e){var o=Ei,u=bi;o=(u&~(1<<32-sn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Qh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=qx++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Ep,useFormState:T0,useActionState:T0,useOptimistic:function(r){var s=wn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Tp.bind(null,Ne,!0,o),o.dispatch=s,[r,s]},useMemoCache:dp,useCacheRefresh:function(){return wn().memoizedState=$x.bind(null,Ne)}},G0={readContext:an,use:$h,useCallback:P0,useContext:an,useEffect:I0,useImperativeHandle:D0,useInsertionEffect:C0,useLayoutEffect:N0,useMemo:k0,useReducer:Kh,useRef:R0,useState:function(){return Kh(Si)},useDebugValue:_p,useDeferredValue:function(r,s){var o=Nt();return M0(o,nt.memoizedState,r,s)},useTransition:function(){var r=Kh(Si)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:Pu(r),s]},useSyncExternalStore:c0,useId:j0,useHostTransitionStatus:Ep,useFormState:w0,useActionState:w0,useOptimistic:function(r,s){var o=Nt();return g0(o,nt,r,s)},useMemoCache:dp,useCacheRefresh:z0},Yx={readContext:an,use:$h,useCallback:P0,useContext:an,useEffect:I0,useImperativeHandle:D0,useInsertionEffect:C0,useLayoutEffect:N0,useMemo:k0,useReducer:pp,useRef:R0,useState:function(){return pp(Si)},useDebugValue:_p,useDeferredValue:function(r,s){var o=Nt();return nt===null?vp(o,r,s):M0(o,nt.memoizedState,r,s)},useTransition:function(){var r=pp(Si)[0],s=Nt().memoizedState;return[typeof r=="boolean"?r:Pu(r),s]},useSyncExternalStore:c0,useId:j0,useHostTransitionStatus:Ep,useFormState:A0,useActionState:A0,useOptimistic:function(r,s){var o=Nt();return nt!==null?g0(o,nt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:dp,useCacheRefresh:z0},$o=null,Uu=0;function Zh(r){var s=Uu;return Uu+=1,$o===null&&($o=[]),n0($o,r,s)}function Lu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ef(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Q0(r){var s=r._init;return s(r._payload)}function $0(r){function s(Q,B){if(r){var K=Q.deletions;K===null?(Q.deletions=[B],Q.flags|=16):K.push(B)}}function o(Q,B){if(!r)return null;for(;B!==null;)s(Q,B),B=B.sibling;return null}function u(Q){for(var B=new Map;Q!==null;)Q.key!==null?B.set(Q.key,Q):B.set(Q.index,Q),Q=Q.sibling;return B}function f(Q,B){return Q=vi(Q,B),Q.index=0,Q.sibling=null,Q}function p(Q,B,K){return Q.index=K,r?(K=Q.alternate,K!==null?(K=K.index,K<B?(Q.flags|=67108866,B):K):(Q.flags|=67108866,B)):(Q.flags|=1048576,B)}function E(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function S(Q,B,K,ne){return B===null||B.tag!==6?(B=Fm(K,Q.mode,ne),B.return=Q,B):(B=f(B,K),B.return=Q,B)}function D(Q,B,K,ne){var pe=K.type;return pe===N?te(Q,B,K.props.children,ne,K.key):B!==null&&(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Q0(pe)===B.type)?(B=f(B,K.props),Lu(B,K),B.return=Q,B):(B=Uh(K.type,K.key,K.props,null,Q.mode,ne),Lu(B,K),B.return=Q,B)}function Y(Q,B,K,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Hm(K,Q.mode,ne),B.return=Q,B):(B=f(B,K.children||[]),B.return=Q,B)}function te(Q,B,K,ne,pe){return B===null||B.tag!==7?(B=Ra(K,Q.mode,ne,pe),B.return=Q,B):(B=f(B,K),B.return=Q,B)}function ie(Q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Fm(""+B,Q.mode,K),B.return=Q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return K=Uh(B.type,B.key,B.props,null,Q.mode,K),Lu(K,B),K.return=Q,K;case x:return B=Hm(B,Q.mode,K),B.return=Q,B;case A:var ne=B._init;return B=ne(B._payload),ie(Q,B,K)}if(lt(B)||H(B))return B=Ra(B,Q.mode,K,null),B.return=Q,B;if(typeof B.then=="function")return ie(Q,Zh(B),K);if(B.$$typeof===P)return ie(Q,zh(Q,B),K);ef(Q,B)}return null}function X(Q,B,K,ne){var pe=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return pe!==null?null:S(Q,B,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===pe?D(Q,B,K,ne):null;case x:return K.key===pe?Y(Q,B,K,ne):null;case A:return pe=K._init,K=pe(K._payload),X(Q,B,K,ne)}if(lt(K)||H(K))return pe!==null?null:te(Q,B,K,ne,null);if(typeof K.then=="function")return X(Q,B,Zh(K),ne);if(K.$$typeof===P)return X(Q,B,zh(Q,K),ne);ef(Q,K)}return null}function W(Q,B,K,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Q=Q.get(K)||null,S(B,Q,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return Q=Q.get(ne.key===null?K:ne.key)||null,D(B,Q,ne,pe);case x:return Q=Q.get(ne.key===null?K:ne.key)||null,Y(B,Q,ne,pe);case A:var Pe=ne._init;return ne=Pe(ne._payload),W(Q,B,K,ne,pe)}if(lt(ne)||H(ne))return Q=Q.get(K)||null,te(B,Q,ne,pe,null);if(typeof ne.then=="function")return W(Q,B,K,Zh(ne),pe);if(ne.$$typeof===P)return W(Q,B,K,zh(B,ne),pe);ef(B,ne)}return null}function we(Q,B,K,ne){for(var pe=null,Pe=null,ye=B,Ee=B=0,Qt=null;ye!==null&&Ee<K.length;Ee++){ye.index>Ee?(Qt=ye,ye=null):Qt=ye.sibling;var He=X(Q,ye,K[Ee],ne);if(He===null){ye===null&&(ye=Qt);break}r&&ye&&He.alternate===null&&s(Q,ye),B=p(He,B,Ee),Pe===null?pe=He:Pe.sibling=He,Pe=He,ye=Qt}if(Ee===K.length)return o(Q,ye),$e&&Ia(Q,Ee),pe;if(ye===null){for(;Ee<K.length;Ee++)ye=ie(Q,K[Ee],ne),ye!==null&&(B=p(ye,B,Ee),Pe===null?pe=ye:Pe.sibling=ye,Pe=ye);return $e&&Ia(Q,Ee),pe}for(ye=u(ye);Ee<K.length;Ee++)Qt=W(ye,Q,Ee,K[Ee],ne),Qt!==null&&(r&&Qt.alternate!==null&&ye.delete(Qt.key===null?Ee:Qt.key),B=p(Qt,B,Ee),Pe===null?pe=Qt:Pe.sibling=Qt,Pe=Qt);return r&&ye.forEach(function(As){return s(Q,As)}),$e&&Ia(Q,Ee),pe}function be(Q,B,K,ne){if(K==null)throw Error(i(151));for(var pe=null,Pe=null,ye=B,Ee=B=0,Qt=null,He=K.next();ye!==null&&!He.done;Ee++,He=K.next()){ye.index>Ee?(Qt=ye,ye=null):Qt=ye.sibling;var As=X(Q,ye,He.value,ne);if(As===null){ye===null&&(ye=Qt);break}r&&ye&&As.alternate===null&&s(Q,ye),B=p(As,B,Ee),Pe===null?pe=As:Pe.sibling=As,Pe=As,ye=Qt}if(He.done)return o(Q,ye),$e&&Ia(Q,Ee),pe;if(ye===null){for(;!He.done;Ee++,He=K.next())He=ie(Q,He.value,ne),He!==null&&(B=p(He,B,Ee),Pe===null?pe=He:Pe.sibling=He,Pe=He);return $e&&Ia(Q,Ee),pe}for(ye=u(ye);!He.done;Ee++,He=K.next())He=W(ye,Q,Ee,He.value,ne),He!==null&&(r&&He.alternate!==null&&ye.delete(He.key===null?Ee:He.key),B=p(He,B,Ee),Pe===null?pe=He:Pe.sibling=He,Pe=He);return r&&ye.forEach(function(XI){return s(Q,XI)}),$e&&Ia(Q,Ee),pe}function it(Q,B,K,ne){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var pe=K.key;B!==null;){if(B.key===pe){if(pe=K.type,pe===N){if(B.tag===7){o(Q,B.sibling),ne=f(B,K.props.children),ne.return=Q,Q=ne;break e}}else if(B.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&Q0(pe)===B.type){o(Q,B.sibling),ne=f(B,K.props),Lu(ne,K),ne.return=Q,Q=ne;break e}o(Q,B);break}else s(Q,B);B=B.sibling}K.type===N?(ne=Ra(K.props.children,Q.mode,ne,K.key),ne.return=Q,Q=ne):(ne=Uh(K.type,K.key,K.props,null,Q.mode,ne),Lu(ne,K),ne.return=Q,Q=ne)}return E(Q);case x:e:{for(pe=K.key;B!==null;){if(B.key===pe)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(Q,B.sibling),ne=f(B,K.children||[]),ne.return=Q,Q=ne;break e}else{o(Q,B);break}else s(Q,B);B=B.sibling}ne=Hm(K,Q.mode,ne),ne.return=Q,Q=ne}return E(Q);case A:return pe=K._init,K=pe(K._payload),it(Q,B,K,ne)}if(lt(K))return we(Q,B,K,ne);if(H(K)){if(pe=H(K),typeof pe!="function")throw Error(i(150));return K=pe.call(K),be(Q,B,K,ne)}if(typeof K.then=="function")return it(Q,B,Zh(K),ne);if(K.$$typeof===P)return it(Q,B,zh(Q,K),ne);ef(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(Q,B.sibling),ne=f(B,K),ne.return=Q,Q=ne):(o(Q,B),ne=Fm(K,Q.mode,ne),ne.return=Q,Q=ne),E(Q)):o(Q,B)}return function(Q,B,K,ne){try{Uu=0;var pe=it(Q,B,K,ne);return $o=null,pe}catch(ye){if(ye===xu||ye===qh)throw ye;var Pe=Pn(29,ye,null,Q.mode);return Pe.lanes=ne,Pe.return=Q,Pe}finally{}}}var Ko=$0(!0),K0=$0(!1),er=oe(null),Br=null;function cs(r){var s=r.alternate;le(Vt,Vt.current&1),le(er,r),Br===null&&(s===null||Fo.current!==null||s.memoizedState!==null)&&(Br=r)}function Y0(r){if(r.tag===22){if(le(Vt,Vt.current),le(er,r),Br===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Br=r)}}else hs()}function hs(){le(Vt,Vt.current),le(er,er.current)}function Ai(r){he(er),Br===r&&(Br=null),he(Vt)}var Vt=oe(0);function tf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||fg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function wp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Sp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Ln(),f=os(u);f.payload=s,o!=null&&(f.callback=o),s=ls(r,f,u),s!==null&&(Vn(s,r,u),Cu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Ln(),f=os(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ls(r,f,u),s!==null&&(Vn(s,r,u),Cu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Ln(),u=os(o);u.tag=2,s!=null&&(u.callback=s),s=ls(r,u,o),s!==null&&(Vn(s,r,o),Cu(s,r,o))}};function X0(r,s,o,u,f,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!vu(o,u)||!vu(f,p):!0}function W0(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Sp.enqueueReplaceState(s,s.state,null)}function Ma(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=_({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var nf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function J0(r){nf(r)}function Z0(r){console.error(r)}function eb(r){nf(r)}function rf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function tb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ap(r,s,o){return o=os(o),o.tag=3,o.payload={element:null},o.callback=function(){rf(r,s)},o}function nb(r){return r=os(r),r.tag=3,r}function rb(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;r.payload=function(){return f(p)},r.callback=function(){tb(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){tb(s,o,u),typeof f!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Xx(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Su(s,o,f,!0),o=er.current,o!==null){switch(o.tag){case 13:return Br===null?Yp():o.alternate===null&&_t===0&&(_t=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ep?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Wp(r,u,f)),!1;case 22:return o.flags|=65536,u===ep?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Wp(r,u,f)),!1}throw Error(i(435,o.tag))}return Wp(r,u,f),Yp(),!1}if($e)return s=er.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==$m&&(r=Error(i(422),{cause:u}),wu(Xn(r,o)))):(u!==$m&&(s=Error(i(423),{cause:u}),wu(Xn(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Xn(u,o),f=Ap(r.stateNode,u,f),rp(r,f),_t!==4&&(_t=2)),!1;var p=Error(i(520),{cause:u});if(p=Xn(p,o),Hu===null?Hu=[p]:Hu.push(p),_t!==4&&(_t=2),s===null)return!0;u=Xn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Ap(o.stateNode,u,r),rp(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ys===null||!ys.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=nb(f),rb(f,r,o,u),rp(o,f),!1}o=o.return}while(o!==null);return!1}var ib=Error(i(461)),Ht=!1;function Xt(r,s,o,u){s.child=r===null?K0(s,null,o,u):Ko(s,r.child,o,u)}function sb(r,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Da(s),u=lp(r,s,o,E,p,f),S=up(),r!==null&&!Ht?(cp(r,s,f),Ri(r,s,f)):($e&&S&&Gm(s),s.flags|=1,Xt(r,s,u,f),s.child)}function ab(r,s,o,u,f){if(r===null){var p=o.type;return typeof p=="function"&&!qm(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,ob(r,s,p,u,f)):(r=Uh(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Pp(r,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:vu,o(E,u)&&r.ref===s.ref)return Ri(r,s,f)}return s.flags|=1,r=vi(p,u),r.ref=s.ref,r.return=s,s.child=r}function ob(r,s,o,u,f){if(r!==null){var p=r.memoizedProps;if(vu(p,u)&&r.ref===s.ref)if(Ht=!1,s.pendingProps=u=p,Pp(r,f))(r.flags&131072)!==0&&(Ht=!0);else return s.lanes=r.lanes,Ri(r,s,f)}return Rp(r,s,o,u,f)}function lb(r,s,o){var u=s.pendingProps,f=u.children,p=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,r!==null){for(f=s.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return ub(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Bh(s,p!==null?p.cachePool:null),p!==null?o0(s,p):sp(),Y0(s);else return s.lanes=s.childLanes=536870912,ub(r,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(Bh(s,p.cachePool),o0(s,p),hs(),s.memoizedState=null):(r!==null&&Bh(s,null),sp(),hs());return Xt(r,s,f,o),s.child}function ub(r,s,o,u){var f=Zm();return f=f===null?null:{parent:Lt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Bh(s,null),sp(),Y0(s),r!==null&&Su(r,s,u,!0),null}function sf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Rp(r,s,o,u,f){return Da(s),o=lp(r,s,o,u,void 0,f),u=up(),r!==null&&!Ht?(cp(r,s,f),Ri(r,s,f)):($e&&u&&Gm(s),s.flags|=1,Xt(r,s,o,f),s.child)}function cb(r,s,o,u,f,p){return Da(s),s.updateQueue=null,o=u0(s,u,o,f),l0(r),u=up(),r!==null&&!Ht?(cp(r,s,p),Ri(r,s,p)):($e&&u&&Gm(s),s.flags|=1,Xt(r,s,o,p),s.child)}function hb(r,s,o,u,f){if(Da(s),s.stateNode===null){var p=Vo,E=o.contextType;typeof E=="object"&&E!==null&&(p=an(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},tp(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?an(E):Vo,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(wp(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Sp.enqueueReplaceState(p,p.state,null),Ou(s,u,p,f),Nu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var S=s.memoizedProps,D=Ma(o,S);p.props=D;var Y=p.context,te=o.contextType;E=Vo,typeof te=="object"&&te!==null&&(E=an(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==E)&&W0(s,p,u,E),as=!1;var X=s.memoizedState;p.state=X,Ou(s,u,p,f),Nu(),Y=s.memoizedState,S||X!==Y||as?(typeof ie=="function"&&(wp(s,o,ie,u),Y=s.memoizedState),(D=as||X0(s,o,D,u,X,Y,E))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),p.props=u,p.state=Y,p.context=E,u=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,np(r,s),E=s.memoizedProps,te=Ma(o,E),p.props=te,ie=s.pendingProps,X=p.context,Y=o.contextType,D=Vo,typeof Y=="object"&&Y!==null&&(D=an(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ie||X!==D)&&W0(s,p,u,D),as=!1,X=s.memoizedState,p.state=X,Ou(s,u,p,f),Nu();var W=s.memoizedState;E!==ie||X!==W||as||r!==null&&r.dependencies!==null&&jh(r.dependencies)?(typeof S=="function"&&(wp(s,o,S,u),W=s.memoizedState),(te=as||X0(s,o,te,u,X,W,D)||r!==null&&r.dependencies!==null&&jh(r.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=D,u=te):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,sf(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=Ko(s,r.child,null,f),s.child=Ko(s,null,o,f)):Xt(r,s,o,f),s.memoizedState=p.state,r=s.child):r=Ri(r,s,f),r}function fb(r,s,o,u){return Tu(),s.flags|=256,Xt(r,s,o,u),s.child}var xp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(r){return{baseLanes:r,cachePool:Zv()}}function Cp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=tr),r}function db(r,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(Vt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if($e){if(f?cs(s):hs(),$e){var S=yt,D;if(D=S){e:{for(D=S,S=zr;D.nodeType!==8;){if(!S){S=null;break e}if(D=fr(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(s.memoizedState={dehydrated:S,treeContext:xa!==null?{id:bi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},D=Pn(18,null,null,0),D.stateNode=S,D.return=s,s.child=D,yn=s,yt=null,D=!0):D=!1}D||Na(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return fg(S)?s.lanes=32:s.lanes=536870912,null;Ai(s)}return S=u.children,u=u.fallback,f?(hs(),f=s.mode,S=af({mode:"hidden",children:S},f),u=Ra(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=Ip(o),f.childLanes=Cp(r,E,o),s.memoizedState=xp,u):(cs(s),Np(s,S))}if(D=r.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(p)s.flags&256?(cs(s),s.flags&=-257,s=Op(r,s,o)):s.memoizedState!==null?(hs(),s.child=r.child,s.flags|=128,s=null):(hs(),f=u.fallback,S=s.mode,u=af({mode:"visible",children:u.children},S),f=Ra(f,S,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Ko(s,r.child,null,o),u=s.child,u.memoizedState=Ip(o),u.childLanes=Cp(r,E,o),s.memoizedState=xp,s=f);else if(cs(s),fg(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(i(419)),u.stack="",u.digest=E,wu({value:u,source:null,stack:null}),s=Op(r,s,o)}else if(Ht||Su(r,s,o,!1),E=(o&r.childLanes)!==0,Ht||E){if(E=ot,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ji(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Lo(r,u),Vn(E,r,u),ib;S.data==="$?"||Yp(),s=Op(r,s,o)}else S.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=D.treeContext,yt=fr(S.nextSibling),yn=s,$e=!0,Ca=null,zr=!1,r!==null&&(Jn[Zn++]=bi,Jn[Zn++]=Ei,Jn[Zn++]=xa,bi=r.id,Ei=r.overflow,xa=s),s=Np(s,u.children),s.flags|=4096);return s}return f?(hs(),f=u.fallback,S=s.mode,D=r.child,Y=D.sibling,u=vi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,Y!==null?f=vi(Y,f):(f=Ra(f,S,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=r.child.memoizedState,S===null?S=Ip(o):(D=S.cachePool,D!==null?(Y=Lt._currentValue,D=D.parent!==Y?{parent:Y,pool:Y}:D):D=Zv(),S={baseLanes:S.baseLanes|o,cachePool:D}),f.memoizedState=S,f.childLanes=Cp(r,E,o),s.memoizedState=xp,u):(cs(s),o=r.child,r=o.sibling,o=vi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Np(r,s){return s=af({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function af(r,s){return r=Pn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Op(r,s,o){return Ko(s,r.child,null,o),r=Np(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mb(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Ym(r.return,s,o)}function Dp(r,s,o,u,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function pb(r,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;if(Xt(r,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mb(r,o,s);else if(r.tag===19)mb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(Vt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&tf(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Dp(s,!1,f,o,p);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&tf(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Dp(s,!0,o,null,p);break;case"together":Dp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ri(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),gs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Su(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=vi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=vi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Pp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&jh(r)))}function Wx(r,s,o){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),ss(s,Lt,r.memoizedState.cache),Tu();break;case 27:case 5:Wi(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:ss(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(cs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?db(r,s,o):(cs(s),r=Ri(r,s,o),r!==null?r.sibling:null);cs(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Su(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return pb(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,lb(r,s,o);case 24:ss(s,Lt,r.memoizedState.cache)}return Ri(r,s,o)}function gb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Pp(r,o)&&(s.flags&128)===0)return Ht=!1,Wx(r,s,o);Ht=(r.flags&131072)!==0}else Ht=!1,$e&&(s.flags&1048576)!==0&&Qv(s,Vh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")qm(u)?(r=Ma(u,r),s.tag=1,s=hb(null,s,u,r,o)):(s.tag=0,s=Rp(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===F){s.tag=11,s=sb(null,s,u,r,o);break e}else if(f===I){s.tag=14,s=ab(null,s,u,r,o);break e}}throw s=Pt(u)||u,Error(i(306,s,""))}}return s;case 0:return Rp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ma(u,s.pendingProps),hb(r,s,u,f,o);case 3:e:{if(at(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,np(r,s),Ou(s,u,null,o);var E=s.memoizedState;if(u=E.cache,ss(s,Lt,u),u!==p.cache&&Xm(s,[Lt],o,!0),Nu(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=fb(r,s,u,o);break e}else if(u!==f){f=Xn(Error(i(424)),s),wu(f),s=fb(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(yt=fr(r.firstChild),yn=s,$e=!0,Ca=null,zr=!0,o=K0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Tu(),u===f){s=Ri(r,s,o);break e}Xt(r,s,u,o)}s=s.child}return s;case 26:return sf(r,s),r===null?(o=bE(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,r=s.pendingProps,u=bf(Re.current).createElement(o),u[kt]=s,u[xt]=r,Jt(u,o,r),wt(u),s.stateNode=u):s.memoizedState=bE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Wi(s),r===null&&$e&&(u=s.stateNode=yE(s.type,s.pendingProps,Re.current),yn=s,zr=!0,f=yt,bs(s.type)?(dg=f,yt=fr(u.firstChild)):yt=f),Xt(r,s,s.pendingProps.children,o),sf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&$e&&((f=u=yt)&&(u=AI(u,s.type,s.pendingProps,zr),u!==null?(s.stateNode=u,yn=s,yt=fr(u.firstChild),zr=!1,f=!0):f=!1),f||Na(s)),Wi(s),f=s.type,p=s.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,ug(f,p)?u=null:E!==null&&ug(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=lp(r,s,Fx,null,null,o),Zu._currentValue=f),sf(r,s),Xt(r,s,u,o),s.child;case 6:return r===null&&$e&&((r=o=yt)&&(o=RI(o,s.pendingProps,zr),o!==null?(s.stateNode=o,yn=s,yt=null,r=!0):r=!1),r||Na(s)),null;case 13:return db(r,s,o);case 4:return at(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ko(s,null,u,o):Xt(r,s,u,o),s.child;case 11:return sb(r,s,s.type,s.pendingProps,o);case 7:return Xt(r,s,s.pendingProps,o),s.child;case 8:return Xt(r,s,s.pendingProps.children,o),s.child;case 12:return Xt(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ss(s,s.type,u.value),Xt(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Da(s),f=an(f),u=u(f),s.flags|=1,Xt(r,s,u,o),s.child;case 14:return ab(r,s,s.type,s.pendingProps,o);case 15:return ob(r,s,s.type,s.pendingProps,o);case 19:return pb(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=af(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=vi(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return lb(r,s,o);case 24:return Da(s),u=an(Lt),r===null?(f=Zm(),f===null&&(f=ot,p=Wm(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},tp(s),ss(s,Lt,f)):((r.lanes&o)!==0&&(np(r,s),Ou(s,null,null,o),Nu()),f=r.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ss(s,Lt,u)):(u=p.cache,ss(s,Lt,u),u!==f.cache&&Xm(s,[Lt],o,!0))),Xt(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function xi(r){r.flags|=4}function yb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!AE(s)){if(s=er.current,s!==null&&((qe&4194048)===qe?Br!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==Br))throw Iu=ep,e0;r.flags|=8192}}function of(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?tu():536870912,r.lanes|=s,Jo|=s)}function Vu(r,s){if(!$e)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function Jx(r,s,o){var u=s.pendingProps;switch(Qm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wi(Lt),Ir(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Eu(s)?xi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yv())),mt(s),null;case 26:return o=s.memoizedState,r===null?(xi(s),o!==null?(mt(s),yb(s,o)):(mt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(xi(s),mt(s),yb(s,o)):(mt(s),s.flags&=-16777217):(r.memoizedProps!==u&&xi(s),mt(s),s.flags&=-16777217),null;case 27:ai(s),o=Re.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}r=ve.current,Eu(s)?$v(s):(r=yE(f,u,o),s.stateNode=r,xi(s))}return mt(s),null;case 5:if(ai(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(r=ve.current,Eu(s))$v(s);else{switch(f=bf(Re.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[kt]=s,r[xt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Jt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xi(s)}}return mt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&xi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Re.current,Eu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=yn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[kt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cE(r.nodeValue,o)),r||Na(s)}else r=bf(r).createTextNode(u),r[kt]=s,s.stateNode=r}return mt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Eu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[kt]=s}else Tu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),f=!1}else f=Yv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ai(s),s):(Ai(s),null)}if(Ai(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),of(s,s.updateQueue),mt(s),null;case 4:return Ir(),r===null&&ig(s.stateNode.containerInfo),mt(s),null;case 10:return wi(s.type),mt(s),null;case 19:if(he(Vt),f=s.memoizedState,f===null)return mt(s),null;if(u=(s.flags&128)!==0,p=f.rendering,p===null)if(u)Vu(f,!1);else{if(_t!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=tf(r),p!==null){for(s.flags|=128,Vu(f,!1),r=p.updateQueue,s.updateQueue=r,of(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Gv(o,r),o=o.sibling;return le(Vt,Vt.current&1|2),s.child}r=r.sibling}f.tail!==null&&Hn()>cf&&(s.flags|=128,u=!0,Vu(f,!1),s.lanes=4194304)}else{if(!u)if(r=tf(p),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,of(s,r),Vu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!$e)return mt(s),null}else 2*Hn()-f.renderingStartTime>cf&&o!==536870912&&(s.flags|=128,u=!0,Vu(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(r=f.last,r!==null?r.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Hn(),s.sibling=null,r=Vt.current,le(Vt,u?r&1|2:r&1),s):(mt(s),null);case 22:case 23:return Ai(s),ap(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),o=s.updateQueue,o!==null&&of(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&he(Pa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wi(Lt),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Zx(r,s){switch(Qm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wi(Lt),Ir(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ai(s),null;case 13:if(Ai(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Tu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return he(Vt),null;case 4:return Ir(),null;case 10:return wi(s.type),null;case 22:case 23:return Ai(s),ap(),r!==null&&he(Pa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wi(Lt),null;case 25:return null;default:return null}}function _b(r,s){switch(Qm(s),s.tag){case 3:wi(Lt),Ir();break;case 26:case 27:case 5:ai(s);break;case 4:Ir();break;case 13:Ai(s);break;case 19:he(Vt);break;case 10:wi(s.type);break;case 22:case 23:Ai(s),ap(),r!==null&&he(Pa);break;case 24:wi(Lt)}}function ju(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){st(s,s.return,S)}}function fs(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&r)===r){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var D=o,Y=S;try{Y()}catch(te){st(f,D,te)}}}u=u.next}while(u!==p)}}catch(te){st(s,s.return,te)}}function vb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{a0(s,o)}catch(u){st(r,r.return,u)}}}function bb(r,s,o){o.props=Ma(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){st(r,s,u)}}function zu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){st(r,s,f)}}function qr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){st(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){st(r,s,f)}else o.current=null}function Eb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){st(r,r.return,f)}}function kp(r,s,o){try{var u=r.stateNode;bI(u,r.type,o,s),u[xt]=s}catch(f){st(r,r.return,f)}}function Tb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bs(r.type)||r.tag===4}function Mp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Up(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vf));else if(u!==4&&(u===27&&bs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Up(r,s,o),r=r.sibling;r!==null;)Up(r,s,o),r=r.sibling}function lf(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&bs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(lf(r,s,o),r=r.sibling;r!==null;)lf(r,s,o),r=r.sibling}function wb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Jt(s,u,o),s[kt]=r,s[xt]=o}catch(p){st(r,r.return,p)}}var Ii=!1,At=!1,Lp=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function eI(r,s){if(r=r.containerInfo,og=Rf,r=Mv(r),Mm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,D=-1,Y=0,te=0,ie=r,X=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(S=E+f),ie!==p||u!==0&&ie.nodeType!==3||(D=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)X=ie,ie=W;for(;;){if(ie===r)break t;if(X===o&&++Y===f&&(S=E),X===p&&++te===u&&(D=E),(W=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=W}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(lg={focusedElem:r,selectionRange:o},Rf=!1,Gt=s;Gt!==null;)if(s=Gt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Gt=r;else for(;Gt!==null;){switch(s=Gt,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var we=Ma(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(we,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(be){st(o,o.return,be)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)hg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":hg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Gt=r;break}Gt=s.return}}function Ab(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ds(r,o),u&4&&ju(5,o);break;case 1:if(ds(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){st(o,o.return,E)}else{var f=Ma(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){st(o,o.return,E)}}u&64&&vb(o),u&512&&zu(o,o.return);break;case 3:if(ds(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{a0(r,s)}catch(E){st(o,o.return,E)}}break;case 27:s===null&&u&4&&wb(o);case 26:case 5:ds(r,o),s===null&&u&4&&Eb(o),u&512&&zu(o,o.return);break;case 12:ds(r,o);break;case 13:ds(r,o),u&4&&Ib(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=uI.bind(null,o),xI(r,o))));break;case 22:if(u=o.memoizedState!==null||Ii,!u){s=s!==null&&s.memoizedState!==null||At,f=Ii;var p=At;Ii=u,(At=s)&&!p?ms(r,o,(o.subtreeFlags&8772)!==0):ds(r,o),Ii=f,At=p}break;case 30:break;default:ds(r,o)}}function Rb(r){var s=r.alternate;s!==null&&(r.alternate=null,Rb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ts(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ht=null,Sn=!1;function Ci(r,s,o){for(o=o.child;o!==null;)xb(r,s,o),o=o.sibling}function xb(r,s,o){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(gt,o)}catch{}switch(o.tag){case 26:At||qr(o,s),Ci(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||qr(o,s);var u=ht,f=Sn;bs(o.type)&&(ht=o.stateNode,Sn=!1),Ci(r,s,o),Yu(o.stateNode),ht=u,Sn=f;break;case 5:At||qr(o,s);case 6:if(u=ht,f=Sn,ht=null,Ci(r,s,o),ht=u,Sn=f,ht!==null)if(Sn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(p){st(o,s,p)}else try{ht.removeChild(o.stateNode)}catch(p){st(o,s,p)}break;case 18:ht!==null&&(Sn?(r=ht,pE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),rc(r)):pE(ht,o.stateNode));break;case 4:u=ht,f=Sn,ht=o.stateNode.containerInfo,Sn=!0,Ci(r,s,o),ht=u,Sn=f;break;case 0:case 11:case 14:case 15:At||fs(2,o,s),At||fs(4,o,s),Ci(r,s,o);break;case 1:At||(qr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&bb(o,s,u)),Ci(r,s,o);break;case 21:Ci(r,s,o);break;case 22:At=(u=At)||o.memoizedState!==null,Ci(r,s,o),At=u;break;default:Ci(r,s,o)}}function Ib(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{rc(r)}catch(o){st(s,s.return,o)}}function tI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Sb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Sb),s;default:throw Error(i(435,r.tag))}}function Vp(r,s){var o=tI(r);s.forEach(function(u){var f=cI.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function kn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=r,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(bs(S.type)){ht=S.stateNode,Sn=!1;break e}break;case 5:ht=S.stateNode,Sn=!1;break e;case 3:case 4:ht=S.stateNode.containerInfo,Sn=!0;break e}S=S.return}if(ht===null)throw Error(i(160));xb(p,E,f),ht=null,Sn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Cb(s,r),s=s.sibling}var hr=null;function Cb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:kn(s,r),Mn(r),u&4&&(fs(3,r,r.return),ju(3,r),fs(5,r,r.return));break;case 1:kn(s,r),Mn(r),u&512&&(At||o===null||qr(o,o.return)),u&64&&Ii&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=hr;if(kn(s,r),Mn(r),u&512&&(At||o===null||qr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ca]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Jt(p,u,o),p[kt]=r,wt(p),u=p;break e;case"link":var E=wE("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),Jt(p,u,o),f.head.appendChild(p);break;case"meta":if(E=wE("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=f.createElement(u),Jt(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[kt]=r,wt(p),u=p}r.stateNode=u}else SE(f,r.type,r.stateNode);else r.stateNode=TE(f,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?SE(f,r.type,r.stateNode):TE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&kp(r,r.memoizedProps,o.memoizedProps)}break;case 27:kn(s,r),Mn(r),u&512&&(At||o===null||qr(o,o.return)),o!==null&&u&4&&kp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(kn(s,r),Mn(r),u&512&&(At||o===null||qr(o,o.return)),r.flags&32){f=r.stateNode;try{Qn(f,"")}catch(W){st(r,r.return,W)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,kp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Lp=!0);break;case 6:if(kn(s,r),Mn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){st(r,r.return,W)}}break;case 3:if(wf=null,f=hr,hr=Ef(s.containerInfo),kn(s,r),hr=f,Mn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{rc(s.containerInfo)}catch(W){st(r,r.return,W)}Lp&&(Lp=!1,Nb(r));break;case 4:u=hr,hr=Ef(r.stateNode.containerInfo),kn(s,r),Mn(r),hr=u;break;case 12:kn(s,r),Mn(r);break;case 13:kn(s,r),Mn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hp=Hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Vp(r,u)));break;case 22:f=r.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,Y=Ii,te=At;if(Ii=Y||f,At=te||D,kn(s,r),At=te,Ii=Y,Mn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||Ii||At||Ua(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var ie=D.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){st(D,D.return,W)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(W){st(D,D.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vp(r,o))));break;case 19:kn(s,r),Mn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Vp(r,u)));break;case 30:break;case 21:break;default:kn(s,r),Mn(r)}}function Mn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Tb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Mp(r);lf(r,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(Qn(E,""),o.flags&=-33);var S=Mp(r);lf(r,S,E);break;case 3:case 4:var D=o.stateNode.containerInfo,Y=Mp(r);Up(r,Y,D);break;default:throw Error(i(161))}}catch(te){st(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Nb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Nb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ds(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ab(r,s.alternate,s),s=s.sibling}function Ua(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:fs(4,s,s.return),Ua(s);break;case 1:qr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&bb(s,s.return,o),Ua(s);break;case 27:Yu(s.stateNode);case 26:case 5:qr(s,s.return),Ua(s);break;case 22:s.memoizedState===null&&Ua(s);break;case 30:Ua(s);break;default:Ua(s)}r=r.sibling}}function ms(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:ms(f,p,o),ju(4,p);break;case 1:if(ms(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){st(u,u.return,Y)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)s0(D[f],S)}catch(Y){st(u,u.return,Y)}}o&&E&64&&vb(p),zu(p,p.return);break;case 27:wb(p);case 26:case 5:ms(f,p,o),o&&u===null&&E&4&&Eb(p),zu(p,p.return);break;case 12:ms(f,p,o);break;case 13:ms(f,p,o),o&&E&4&&Ib(f,p);break;case 22:p.memoizedState===null&&ms(f,p,o),zu(p,p.return);break;case 30:break;default:ms(f,p,o)}s=s.sibling}}function jp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Au(o))}function zp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Au(r))}function Fr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ob(r,s,o,u),s=s.sibling}function Ob(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Fr(r,s,o,u),f&2048&&ju(9,s);break;case 1:Fr(r,s,o,u);break;case 3:Fr(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Au(r)));break;case 12:if(f&2048){Fr(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){st(s,s.return,D)}}else Fr(r,s,o,u);break;case 13:Fr(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?Fr(r,s,o,u):Bu(r,s):p._visibility&2?Fr(r,s,o,u):(p._visibility|=2,Yo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&jp(E,s);break;case 24:Fr(r,s,o,u),f&2048&&zp(s.alternate,s);break;default:Fr(r,s,o,u)}}function Yo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,E=s,S=o,D=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Yo(p,E,S,D,f),ju(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Yo(p,E,S,D,f):Bu(p,E):(te._visibility|=2,Yo(p,E,S,D,f)),f&&Y&2048&&jp(E.alternate,E);break;case 24:Yo(p,E,S,D,f),f&&Y&2048&&zp(E.alternate,E);break;default:Yo(p,E,S,D,f)}s=s.sibling}}function Bu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:Bu(o,u),f&2048&&jp(u.alternate,u);break;case 24:Bu(o,u),f&2048&&zp(u.alternate,u);break;default:Bu(o,u)}s=s.sibling}}var qu=8192;function Xo(r){if(r.subtreeFlags&qu)for(r=r.child;r!==null;)Db(r),r=r.sibling}function Db(r){switch(r.tag){case 26:Xo(r),r.flags&qu&&r.memoizedState!==null&&zI(hr,r.memoizedState,r.memoizedProps);break;case 5:Xo(r);break;case 3:case 4:var s=hr;hr=Ef(r.stateNode.containerInfo),Xo(r),hr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=qu,qu=16777216,Xo(r),qu=s):Xo(r));break;default:Xo(r)}}function Pb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Fu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,Mb(u,r)}Pb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kb(r),r=r.sibling}function kb(r){switch(r.tag){case 0:case 11:case 15:Fu(r),r.flags&2048&&fs(9,r,r.return);break;case 3:Fu(r);break;case 12:Fu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,uf(r)):Fu(r);break;default:Fu(r)}}function uf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Gt=u,Mb(u,r)}Pb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:fs(8,s,s.return),uf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,uf(s));break;default:uf(s)}r=r.sibling}}function Mb(r,s){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:fs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=r;Gt!==null;){u=Gt;var f=u.sibling,p=u.return;if(Rb(u),u===o){Gt=null;break e}if(f!==null){f.return=p,Gt=f;break e}Gt=p}}}var nI={getCacheForType:function(r){var s=an(Lt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},rI=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,ke=null,qe=0,et=0,Un=null,ps=!1,Wo=!1,Bp=!1,Ni=0,_t=0,gs=0,La=0,qp=0,tr=0,Jo=0,Hu=null,An=null,Fp=!1,Hp=0,cf=1/0,hf=null,ys=null,Wt=0,_s=null,Zo=null,el=0,Gp=0,Qp=null,Ub=null,Gu=0,$p=null;function Ln(){if((Ze&2)!==0&&qe!==0)return qe&-qe;if(ee.T!==null){var r=Bo;return r!==0?r:eg()}return Zi()}function Lb(){tr===0&&(tr=(qe&536870912)===0||$e?eu():536870912);var r=er.current;return r!==null&&(r.flags|=32),tr}function Vn(r,s,o){(r===ot&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(tl(r,0),vs(r,qe,tr,!1)),li(r,o),((Ze&2)===0||r!==ot)&&(r===ot&&((Ze&2)===0&&(La|=o),_t===4&&vs(r,qe,tr,!1)),Hr(r))}function Vb(r,s,o){if((Ze&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||ua(r,s),f=u?aI(r,s):Xp(r,s,!0),p=u;do{if(f===0){Wo&&!u&&vs(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!iI(o)){f=Xp(r,s,!1),p=!1;continue}if(f===2){if(p=s,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=r;f=Hu;var D=S.current.memoizedState.isDehydrated;if(D&&(tl(S,E).flags|=256),E=Xp(S,E,!1),E!==2){if(Bp&&!D){S.errorRecoveryDisabledLanes|=p,La|=p,f=4;break e}p=An,An=f,p!==null&&(An===null?An=p:An.push.apply(An,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){tl(r,0),vs(r,s,0,!0);break}e:{switch(u=r,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:vs(u,s,tr,!ps);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Hp+300-Hn(),10<f)){if(vs(u,s,tr,!ps),_o(u,0,!0)!==0)break e;u.timeoutHandle=dE(jb.bind(null,u,o,An,hf,Fp,s,tr,La,Jo,ps,p,2,-0,0),f);break e}jb(u,o,An,hf,Fp,s,tr,La,Jo,ps,p,0,-0,0)}}break}while(!0);Hr(r)}function jb(r,s,o,u,f,p,E,S,D,Y,te,ie,X,W){if(r.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Ju={stylesheets:null,count:0,unsuspend:jI},Db(s),ie=BI(),ie!==null)){r.cancelPendingCommit=ie(Qb.bind(null,r,s,p,o,u,f,E,S,D,te,1,X,W)),vs(r,p,E,!Y);return}Qb(r,s,p,o,u,f,E,S,D)}function iI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Dn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vs(r,s,o,u){s&=~qp,s&=~La,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var p=31-sn(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&Cr(r,o,s)}function ff(){return(Ze&6)===0?(Qu(0),!1):!0}function Kp(){if(ke!==null){if(et===0)var r=ke.return;else r=ke,Ti=Oa=null,hp(r),$o=null,Uu=0,r=ke;for(;r!==null;)_b(r.alternate,r),r=r.return;ke=null}}function tl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,TI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Kp(),ot=r,ke=o=vi(r.current,null),qe=s,et=0,Un=null,ps=!1,Wo=ua(r,s),Bp=!1,Jo=tr=qp=La=gs=_t=0,An=Hu=null,Fp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-sn(u),p=1<<f;s|=r[f],u&=~p}return Ni=s,Ph(),o}function zb(r,s){Ne=null,ee.H=Jh,s===xu||s===qh?(s=r0(),et=3):s===e0?(s=r0(),et=4):et=s===ib?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Un=s,ke===null&&(_t=1,rf(r,Xn(s,r.current)))}function Bb(){var r=ee.H;return ee.H=Jh,r===null?Jh:r}function qb(){var r=ee.A;return ee.A=nI,r}function Yp(){_t=4,ps||(qe&4194048)!==qe&&er.current!==null||(Wo=!0),(gs&134217727)===0&&(La&134217727)===0||ot===null||vs(ot,qe,tr,!1)}function Xp(r,s,o){var u=Ze;Ze|=2;var f=Bb(),p=qb();(ot!==r||qe!==s)&&(hf=null,tl(r,s)),s=!1;var E=_t;e:do try{if(et!==0&&ke!==null){var S=ke,D=Un;switch(et){case 8:Kp(),E=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(s=!0);var Y=et;if(et=0,Un=null,nl(r,S,D,Y),o&&Wo){E=0;break e}break;default:Y=et,et=0,Un=null,nl(r,S,D,Y)}}sI(),E=_t;break}catch(te){zb(r,te)}while(!0);return s&&r.shellSuspendCounter++,Ti=Oa=null,Ze=u,ee.H=f,ee.A=p,ke===null&&(ot=null,qe=0,Ph()),E}function sI(){for(;ke!==null;)Fb(ke)}function aI(r,s){var o=Ze;Ze|=2;var u=Bb(),f=qb();ot!==r||qe!==s?(hf=null,cf=Hn()+500,tl(r,s)):Wo=ua(r,s);e:do try{if(et!==0&&ke!==null){s=ke;var p=Un;t:switch(et){case 1:et=0,Un=null,nl(r,s,p,1);break;case 2:case 9:if(t0(p)){et=0,Un=null,Hb(s);break}s=function(){et!==2&&et!==9||ot!==r||(et=7),Hr(r)},p.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:t0(p)?(et=0,Un=null,Hb(s)):(et=0,Un=null,nl(r,s,p,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var S=ke;if(!E||AE(E)){et=0,Un=null;var D=S.sibling;if(D!==null)ke=D;else{var Y=S.return;Y!==null?(ke=Y,df(Y)):ke=null}break t}}et=0,Un=null,nl(r,s,p,5);break;case 6:et=0,Un=null,nl(r,s,p,6);break;case 8:Kp(),_t=6;break e;default:throw Error(i(462))}}oI();break}catch(te){zb(r,te)}while(!0);return Ti=Oa=null,ee.H=u,ee.A=f,Ze=o,ke!==null?0:(ot=null,qe=0,Ph(),_t)}function oI(){for(;ke!==null&&!Xl();)Fb(ke)}function Fb(r){var s=gb(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,s===null?df(r):ke=s}function Hb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=cb(o,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=cb(o,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:hp(s);default:_b(o,s),s=ke=Gv(s,Ni),s=gb(o,s,Ni)}r.memoizedProps=r.pendingProps,s===null?df(r):ke=s}function nl(r,s,o,u){Ti=Oa=null,hp(s),$o=null,Uu=0;var f=s.return;try{if(Xx(r,f,s,o,qe)){_t=1,rf(r,Xn(o,r.current)),ke=null;return}}catch(p){if(f!==null)throw ke=f,p;_t=1,rf(r,Xn(o,r.current)),ke=null;return}s.flags&32768?($e||u===1?r=!0:Wo||(qe&536870912)!==0?r=!1:(ps=r=!0,(u===2||u===9||u===3||u===6)&&(u=er.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gb(s,r)):df(s)}function df(r){var s=r;do{if((s.flags&32768)!==0){Gb(s,ps);return}r=s.return;var o=Jx(s.alternate,s,Ni);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=r}while(s!==null);_t===0&&(_t=5)}function Gb(r,s){do{var o=Zx(r.alternate,r);if(o!==null){o.flags&=32767,ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){ke=r;return}ke=r=o}while(r!==null);_t=6,ke=null}function Qb(r,s,o,u,f,p,E,S,D){r.cancelPendingCommit=null;do mf();while(Wt!==0);if((Ze&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=zm,nu(r,o,p,E,S,D),r===ot&&(ke=ot=null,qe=0),Zo=s,_s=r,el=o,Gp=p,Qp=f,Ub=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hI(sa,function(){return Wb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=ce.p,ce.p=2,E=Ze,Ze|=4;try{eI(r,s,o)}finally{Ze=E,ce.p=f,ee.T=u}}Wt=1,$b(),Kb(),Yb()}}function $b(){if(Wt===1){Wt=0;var r=_s,s=Zo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{Cb(s,r);var p=lg,E=Mv(r.containerInfo),S=p.focusedElem,D=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&kv(S.ownerDocument.documentElement,S)){if(D!==null&&Mm(S)){var Y=D.start,te=D.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var ie=S.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var W=X.getSelection(),we=S.textContent.length,be=Math.min(D.start,we),it=D.end===void 0?be:Math.min(D.end,we);!W.extend&&be>it&&(E=it,it=be,be=E);var Q=Pv(S,be),B=Pv(S,it);if(Q&&B&&(W.rangeCount!==1||W.anchorNode!==Q.node||W.anchorOffset!==Q.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=ie.createRange();K.setStart(Q.node,Q.offset),W.removeAllRanges(),be>it?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(ie=[],W=S;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var ne=ie[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Rf=!!og,lg=og=null}finally{Ze=f,ce.p=u,ee.T=o}}r.current=s,Wt=2}}function Kb(){if(Wt===2){Wt=0;var r=_s,s=Zo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=ce.p;ce.p=2;var f=Ze;Ze|=4;try{Ab(r,s.alternate,s)}finally{Ze=f,ce.p=u,ee.T=o}}Wt=3}}function Yb(){if(Wt===4||Wt===3){Wt=0,lh();var r=_s,s=Zo,o=el,u=Ub;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Zo=_s=null,Xb(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ys=null),vo(o),s=s.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(gt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=ce.p,ce.p=2,ee.T=null;try{for(var p=r.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{ee.T=s,ce.p=f}}(el&3)!==0&&mf(),Hr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===$p?Gu++:(Gu=0,$p=r):Gu=0,Qu(0)}}function Xb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Au(s)))}function mf(r){return $b(),Kb(),Yb(),Wb()}function Wb(){if(Wt!==5)return!1;var r=_s,s=Gp;Gp=0;var o=vo(el),u=ee.T,f=ce.p;try{ce.p=32>o?32:o,ee.T=null,o=Qp,Qp=null;var p=_s,E=el;if(Wt=0,Zo=_s=null,el=0,(Ze&6)!==0)throw Error(i(331));var S=Ze;if(Ze|=4,kb(p.current),Ob(p,p.current,E,o),Ze=S,Qu(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(gt,p)}catch{}return!0}finally{ce.p=f,ee.T=u,Xb(r,s)}}function Jb(r,s,o){s=Xn(o,s),s=Ap(r.stateNode,s,2),r=ls(r,s,2),r!==null&&(li(r,2),Hr(r))}function st(r,s,o){if(r.tag===3)Jb(r,r,o);else for(;s!==null;){if(s.tag===3){Jb(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ys===null||!ys.has(u))){r=Xn(o,r),o=nb(2),u=ls(s,o,2),u!==null&&(rb(o,u,s,r),li(u,2),Hr(u));break}}s=s.return}}function Wp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new rI;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Bp=!0,f.add(o),r=lI.bind(null,r,s,o),s.then(r,r))}function lI(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ot===r&&(qe&o)===o&&(_t===4||_t===3&&(qe&62914560)===qe&&300>Hn()-Hp?(Ze&2)===0&&tl(r,0):qp|=o,Jo===qe&&(Jo=0)),Hr(r)}function Zb(r,s){s===0&&(s=tu()),r=Lo(r,s),r!==null&&(li(r,s),Hr(r))}function uI(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Zb(r,o)}function cI(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Zb(r,o)}function hI(r,s){return ra(r,s)}var pf=null,rl=null,Jp=!1,gf=!1,Zp=!1,Va=0;function Hr(r){r!==rl&&r.next===null&&(rl===null?pf=rl=r:rl=rl.next=r),gf=!0,Jp||(Jp=!0,dI())}function Qu(r,s){if(!Zp&&gf){Zp=!0;do for(var o=!1,u=pf;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-sn(42|r)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,rE(u,p))}else p=qe,p=_o(u,u===ot?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ua(u,p)||(o=!0,rE(u,p));u=u.next}while(o);Zp=!1}}function fI(){eE()}function eE(){gf=Jp=!1;var r=0;Va!==0&&(EI()&&(r=Va),Va=0);for(var s=Hn(),o=null,u=pf;u!==null;){var f=u.next,p=tE(u,s);p===0?(u.next=null,o===null?pf=f:o.next=f,f===null&&(rl=o)):(o=u,(r!==0||(p&3)!==0)&&(gf=!0)),u=f}Qu(r)}function tE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-sn(p),S=1<<E,D=f[E];D===-1?((S&o)===0||(S&u)!==0)&&(f[E]=Zl(S,s)):D<=s&&(r.expiredLanes|=S),p&=~S}if(s=ot,o=qe,o=_o(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ia(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ua(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&ia(u),vo(o)){case 2:case 8:o=go;break;case 32:o=sa;break;case 268435456:o=yo;break;default:o=sa}return u=nE.bind(null,r),o=ra(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&ia(u),r.callbackPriority=2,r.callbackNode=null,2}function nE(r,s){if(Wt!==0&&Wt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(mf()&&r.callbackNode!==o)return null;var u=qe;return u=_o(r,r===ot?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Vb(r,u,s),tE(r,Hn()),r.callbackNode!=null&&r.callbackNode===o?nE.bind(null,r):null)}function rE(r,s){if(mf())return null;Vb(r,s,!0)}function dI(){wI(function(){(Ze&6)!==0?ra(Wl,fI):eE()})}function eg(){return Va===0&&(Va=eu()),Va}function iE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ao(""+r)}function sE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function mI(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=iE((f[xt]||null).action),E=u.submitter;E&&(s=(s=E[xt]||null)?iE(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var S=new Ro("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Va!==0){var D=E?sE(f,E):new FormData(f);bp(o,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=E?sE(f,E):new FormData(f),bp(o,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var tg=0;tg<jm.length;tg++){var ng=jm[tg],pI=ng.toLowerCase(),gI=ng[0].toUpperCase()+ng.slice(1);cr(pI,"on"+gI)}cr(Vv,"onAnimationEnd"),cr(jv,"onAnimationIteration"),cr(zv,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(Px,"onTransitionRun"),cr(kx,"onTransitionStart"),cr(Mx,"onTransitionCancel"),cr(Bv,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function aE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],D=S.instance,Y=S.currentTarget;if(S=S.listener,D!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=Y;try{p(f)}catch(te){nf(te)}f.currentTarget=null,p=D}else for(E=0;E<u.length;E++){if(S=u[E],D=S.instance,Y=S.currentTarget,S=S.listener,D!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=Y;try{p(f)}catch(te){nf(te)}f.currentTarget=null,p=D}}}}function Me(r,s){var o=s[iu];o===void 0&&(o=s[iu]=new Set);var u=r+"__bubble";o.has(u)||(oE(s,r,2,!1),o.add(u))}function rg(r,s,o){var u=0;s&&(u|=4),oE(o,r,u,s)}var yf="_reactListening"+Math.random().toString(36).slice(2);function ig(r){if(!r[yf]){r[yf]=!0,su.forEach(function(o){o!=="selectionchange"&&(yI.has(o)||rg(o,!1,r),rg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[yf]||(s[yf]=!0,rg("selectionchange",!1,s))}}function oE(r,s,o,u){switch(OE(s)){case 2:var f=HI;break;case 8:f=GI;break;default:f=_g}o=f.bind(null,s,o,r),f=void 0,!Kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function sg(r,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=ui(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=p=E;continue e}S=S.parentNode}}u=u.return}_h(function(){var Y=p,te=$n(o),ie=[];e:{var X=qv.get(r);if(X!==void 0){var W=Ro,we=r;switch(r){case"keypress":if(Mr(o)===0)break e;case"keydown":case"keyup":W=Do;break;case"focusin":we="focus",W=Co;break;case"focusout":we="blur",W=Co;break;case"beforeblur":case"afterblur":W=Co;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Rh;break;case Vv:case jv:case zv:W=No;break;case Bv:W=Ih;break;case"scroll":case"scrollend":W=vh;break;case"wheel":W=Po;break;case"copy":case"cut":case"paste":W=Oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=yu;break;case"toggle":case"beforetoggle":W=Nh}var be=(s&4)!==0,it=!be&&(r==="scroll"||r==="scrollend"),Q=be?X!==null?X+"Capture":null:X;be=[];for(var B=Y,K;B!==null;){var ne=B;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||Q===null||(ne=ya(B,Q),ne!=null&&be.push(Ku(B,ne,K))),it)break;B=B.return}0<be.length&&(X=new W(X,we,null,o,te),ie.push({event:X,listeners:be}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",X&&o!==di&&(we=o.relatedTarget||o.fromElement)&&(ui(we)||we[Gn]))break e;if((W||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,W?(we=o.relatedTarget||o.toElement,W=Y,we=we?ui(we):null,we!==null&&(it=l(we),be=we.tag,we!==it||be!==5&&be!==27&&be!==6)&&(we=null)):(W=null,we=Y),W!==we)){if(be=Yn,ne="onMouseLeave",Q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(be=yu,ne="onPointerLeave",Q="onPointerEnter",B="pointer"),it=W==null?X:Or(W),K=we==null?X:Or(we),X=new be(ne,B+"leave",W,o,te),X.target=it,X.relatedTarget=K,ne=null,ui(te)===Y&&(be=new be(Q,B+"enter",we,o,te),be.target=K,be.relatedTarget=it,ne=be),it=ne,W&&we)t:{for(be=W,Q=we,B=0,K=be;K;K=il(K))B++;for(K=0,ne=Q;ne;ne=il(ne))K++;for(;0<B-K;)be=il(be),B--;for(;0<K-B;)Q=il(Q),K--;for(;B--;){if(be===Q||Q!==null&&be===Q.alternate)break t;be=il(be),Q=il(Q)}be=null}else be=null;W!==null&&lE(ie,X,W,be,!1),we!==null&&it!==null&&lE(ie,it,we,be,!0)}}e:{if(X=Y?Or(Y):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var pe=xv;else if(Ut(X))if(Iv)pe=Nx;else{pe=Ix;var Pe=xx}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&cu(Y.elementType)&&(pe=xv):pe=Cx;if(pe&&(pe=pe(r,Y))){_i(ie,pe,o,te);break e}Pe&&Pe(r,X,Y),r==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&rs(X,"number",X.value)}switch(Pe=Y?Or(Y):window,r){case"focusin":(Ut(Pe)||Pe.contentEditable==="true")&&(ko=Pe,Um=Y,bu=null);break;case"focusout":bu=Um=ko=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Uv(ie,o,te);break;case"selectionchange":if(Dx)break;case"keydown":case"keyup":Uv(ie,o,te)}var ye;if(Vr)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ze?Z(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(b&&o.locale!=="ko"&&(ze||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ze&&(ye=fu()):(kr=te,is="value"in kr?kr.value:kr.textContent,ze=!0)),Pe=_f(Y,Ee),0<Pe.length&&(Ee=new pu(Ee,r,null,o,te),ie.push({event:Ee,listeners:Pe}),ye?Ee.data=ye:(ye=ue(o),ye!==null&&(Ee.data=ye)))),(ye=y?Mt(r,o):Be(r,o))&&(Ee=_f(Y,"onBeforeInput"),0<Ee.length&&(Pe=new pu("onBeforeInput","beforeinput",null,o,te),ie.push({event:Pe,listeners:Ee}),Pe.data=ye)),mI(ie,r,Y,o,te)}aE(ie,s)})}function Ku(r,s,o){return{instance:r,listener:s,currentTarget:o}}function _f(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ya(r,o),f!=null&&u.unshift(Ku(r,f,p)),f=ya(r,s),f!=null&&u.push(Ku(r,f,p))),r.tag===3)return u;r=r.return}return[]}function il(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function lE(r,s,o,u,f){for(var p=s._reactName,E=[];o!==null&&o!==u;){var S=o,D=S.alternate,Y=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||Y===null||(D=Y,f?(Y=ya(o,p),Y!=null&&E.unshift(Ku(o,Y,D))):f||(Y=ya(o,p),Y!=null&&E.push(Ku(o,Y,D)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var _I=/\r\n?/g,vI=/\u0000|\uFFFD/g;function uE(r){return(typeof r=="string"?r:""+r).replace(_I,`
`).replace(vI,"")}function cE(r,s){return s=uE(s),uE(r)===s}function vf(){}function rt(r,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Qn(r,""+u);break;case"className":Dr(r,"class",u);break;case"tabIndex":Dr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dr(r,o,u);break;case"style":uu(r,u,p);break;case"data":if(s!=="object"){Dr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ao(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&rt(r,s,"name",f.name,f,null),rt(r,s,"formEncType",f.formEncType,f,null),rt(r,s,"formMethod",f.formMethod,f,null),rt(r,s,"formTarget",f.formTarget,f,null)):(rt(r,s,"encType",f.encType,f,null),rt(r,s,"method",f.method,f,null),rt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Ao(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=vf);break;case"onScroll":u!=null&&Me("scroll",r);break;case"onScrollEnd":u!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Ao(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Me("beforetoggle",r),Me("toggle",r),ns(r,"popover",u);break;case"xlinkActuate":Kt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ns(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Cm.get(o)||o,ns(r,o,u))}}function ag(r,s,o,u,f,p){switch(o){case"style":uu(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Qn(r,u):(typeof u=="number"||typeof u=="bigint")&&Qn(r,""+u);break;case"onScroll":u!=null&&Me("scroll",r);break;case"onScrollEnd":u!=null&&Me("scrollend",r);break;case"onClick":u!=null&&(r.onclick=vf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=r[xt]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ns(r,o,u)}}}function Jt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,p,E,o,null)}}f&&rt(r,s,"srcSet",o.srcSet,o,null),u&&rt(r,s,"src",o.src,o,null);return;case"input":Me("invalid",r);var S=p=E=f=null,D=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":D=te;break;case"defaultChecked":Y=te;break;case"value":p=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:rt(r,s,u,te,o,null)}}ma(r,p,S,D,Y,E,f,!1),So(r);return;case"select":Me("invalid",r),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:rt(r,s,f,S,o,null)}s=p,o=E,r.multiple=!!u,s!=null?fi(r,!!u,s,!1):o!=null&&fi(r,!!u,o,!0);return;case"textarea":Me("invalid",r),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:rt(r,s,E,S,o,null)}pa(r,u,f,p),So(r);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(r,s,D,u,o,null)}return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(u=0;u<$u.length;u++)Me($u[u],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:rt(r,s,Y,u,o,null)}return;default:if(cu(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&ag(r,s,te,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&rt(r,s,S,u,o,null))}function bI(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,D=null,Y=null,te=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=ie;default:u.hasOwnProperty(W)||rt(r,s,W,null,u,ie)}}for(var X in u){var W=u[X];if(ie=o[X],u.hasOwnProperty(X)&&(W!=null||ie!=null))switch(X){case"type":p=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":te=W;break;case"value":E=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==ie&&rt(r,s,X,W,u,ie)}}On(r,E,S,D,Y,te,p,f);return;case"select":W=E=S=X=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(p)||rt(r,s,p,null,u,D)}for(f in u)if(p=u[f],D=o[f],u.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":X=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==D&&rt(r,s,f,p,u,D)}s=S,o=E,u=W,X!=null?fi(r,!!o,X,!1):!!u!=!!o&&(s!=null?fi(r,!!o,s,!0):fi(r,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(r,s,S,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":X=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&rt(r,s,E,f,u,p)}tt(r,X,W);return;case"option":for(var we in o)if(X=o[we],o.hasOwnProperty(we)&&X!=null&&!u.hasOwnProperty(we))switch(we){case"selected":r.selected=!1;break;default:rt(r,s,we,null,u,X)}for(D in u)if(X=u[D],W=o[D],u.hasOwnProperty(D)&&X!==W&&(X!=null||W!=null))switch(D){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:rt(r,s,D,X,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)X=o[be],o.hasOwnProperty(be)&&X!=null&&!u.hasOwnProperty(be)&&rt(r,s,be,null,u,X);for(Y in u)if(X=u[Y],W=o[Y],u.hasOwnProperty(Y)&&X!==W&&(X!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:rt(r,s,Y,X,u,W)}return;default:if(cu(s)){for(var it in o)X=o[it],o.hasOwnProperty(it)&&X!==void 0&&!u.hasOwnProperty(it)&&ag(r,s,it,void 0,u,X);for(te in u)X=u[te],W=o[te],!u.hasOwnProperty(te)||X===W||X===void 0&&W===void 0||ag(r,s,te,X,u,W);return}}for(var Q in o)X=o[Q],o.hasOwnProperty(Q)&&X!=null&&!u.hasOwnProperty(Q)&&rt(r,s,Q,null,u,X);for(ie in u)X=u[ie],W=o[ie],!u.hasOwnProperty(ie)||X===W||X==null&&W==null||rt(r,s,ie,X,u,W)}var og=null,lg=null;function bf(r){return r.nodeType===9?r:r.ownerDocument}function hE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function ug(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cg=null;function EI(){var r=window.event;return r&&r.type==="popstate"?r===cg?!1:(cg=r,!0):(cg=null,!1)}var dE=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,mE=typeof Promise=="function"?Promise:void 0,wI=typeof queueMicrotask=="function"?queueMicrotask:typeof mE<"u"?function(r){return mE.resolve(null).then(r).catch(SI)}:dE;function SI(r){setTimeout(function(){throw r})}function bs(r){return r==="head"}function pE(r,s){var o=s,u=0,f=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Yu(E.documentElement),o&2&&Yu(E.body),o&4)for(o=E.head,Yu(o),E=o.firstChild;E;){var S=E.nextSibling,D=E.nodeName;E[ca]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(f===0){r.removeChild(p),rc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);rc(s)}function hg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hg(o),ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function AI(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ca])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=fr(r.nextSibling),r===null)break}return null}function RI(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=fr(r.nextSibling),r===null))return null;return r}function fg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function xI(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function fr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var dg=null;function gE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function yE(r,s,o){switch(s=bf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Yu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ts(r)}var nr=new Map,_E=new Set;function Ef(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Oi=ce.d;ce.d={f:II,r:CI,D:NI,C:OI,L:DI,m:PI,X:MI,S:kI,M:UI};function II(){var r=Oi.f(),s=ff();return r||s}function CI(r){var s=Nr(r);s!==null&&s.tag===5&&s.type==="form"?V0(s):Oi.r(r)}var sl=typeof document>"u"?null:document;function vE(r,s,o){var u=sl;if(u&&typeof s=="string"&&s){var f=It(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),_E.has(f)||(_E.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Jt(s,"link",r),wt(s),u.head.appendChild(s)))}}function NI(r){Oi.D(r),vE("dns-prefetch",r,null)}function OI(r,s){Oi.C(r,s),vE("preconnect",r,s)}function DI(r,s,o){Oi.L(r,s,o);var u=sl;if(u&&r&&s){var f='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var p=f;switch(s){case"style":p=al(r);break;case"script":p=ol(r)}nr.has(p)||(r=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),nr.set(p,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(Xu(p))||s==="script"&&u.querySelector(Wu(p))||(s=u.createElement("link"),Jt(s,"link",r),wt(s),u.head.appendChild(s)))}}function PI(r,s){Oi.m(r,s);var o=sl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(r)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ol(r)}if(!nr.has(p)&&(r=_({rel:"modulepreload",href:r},s),nr.set(p,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wu(p)))return}u=o.createElement("link"),Jt(u,"link",r),wt(u),o.head.appendChild(u)}}}function kI(r,s,o){Oi.S(r,s,o);var u=sl;if(u&&r){var f=mn(u).hoistableStyles,p=al(r);s=s||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Xu(p)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":s},o),(o=nr.get(p))&&mg(r,o);var D=E=u.createElement("link");wt(D),Jt(D,"link",r),D._p=new Promise(function(Y,te){D.onload=Y,D.onerror=te}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Tf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function MI(r,s){Oi.X(r,s);var o=sl;if(o&&r){var u=mn(o).hoistableScripts,f=ol(r),p=u.get(f);p||(p=o.querySelector(Wu(f)),p||(r=_({src:r,async:!0},s),(s=nr.get(f))&&pg(r,s),p=o.createElement("script"),wt(p),Jt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function UI(r,s){Oi.M(r,s);var o=sl;if(o&&r){var u=mn(o).hoistableScripts,f=ol(r),p=u.get(f);p||(p=o.querySelector(Wu(f)),p||(r=_({src:r,async:!0,type:"module"},s),(s=nr.get(f))&&pg(r,s),p=o.createElement("script"),wt(p),Jt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function bE(r,s,o,u){var f=(f=Re.current)?Ef(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=al(o.href),o=mn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=al(o.href);var p=mn(f).hoistableStyles,E=p.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=f.querySelector(Xu(r)))&&!p._p&&(E.instance=p,E.state.loading=5),nr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},nr.set(r,o),p||LI(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ol(o),o=mn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function al(r){return'href="'+It(r)+'"'}function Xu(r){return'link[rel="stylesheet"]['+r+"]"}function EE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function LI(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),wt(s),r.head.appendChild(s))}function ol(r){return'[src="'+It(r)+'"]'}function Wu(r){return"script[async]"+r}function TE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return s.instance=u,wt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),wt(u),Jt(u,"style",f),Tf(u,o.precedence,r),s.instance=u;case"stylesheet":f=al(o.href);var p=r.querySelector(Xu(f));if(p)return s.state.loading|=4,s.instance=p,wt(p),p;u=EE(o),(f=nr.get(f))&&mg(u,f),p=(r.ownerDocument||r).createElement("link"),wt(p);var E=p;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Jt(p,"link",u),s.state.loading|=4,Tf(p,o.precedence,r),s.instance=p;case"script":return p=ol(o.src),(f=r.querySelector(Wu(p)))?(s.instance=f,wt(f),f):(u=o,(f=nr.get(p))&&(u=_({},o),pg(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),wt(f),Jt(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Tf(u,o.precedence,r));return s.instance}function Tf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function mg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function pg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var wf=null;function wE(r,s,o){if(wf===null){var u=new Map,f=wf=new Map;f.set(o,u)}else f=wf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var p=o[f];if(!(p[ca]||p[kt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=r+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function SE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function VI(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function AE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ju=null;function jI(){}function zI(r,s,o){if(Ju===null)throw Error(i(475));var u=Ju;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=al(o.href),p=r.querySelector(Xu(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Sf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=p,wt(p);return}p=r.ownerDocument||r,o=EE(o),(f=nr.get(f))&&mg(o,f),p=p.createElement("link"),wt(p);var E=p;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Jt(p,"link",o),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Sf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function BI(){if(Ju===null)throw Error(i(475));var r=Ju;return r.stylesheets&&r.count===0&&gg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&gg(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Sf(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Af=null;function gg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Af=new Map,s.forEach(qI,r),Af=null,Sf.call(r))}function qI(r,s){if(!(s.state.loading&4)){var o=Af.get(r);if(o)var u=o.get(null);else{o=new Map,Af.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Sf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Zu={$$typeof:P,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function FI(r,s,o,u,f,p,E,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function RE(r,s,o,u,f,p,E,S,D,Y,te,ie){return r=new FI(r,s,o,E,S,D,Y,ie),s=1,p===!0&&(s|=24),p=Pn(3,null,null,s),r.current=p,p.stateNode=r,s=Wm(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},tp(p),r}function xE(r){return r?(r=Vo,r):Vo}function IE(r,s,o,u,f,p){f=xE(f),u.context===null?u.context=f:u.pendingContext=f,u=os(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=ls(r,u,s),o!==null&&(Vn(o,r,s),Cu(o,r,s))}function CE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function yg(r,s){CE(r,s),(r=r.alternate)&&CE(r,s)}function NE(r){if(r.tag===13){var s=Lo(r,67108864);s!==null&&Vn(s,r,67108864),yg(r,67108864)}}var Rf=!0;function HI(r,s,o,u){var f=ee.T;ee.T=null;var p=ce.p;try{ce.p=2,_g(r,s,o,u)}finally{ce.p=p,ee.T=f}}function GI(r,s,o,u){var f=ee.T;ee.T=null;var p=ce.p;try{ce.p=8,_g(r,s,o,u)}finally{ce.p=p,ee.T=f}}function _g(r,s,o,u){if(Rf){var f=vg(u);if(f===null)sg(r,s,u,xf,o),DE(r,u);else if($I(f,r,s,o,u))u.stopPropagation();else if(DE(r,u),s&4&&-1<QI.indexOf(r)){for(;f!==null;){var p=Nr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=or(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-sn(E);S.entanglements[1]|=D,E&=~D}Hr(p),(Ze&6)===0&&(cf=Hn()+500,Qu(0))}}break;case 13:S=Lo(p,2),S!==null&&Vn(S,p,2),ff(),yg(p,2)}if(p=vg(u),p===null&&sg(r,s,u,xf,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else sg(r,s,u,null,o)}}function vg(r){return r=$n(r),bg(r)}var xf=null;function bg(r){if(xf=null,r=ui(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return xf=r,null}function OE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wm()){case Wl:return 2;case go:return 8;case sa:case Sm:return 32;case yo:return 268435456;default:return 32}default:return 32}}var Eg=!1,Es=null,Ts=null,ws=null,ec=new Map,tc=new Map,Ss=[],QI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DE(r,s){switch(r){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":ec.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(s.pointerId)}}function nc(r,s,o,u,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Nr(s),s!==null&&NE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function $I(r,s,o,u,f){switch(s){case"focusin":return Es=nc(Es,r,s,o,u,f),!0;case"dragenter":return Ts=nc(Ts,r,s,o,u,f),!0;case"mouseover":return ws=nc(ws,r,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return ec.set(p,nc(ec.get(p)||null,r,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,tc.set(p,nc(tc.get(p)||null,r,s,o,u,f)),!0}return!1}function PE(r){var s=ui(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,hh(r.priority,function(){if(o.tag===13){var u=Ln();u=Ji(u);var f=Lo(o,u);f!==null&&Vn(f,o,u),yg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function If(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=vg(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);di=u,o.target.dispatchEvent(u),di=null}else return s=Nr(o),s!==null&&NE(s),r.blockedOn=o,!1;s.shift()}return!0}function kE(r,s,o){If(r)&&o.delete(s)}function KI(){Eg=!1,Es!==null&&If(Es)&&(Es=null),Ts!==null&&If(Ts)&&(Ts=null),ws!==null&&If(ws)&&(ws=null),ec.forEach(kE),tc.forEach(kE)}function Cf(r,s){r.blockedOn===s&&(r.blockedOn=null,Eg||(Eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KI)))}var Nf=null;function ME(r){Nf!==r&&(Nf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nf===r&&(Nf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(bg(u||o)===null)continue;break}var p=Nr(o);p!==null&&(r.splice(s,3),s-=3,bp(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function rc(r){function s(D){return Cf(D,r)}Es!==null&&Cf(Es,r),Ts!==null&&Cf(Ts,r),ws!==null&&Cf(ws,r),ec.forEach(s),tc.forEach(s);for(var o=0;o<Ss.length;o++){var u=Ss[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ss.length&&(o=Ss[0],o.blockedOn===null);)PE(o),o.blockedOn===null&&Ss.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[xt]||null;if(typeof p=="function")E||ME(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[xt]||null)S=E.formAction;else if(bg(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),ME(o)}}}function Tg(r){this._internalRoot=r}Of.prototype.render=Tg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Ln();IE(o,u,r,s,null,null)},Of.prototype.unmount=Tg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;IE(r.current,2,null,r,null,null),ff(),s[Gn]=null}};function Of(r){this._internalRoot=r}Of.prototype.unstable_scheduleHydration=function(r){if(r){var s=Zi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ss.length&&s!==0&&s<Ss[o].priority;o++);Ss.splice(o,0,r),o===0&&PE(r)}};var UE=e.version;if(UE!=="19.1.0")throw Error(i(527,UE,"19.1.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var YI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{gt=Df.inject(YI),Je=Df}catch{}}return sc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=J0,p=Z0,E=eb,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=RE(r,1,!1,null,null,o,u,f,p,E,S,null),r[Gn]=s.current,ig(r),new Tg(s)},sc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",p=J0,E=Z0,S=eb,D=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=RE(r,1,!0,s,o??null,u,f,p,E,S,D,Y),s.context=xE(null),o=s.current,u=Ln(),u=Ji(u),f=os(u),f.callback=null,ls(o,f,u),o=u,s.current.lanes=o,li(s,o),Hr(s),r[Gn]=s.current,ig(r),new Of(s)},sc.version="19.1.0",sc}var $E;function sC(){if($E)return Rg.exports;$E=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rg.exports=iC(),Rg.exports}var aC=sC(),ac={},KE;function oC(){if(KE)return ac;KE=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.parse=c,ac.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,x){const N=new l,k=w.length;if(k<2)return N;const O=(x==null?void 0:x.decode)||_;let V=0;do{const G=w.indexOf("=",V);if(G===-1)break;const P=w.indexOf(";",V),F=P===-1?k:P;if(G>F){V=w.lastIndexOf(";",G-1)+1;continue}const J=d(w,V,G),re=m(w,G,J),I=w.slice(J,re);if(N[I]===void 0){let A=d(w,G+1,F),C=m(w,F,A);const L=O(w.slice(A,C));N[I]=L}V=F+1}while(V<k);return N}function d(w,x,N){do{const k=w.charCodeAt(x);if(k!==32&&k!==9)return x}while(++x<N);return N}function m(w,x,N){for(;x>N;){const k=w.charCodeAt(--x);if(k!==32&&k!==9)return x+1}return N}function g(w,x,N){const k=(N==null?void 0:N.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const O=k(x);if(!e.test(O))throw new TypeError(`argument val is invalid: ${x}`);let V=w+"="+O;if(!N)return V;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);V+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);V+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);V+="; Path="+N.path}if(N.expires){if(!v(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);V+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(V+="; HttpOnly"),N.secure&&(V+="; Secure"),N.partitioned&&(V+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return V}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return a.call(w)==="[object Date]"}return ac}oC();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YE="popstate";function lC(t={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Zg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Sc(a)}return cC(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uC(){return Math.random().toString(36).substring(2,10)}function XE(t,e){return{usr:t.state,key:t.key,idx:e}}function Zg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bl(e):e,state:n,key:e&&e.key||i||uC()}}function Sc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function cC(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let O=_(),V=O==null?null:O-g;g=O,m&&m({action:d,location:k.location,delta:V})}function w(O,V){d="PUSH";let G=Zg(k.location,O,V);g=_()+1;let P=XE(G,g),F=k.createHref(G);try{c.pushState(P,"",F)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(F)}l&&m&&m({action:d,location:k.location,delta:1})}function x(O,V){d="REPLACE";let G=Zg(k.location,O,V);g=_();let P=XE(G,g),F=k.createHref(G);c.replaceState(P,"",F),l&&m&&m({action:d,location:k.location,delta:0})}function N(O){let V=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof O=="string"?O:Sc(O);return G=G.replace(/ $/,"%20"),ft(V,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,V)}let k={get action(){return d},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(YE,v),m=O,()=>{a.removeEventListener(YE,v),m=null}},createHref(O){return e(a,O)},createURL:N,encodeLocation(O){let V=N(O);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:x,go(O){return c.go(O)}};return k}function xS(t,e,n="/"){return hC(t,e,n,!1)}function hC(t,e,n,i){let a=typeof e=="string"?Bl(e):e,l=Bi(a.pathname||"/",n);if(l==null)return null;let c=IS(t);fC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=wC(l);d=EC(c[m],g,i)}return d}function IS(t,e=[],n=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=Li([i,m.relativePath]),_=n.concat(m);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),IS(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:vC(g,l.index),routesMeta:_})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of CS(l.path))a(l,c,m)}),e}function CS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=CS(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function fC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var dC=/^:[\w-]+$/,mC=3,pC=2,gC=1,yC=10,_C=-2,WE=t=>t==="*";function vC(t,e){let n=t.split("/"),i=n.length;return n.some(WE)&&(i+=_C),e&&(i+=pC),n.filter(a=>!WE(a)).reduce((a,l)=>a+(dC.test(l)?mC:l===""?gC:yC),i)}function bC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function EC(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=ud({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!v&&g&&n&&!i[i.length-1].route.index&&(v=ud({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Li([l,v.pathname]),pathnameBase:xC(Li([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Li([l,v.pathnameBase]))}return c}function ud(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=TC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:v},w)=>{if(_==="*"){let N=d[w]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const x=d[w];return v&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function TC(t,e=!1,n=!0){vr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function wC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function SC(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Bl(t):t;return{pathname:n?n.startsWith("/")?n:AC(n,e):e,search:IC(i),hash:CC(a)}}function AC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ng(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t_(t){let e=RC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function n_(t,e,n,i=!1){let a;typeof t=="string"?a=Bl(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),Ng("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Ng("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Ng("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}d=v>=0?e[v]:"/"}let m=SC(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var Li=t=>t.join("/").replace(/\/\/+/g,"/"),xC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var NS=["POST","PUT","PATCH","DELETE"];new Set(NS);var OC=["GET",...NS];new Set(OC);var ql=U.createContext(null);ql.displayName="DataRouter";var Vd=U.createContext(null);Vd.displayName="DataRouterState";var OS=U.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var DC=U.createContext(new Map);DC.displayName="Fetchers";var PC=U.createContext(null);PC.displayName="Await";var Ar=U.createContext(null);Ar.displayName="Navigation";var Fc=U.createContext(null);Fc.displayName="Location";var ar=U.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var r_=U.createContext(null);r_.displayName="RouteError";function kC(t,{relative:e}={}){ft(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=U.useContext(Ar),{hash:a,pathname:l,search:c}=Hc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Li([n,l])),i.createHref({pathname:d,search:c,hash:a})}function Fl(){return U.useContext(Fc)!=null}function Zs(){return ft(Fl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Fc).location}var DS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PS(t){U.useContext(Ar).static||U.useLayoutEffect(t)}function ri(){let{isDataRoute:t}=U.useContext(ar);return t?YC():MC()}function MC(){ft(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=U.useContext(ql),{basename:e,navigator:n}=U.useContext(Ar),{matches:i}=U.useContext(ar),{pathname:a}=Zs(),l=JSON.stringify(t_(i)),c=U.useRef(!1);return PS(()=>{c.current=!0}),U.useCallback((m,g={})=>{if(vr(c.current,DS),!c.current)return;if(typeof m=="number"){n.go(m);return}let _=n_(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Li([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,a,t])}var UC=U.createContext(null);function LC(t){let e=U.useContext(ar).outlet;return e&&U.createElement(UC.Provider,{value:t},e)}function i_(){let{matches:t}=U.useContext(ar),e=t[t.length-1];return e?e.params:{}}function Hc(t,{relative:e}={}){let{matches:n}=U.useContext(ar),{pathname:i}=Zs(),a=JSON.stringify(t_(n));return U.useMemo(()=>n_(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function VC(t,e){return kS(t,e)}function kS(t,e,n,i){var G;ft(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=U.useContext(Ar),{matches:c}=U.useContext(ar),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let P=v&&v.path||"";MS(g,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let w=Zs(),x;if(e){let P=typeof e=="string"?Bl(e):e;ft(_==="/"||((G=P.pathname)==null?void 0:G.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=w;let N=x.pathname||"/",k=N;if(_!=="/"){let P=_.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let O=!l&&n&&n.matches&&n.matches.length>0?n.matches:xS(t,{pathname:k});vr(v||O!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),vr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=FC(O&&O.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Li([_,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?_:Li([_,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,n,i);return e&&V?U.createElement(Fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},V):V}function jC(){let t=KC(),e=NC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:a},n):null,c)}var zC=U.createElement(jC,null),BC=class extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?U.createElement(ar.Provider,{value:this.props.routeContext},U.createElement(r_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qC({routeContext:t,match:e,children:n}){let i=U.useContext(ql);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ar.Provider,{value:t},n)}function FC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:v}=n,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let v,w=!1,x=null,N=null;n&&(v=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||zC,c&&(d<0&&_===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):d===_&&(w=!0,N=g.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,_+1)),O=()=>{let V;return v?V=x:w?V=N:g.route.Component?V=U.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=m,U.createElement(qC,{match:g,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?U.createElement(BC,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}function s_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HC(t){let e=U.useContext(ql);return ft(e,s_(t)),e}function GC(t){let e=U.useContext(Vd);return ft(e,s_(t)),e}function QC(t){let e=U.useContext(ar);return ft(e,s_(t)),e}function a_(t){let e=QC(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function $C(){return a_("useRouteId")}function KC(){var i;let t=U.useContext(r_),e=GC("useRouteError"),n=a_("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function YC(){let{router:t}=HC("useNavigate"),e=a_("useNavigate"),n=U.useRef(!1);return PS(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{vr(n.current,DS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var JE={};function MS(t,e,n){!e&&!JE[t]&&(JE[t]=!0,vr(!1,n))}U.memo(XC);function XC({routes:t,future:e,state:n}){return kS(t,void 0,n,e)}function ZE({to:t,replace:e,state:n,relative:i}){ft(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=U.useContext(Ar);vr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=U.useContext(ar),{pathname:c}=Zs(),d=ri(),m=n_(t,t_(l),c,i==="path"),g=JSON.stringify(m);return U.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:i})},[d,g,i,e,n]),null}function WC(t){return LC(t.context)}function un(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){ft(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Bl(n));let{pathname:m="/",search:g="",hash:_="",state:v=null,key:w="default"}=n,x=U.useMemo(()=>{let N=Bi(m,c);return N==null?null:{location:{pathname:N,search:g,hash:_,state:v,key:w},navigationType:i}},[c,m,g,_,v,w,i]);return vr(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:U.createElement(Ar.Provider,{value:d},U.createElement(Fc.Provider,{children:e,value:x}))}function ZC({children:t,location:e}){return VC(ey(t),e)}function ey(t,e=[]){let n=[];return U.Children.forEach(t,(i,a)=>{if(!U.isValidElement(i))return;let l=[...e,a];if(i.type===U.Fragment){n.push.apply(n,ey(i.props.children,l));return}ft(i.type===un,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ey(i.props.children,l)),n.push(c)}),n}var $f="get",Kf="application/x-www-form-urlencoded";function jd(t){return t!=null&&typeof t.tagName=="string"}function e2(t){return jd(t)&&t.tagName.toLowerCase()==="button"}function t2(t){return jd(t)&&t.tagName.toLowerCase()==="form"}function n2(t){return jd(t)&&t.tagName.toLowerCase()==="input"}function r2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i2(t,e){return t.button===0&&(!e||e==="_self")&&!r2(t)}var kf=null;function s2(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var a2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(t){return t!=null&&!a2.has(t)?(vr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kf}"`),null):t}function o2(t,e){let n,i,a,l,c;if(t2(t)){let d=t.getAttribute("action");i=d?Bi(d,e):null,n=t.getAttribute("method")||$f,a=Og(t.getAttribute("enctype"))||Kf,l=new FormData(t)}else if(e2(t)||n2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(i=m?Bi(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||$f,a=Og(t.getAttribute("formenctype"))||Og(d.getAttribute("enctype"))||Kf,l=new FormData(d,t),!s2()){let{name:g,type:_,value:v}=t;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,v)}}else{if(jd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$f,i=null,a=Kf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}function o_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function l2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function c2(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await l2(l,n);return c.links?c.links():[]}return[]}));return m2(i.flat(1).filter(u2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function eT(t,e,n,i,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,d=(m,g)=>{var _;return n[g].pathname!==m.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var v;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function h2(t,e,{includeHydrateFallback:n}={}){return f2(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function f2(t){return[...new Set(t)]}function d2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function m2(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(d2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function p2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Bi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function US(){let t=U.useContext(ql);return o_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function g2(){let t=U.useContext(Vd);return o_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l_=U.createContext(void 0);l_.displayName="FrameworkContext";function LS(){let t=U.useContext(l_);return o_(t,"You must render this element inside a <HydratedRouter> element"),t}function y2(t,e){let n=U.useContext(l_),[i,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,w=U.useRef(null);U.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=V=>{V.forEach(G=>{c(G.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),U.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let x=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:oc(d,x),onBlur:oc(m,N),onMouseEnter:oc(g,x),onMouseLeave:oc(_,N),onTouchStart:oc(v,x)}]:[!1,w,{}]}function oc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _2({page:t,...e}){let{router:n}=US(),i=U.useMemo(()=>xS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?U.createElement(b2,{page:t,matches:i,...e}):null}function v2(t){let{manifest:e,routeModules:n}=LS(),[i,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return c2(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function b2({page:t,matches:e,...n}){let i=Zs(),{manifest:a,routeModules:l}=LS(),{basename:c}=US(),{loaderData:d,matches:m}=g2(),g=U.useMemo(()=>eT(t,e,m,a,i,"data"),[t,e,m,a,i]),_=U.useMemo(()=>eT(t,e,m,a,i,"assets"),[t,e,m,a,i]),v=U.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let N=new Set,k=!1;if(e.forEach(V=>{var P;let G=a.routes[V.route.id];!G||!G.hasLoader||(!g.some(F=>F.route.id===V.route.id)&&V.route.id in d&&((P=l[V.route.id])!=null&&P.shouldRevalidate)||G.hasClientLoader?k=!0:N.add(V.route.id))}),N.size===0)return[];let O=p2(t,c);return k&&N.size>0&&O.searchParams.set("_routes",e.filter(V=>N.has(V.route.id)).map(V=>V.route.id).join(",")),[O.pathname+O.search]},[c,d,i,a,g,e,t,l]),w=U.useMemo(()=>h2(_,a),[_,a]),x=v2(_);return U.createElement(U.Fragment,null,v.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),x.map(({key:N,link:k})=>U.createElement("link",{key:N,...k})))}function E2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VS&&(window.__reactRouterVersion="7.4.1")}catch{}function T2({basename:t,children:e,window:n}){let i=U.useRef();i.current==null&&(i.current=lC({window:n,v5Compat:!0}));let a=i.current,[l,c]=U.useState({action:a.action,location:a.location}),d=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(d),[a,d]),U.createElement(JC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u_=U.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:v,...w},x){let{basename:N}=U.useContext(Ar),k=typeof g=="string"&&jS.test(g),O,V=!1;if(typeof g=="string"&&k&&(O=g,VS))try{let C=new URL(window.location.href),L=g.startsWith("//")?new URL(C.protocol+g):new URL(g),j=Bi(L.pathname,N);L.origin===C.origin&&j!=null?g=j+L.search+L.hash:V=!0}catch{vr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=kC(g,{relative:a}),[P,F,J]=y2(i,w),re=A2(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:v});function I(C){e&&e(C),C.defaultPrevented||re(C)}let A=U.createElement("a",{...w,...J,href:O||G,onClick:V||l?e:I,ref:E2(x,F),target:m,"data-discover":!k&&n==="render"?"true":void 0});return P&&!k?U.createElement(U.Fragment,null,A,U.createElement(_2,{page:G})):A});u_.displayName="Link";var pr=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let v=Hc(c,{relative:g.relative}),w=Zs(),x=U.useContext(Vd),{navigator:N,basename:k}=U.useContext(Ar),O=x!=null&&N2(v)&&d===!0,V=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,G=w.pathname,P=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(G=G.toLowerCase(),P=P?P.toLowerCase():null,V=V.toLowerCase()),P&&k&&(P=Bi(P,k)||P);const F=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let J=G===V||!a&&G.startsWith(V)&&G.charAt(F)==="/",re=P!=null&&(P===V||!a&&P.startsWith(V)&&P.charAt(V.length)==="/"),I={isActive:J,isPending:re,isTransitioning:O},A=J?e:void 0,C;typeof i=="function"?C=i(I):C=[i,J?"active":null,re?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return U.createElement(u_,{...g,"aria-current":A,className:C,ref:_,style:L,to:c,viewTransition:d},typeof m=="function"?m(I):m)});pr.displayName="NavLink";var w2=U.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=$f,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:v,...w},x)=>{let N=I2(),k=C2(d,{relative:g}),O=c.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&jS.test(d),G=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let F=P.nativeEvent.submitter,J=(F==null?void 0:F.getAttribute("formmethod"))||c;N(F||P.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:v})};return U.createElement("form",{ref:x,method:O,action:k,onSubmit:i?m:G,...w,"data-discover":!V&&t==="render"?"true":void 0})});w2.displayName="Form";function S2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(t){let e=U.useContext(ql);return ft(e,S2(t)),e}function A2(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ri(),m=Zs(),g=Hc(t,{relative:l});return U.useCallback(_=>{if(i2(_,e)){_.preventDefault();let v=n!==void 0?n:Sc(m)===Sc(g);d(t,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,n,i,e,t,a,l,c])}var R2=0,x2=()=>`__${String(++R2)}__`;function I2(){let{router:t}=zS("useSubmit"),{basename:e}=U.useContext(Ar),n=$C();return U.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=o2(i,e);if(a.navigate===!1){let _=a.fetcherKey||x2();await t.fetch(_,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function C2(t,{relative:e}={}){let{basename:n}=U.useContext(Ar),i=U.useContext(ar);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Hc(t||".",{relative:e})},c=Zs();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();l.search=_?`?${_}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Li([n,l.pathname])),Sc(l)}function N2(t,e={}){let n=U.useContext(OS);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=zS("useViewTransitionState"),a=Hc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Bi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Bi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ud(a.pathname,c)!=null||ud(a.pathname,l)!=null}new TextEncoder;const O2=()=>{};var tT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},D2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,x=g&63;m||(x=64,c||(w=64)),i.push(n[_],n[v],n[w],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new P2;const w=l<<2|d>>4;if(i.push(w),g!==64){const x=d<<4&240|g>>2;if(i.push(x),v!==64){const N=g<<6&192|v;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k2=function(t){const e=BS(t);return qS.encodeByteArray(e,!0)},cd=function(t){return k2(t).replace(/\./g,"")},FS=function(t){try{return qS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=()=>M2().__FIREBASE_DEFAULTS__,L2=()=>{if(typeof process>"u"||typeof tT>"u")return;const t=tT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FS(t[1]);return e&&JSON.parse(e)},zd=()=>{try{return O2()||U2()||L2()||V2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GS=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},QS=()=>{var t;return(t=zd())===null||t===void 0?void 0:t.config},$S=t=>{var e;return(e=zd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cd(JSON.stringify(n)),cd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function B2(){var t;const e=(t=zd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G2(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q2(){return!B2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $2(){try{return typeof indexedDB=="object"}catch{return!1}}function K2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="FirebaseError";class ii extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Y2,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?X2(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ii(a,d,i)}}function X2(t,e){return t.replace(W2,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const W2=/\{\$([^}]+)}/g;function J2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(nT(l)&&nT(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function nT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z2(t,e){const n=new eN(t,e);return n.subscribe.bind(n)}class eN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Dg),a.error===void 0&&(a.error=Dg),a.complete===void 0&&(a.complete=Dg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new j2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:rN(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rN(t){return t===ja?void 0:t}function iN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const aN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},oN=Ue.INFO,lN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},uN=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=lN[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=oN,this._logHandler=uN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const cN=(t,e)=>e.some(n=>t instanceof n);let rT,iT;function hN(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YS=new WeakMap,ty=new WeakMap,XS=new WeakMap,Pg=new WeakMap,h_=new WeakMap;function dN(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Bs(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&YS.set(n,t)}).catch(()=>{}),h_.set(e,t),e}function mN(t){if(ty.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});ty.set(t,e)}let ny={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pN(t){ny=t(ny)}function gN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kg(this),e,...n);return XS.set(i,e.sort?e.sort():[e]),Bs(i)}:fN().includes(t)?function(...e){return t.apply(kg(this),e),Bs(YS.get(this))}:function(...e){return Bs(t.apply(kg(this),e))}}function yN(t){return typeof t=="function"?gN(t):(t instanceof IDBTransaction&&mN(t),cN(t,hN())?new Proxy(t,ny):t)}function Bs(t){if(t instanceof IDBRequest)return dN(t);if(Pg.has(t))return Pg.get(t);const e=yN(t);return e!==t&&(Pg.set(t,e),h_.set(e,t)),e}const kg=t=>h_.get(t);function _N(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Bs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Bs(c.result),m.oldVersion,m.newVersion,Bs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const vN=["get","getKey","getAll","getAllKeys","count"],bN=["put","add","delete","clear"],Mg=new Map;function sT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=bN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||vN.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),a&&m.done]))[0]};return Mg.set(e,l),l}pN(t=>({...t,get:(e,n,i)=>sT(e,n)||t.get(e,n,i),has:(e,n)=>!!sT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ry="@firebase/app",aT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new c_("@firebase/app"),wN="@firebase/app-compat",SN="@firebase/analytics-compat",AN="@firebase/analytics",RN="@firebase/app-check-compat",xN="@firebase/app-check",IN="@firebase/auth",CN="@firebase/auth-compat",NN="@firebase/database",ON="@firebase/data-connect",DN="@firebase/database-compat",PN="@firebase/functions",kN="@firebase/functions-compat",MN="@firebase/installations",UN="@firebase/installations-compat",LN="@firebase/messaging",VN="@firebase/messaging-compat",jN="@firebase/performance",zN="@firebase/performance-compat",BN="@firebase/remote-config",qN="@firebase/remote-config-compat",FN="@firebase/storage",HN="@firebase/storage-compat",GN="@firebase/firestore",QN="@firebase/vertexai",$N="@firebase/firestore-compat",KN="firebase",YN="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]",XN={[ry]:"fire-core",[wN]:"fire-core-compat",[AN]:"fire-analytics",[SN]:"fire-analytics-compat",[xN]:"fire-app-check",[RN]:"fire-app-check-compat",[IN]:"fire-auth",[CN]:"fire-auth-compat",[NN]:"fire-rtdb",[ON]:"fire-data-connect",[DN]:"fire-rtdb-compat",[PN]:"fire-fn",[kN]:"fire-fn-compat",[MN]:"fire-iid",[UN]:"fire-iid-compat",[LN]:"fire-fcm",[VN]:"fire-fcm-compat",[jN]:"fire-perf",[zN]:"fire-perf-compat",[BN]:"fire-rc",[qN]:"fire-rc-compat",[FN]:"fire-gcs",[HN]:"fire-gcs-compat",[GN]:"fire-fst",[$N]:"fire-fst-compat",[QN]:"fire-vertex","fire-js":"fire-js",[KN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,WN=new Map,sy=new Map;function oT(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(sy.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of hd.values())oT(n,t);for(const n of WN.values())oT(n,t);return!0}function Bd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Gc("app","Firebase",JN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=YN;function WS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:iy,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(n||(n=QS()),!n)throw qs.create("no-options");const l=hd.get(a);if(l){if(Ja(n,l.options)&&Ja(i,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const c=new sN(a);for(const m of sy.values())c.addComponent(m);const d=new ZN(n,i,c);return hd.set(a,d),d}function f_(t=iy){const e=hd.get(t);if(!e&&t===iy&&QS())return WS();if(!e)throw qs.create("no-app",{appName:t});return e}function Wr(t,e,n){var i;let a=(i=XN[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}Za(new Gs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="firebase-heartbeat-database",tO=1,Ac="firebase-heartbeat-store";let Ug=null;function JS(){return Ug||(Ug=_N(eO,tO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function nO(t){try{const n=(await JS()).transaction(Ac),i=await n.objectStore(Ac).get(ZS(t));return await n.done,i}catch(e){if(e instanceof ii)qi.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function lT(t,e){try{const i=(await JS()).transaction(Ac,"readwrite");await i.objectStore(Ac).put(e,ZS(t)),await i.done}catch(n){if(n instanceof ii)qi.warn(n.message);else{const i=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(i.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=1024,iO=30;class sO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=uT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>iO){const c=lO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){qi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uT(),{heartbeatsToSend:i,unsentEntries:a}=aO(this._heartbeatsCache.heartbeats),l=cd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return qi.warn(n),""}}}function uT(){return new Date().toISOString().substring(0,10)}function aO(t,e=rO){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),cT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),cT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class oO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $2()?K2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return lT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return lT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function cT(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}function lO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){Za(new Gs("platform-logger",e=>new EN(e),"PRIVATE")),Za(new Gs("heartbeat",e=>new sO(e),"PRIVATE")),Wr(ry,aT,t),Wr(ry,aT,"esm2017"),Wr("fire-js","")}uO("");function d_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function eA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cO=eA,tA=new Gc("auth","Firebase",eA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new c_("@firebase/auth");function hO(t,...e){fd.logLevel<=Ue.WARN&&fd.warn(`Auth (${uo}): ${t}`,...e)}function Yf(t,...e){fd.logLevel<=Ue.ERROR&&fd.error(`Auth (${uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw m_(t,...e)}function Jr(t,...e){return m_(t,...e)}function nA(t,e,n){const i=Object.assign(Object.assign({},cO()),{[e]:n});return new Gc("auth","Firebase",i).create(e,{appName:t.name})}function Vi(t){return nA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return tA.create(t,...e)}function Te(t,e,...n){if(!t)throw m_(e,...n)}function Mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function Fi(t,e){t||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fO(){return hT()==="http:"||hT()==="https:"}function hT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fO()||F2()||"connection"in navigator)?navigator.onLine:!0}function mO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=z2()||H2()}get(){return dO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yO=new $c(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function si(t,e,n,i,a={}){return iA(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Qc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},l);return q2()||(g.referrerPolicy="no-referrer"),rA.fetch()(await sA(t,t.config.apiHost,n,d),g)})}async function iA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},pO),e);try{const a=new vO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Mf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Mf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Mf(t,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nA(t,_,g);br(t,_)}}catch(a){if(a instanceof ii)throw a;br(t,"network-request-failed",{message:String(a)})}}async function Kc(t,e,n,i,a={}){const l=await si(t,e,n,i,a);return"mfaPendingCredential"in l&&br(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function sA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,c=l.config.emulator?p_(t.config,a):`${t.config.apiScheme}://${a}`;return gO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function _O(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Jr(this.auth,"network-request-failed")),yO.get())})}}function Mf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Jr(t,e,i);return a.customData._tokenResponse=n,a}function fT(t){return t!==void 0&&t.enterprise!==void 0}class bO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _O(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EO(t,e){return si(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function dd(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wO(t,e=!1){const n=dt(t),i=await n.getIdToken(e),a=g_(i);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:_c(Lg(a.auth_time)),issuedAtTime:_c(Lg(a.iat)),expirationTime:_c(Lg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Lg(t){return Number(t)*1e3}function g_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=FS(n);return a?JSON.parse(a):(Yf("Failed to decode base64 JWT payload"),null)}catch(a){return Yf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function dT(t){const e=g_(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ii&&SO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function SO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,i=await t.getIdToken(),a=await Ol(t,dd(n,{idToken:i}));Te(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?aA(l.providerUserInfo):[],d=xO(t.providerData,c),m=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new oy(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(t,v)}async function RO(t){const e=dt(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xO(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function aA(t){return t.map(e=>{var{providerId:n}=e,i=d_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e){const n=await iA(t,{},async()=>{const i=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await sA(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",rA.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CO(t,e){return si(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=dT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await IO(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new dl;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=d_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new oy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wO(this,e)}reload(){return RO(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Ol(this,TO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,d,m,g,_;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=n.photoURL)!==null&&c!==void 0?c:void 0,k=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,V=(g=n.createdAt)!==null&&g!==void 0?g:void 0,G=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:P,emailVerified:F,isAnonymous:J,providerData:re,stsTokenManager:I}=n;Te(P&&I,e,"internal-error");const A=dl.fromJSON(this.name,I);Te(typeof P=="string",e,"internal-error"),Rs(v,e.name),Rs(w,e.name),Te(typeof F=="boolean",e,"internal-error"),Te(typeof J=="boolean",e,"internal-error"),Rs(x,e.name),Rs(N,e.name),Rs(k,e.name),Rs(O,e.name),Rs(V,e.name),Rs(G,e.name);const C=new _r({uid:P,auth:e,email:w,emailVerified:F,displayName:v,isAnonymous:J,photoURL:N,phoneNumber:x,tenantId:k,stsTokenManager:A,createdAt:V,lastLoginAt:G});return re&&Array.isArray(re)&&(C.providerData=re.map(L=>Object.assign({},L))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,n,i=!1){const a=new dl;a.updateFromServerResponse(n);const l=new _r({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await md(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?aA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new dl;d.updateFromIdToken(i);const m=new _r({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;function Ui(t){Fi(t instanceof Function,"Expected a class definition");let e=mT.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oA.type="NONE";const pT=oA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Xf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Xf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?_r._fromGetAccountInfoResponse(this.auth,n,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new ml(Ui(pT),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ui(pT);const c=Xf(i,e.config.apiKey,e.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const w=await dd(e,{idToken:_}).catch(()=>{});if(!w)break;v=await _r._fromGetAccountInfoResponse(e,w,_)}else v=_r._fromJSON(e,_);g!==l&&(d=v),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ml(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ml(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dA(e))return"Blackberry";if(mA(e))return"Webos";if(uA(e))return"Safari";if((e.includes("chrome/")||cA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function lA(t=dn()){return/firefox\//i.test(t)}function uA(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cA(t=dn()){return/crios\//i.test(t)}function hA(t=dn()){return/iemobile/i.test(t)}function fA(t=dn()){return/android/i.test(t)}function dA(t=dn()){return/blackberry/i.test(t)}function mA(t=dn()){return/webos/i.test(t)}function y_(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function NO(t=dn()){var e;return y_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OO(){return G2()&&document.documentMode===10}function pA(t=dn()){return y_(t)||fA(t)||mA(t)||dA(t)||/windows phone/i.test(t)||hA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e=[]){let n;switch(t){case"Browser":n=gT(dn());break;case"Worker":n=`${gT(dn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return si(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=6;class MO{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:kO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yT(this),this.idTokenSubscription=new yT(this),this.beforeStateQueue=new DO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ui(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),i=await _r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Vi(this));const n=e?dt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PO(this),n=new MO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await CO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ui(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function co(t){return dt(t)}class yT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z2(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LO(t){qd=t}function yA(t){return qd.loadJS(t)}function VO(){return qd.recaptchaEnterpriseScript}function jO(){return qd.gapiScript}function zO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BO{constructor(){this.enterprise=new qO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FO="recaptcha-enterprise",_A="NO_RECAPTCHA";class HO{constructor(e){this.type=FO,this.auth=co(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{EO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new bO(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;fT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(_A)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!n&&fT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=VO();m.length!==0&&(m+=d),yA(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function _T(t,e,n,i=!1,a=!1){const l=new HO(t);let c;if(a)c=_A;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ly(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await _T(t,e,n,n==="getOobCode");return i(t,c)}else return i(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await _T(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e){const n=Bd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ja(l,e??{}))return a;br(a,"already-initialized")}return n.initialize({options:e})}function QO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $O(t,e,n){const i=co(t);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=vA(e),{host:c,port:d}=KO(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Ja(g,i.config.emulator)&&Ja(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,YO()}function vA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KO(t){const e=vA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:vT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:vT(c)}}}function vT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,n){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function XO(t,e){return si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return Kc(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function JO(t,e){return si(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function ZO(t,e){return JO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function tD(t,e){return Kc(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends __{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Rc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,n,"signInWithPassword",WO);case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ly(e,i,"signUpPassword",XO);case"emailLink":return tD(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e){return Kc(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="http://localhost";class eo extends __{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=d_(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new eo(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,pl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:nD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iD(t){const e=cc(hc(t)).link,n=e?cc(hc(e)).deep_link_id:null,i=cc(hc(t)).deep_link_id;return(i?cc(hc(i)).link:null)||i||n||e||t}class v_{constructor(e){var n,i,a,l,c,d;const m=cc(hc(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,_=(i=m.oobCode)!==null&&i!==void 0?i:null,v=rD((a=m.mode)!==null&&a!==void 0?a:null);Te(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=iD(e);try{return new v_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=v_.parseLink(n);return Te(i,"argument-error"),Rc._fromEmailAndCode(e,i.code,i.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Yc{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Cs.credential(n,i)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Yc{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Yc{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Os.credential(n,i)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e){return Kc(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await _r._fromIdTokenResponse(e,i,a),c=bT(i);return new to({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=bT(i);return new to({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function bT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd extends ii{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new pd(e,n,i,a)}}function EA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,l,e,i):l})}async function aD(t,e,n=!1){const i=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(t,e,n=!1){const{auth:i}=t;if(jn(i.app))return Promise.reject(Vi(i));const a="reauthenticate";try{const l=await Ol(t,EA(i,a,e,t),n);Te(l.idToken,i,"internal-error");const c=g_(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(t.uid===d,i,"user-mismatch"),to._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&br(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e,n=!1){if(jn(t.app))return Promise.reject(Vi(t));const i="signIn",a=await EA(t,i,e),l=await to._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function lD(t,e){return TA(co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t){const e=co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uD(t,e,n){if(jn(t.app))return Promise.reject(Vi(t));const i=co(t),c=await ly(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sD).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&wA(t),m}),d=await to._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function cD(t,e,n){return jn(t.app)?Promise.reject(Vi(t)):lD(dt(t),Hl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&wA(t),i})}async function hD(t,e){const n=dt(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await ZO(n.auth,a);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e){return si(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=dt(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Ol(i,fD(i.auth,l));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const d=i.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function dD(t,e,n,i){return dt(t).onIdTokenChanged(e,n,i)}function mD(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Xc(t,e,n,i){return dt(t).onAuthStateChanged(e,n,i)}function pD(t){return dt(t).signOut()}const gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1e3,yD=10;class RA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);OO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,yD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},gD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RA.type="LOCAL";const _D=RA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xA.type="SESSION";const IA=xA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new Fd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(n.origin,l)),m=await vD(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=b_("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function ED(t){Zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function TD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SD(){return CA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firebaseLocalStorageDb",AD=1,yd="firebaseLocalStorage",OA="fbase_key";class Wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function RD(){const t=indexedDB.deleteDatabase(NA);return new Wc(t).toPromise()}function uy(){const t=indexedDB.open(NA,AD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(yd,{keyPath:OA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(yd)?e(i):(i.close(),await RD(),e(await uy()))})})}async function ET(t,e,n){const i=Hd(t,!0).put({[OA]:e,value:n});return new Wc(i).toPromise()}async function xD(t,e){const n=Hd(t,!1).get(e),i=await new Wc(n).toPromise();return i===void 0?null:i.value}function TT(t,e){const n=Hd(t,!0).delete(e);return new Wc(n).toPromise()}const ID=800,CD=3;class DA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>CD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(SD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TD(),!this.activeServiceWorker)return;this.sender=new bD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uy();return await ET(e,gd,"1"),await TT(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ET(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>xD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Hd(a,!1).getAll();return new Wc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DA.type="LOCAL";const ND=DA;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){return e?Ui(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends __{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DD(t){return TA(t.auth,new E_(t),t.bypassAuthState)}function PD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),oD(n,new E_(t),t.bypassAuthState)}async function kD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),aD(n,new E_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DD;case"linkViaPopup":case"linkViaRedirect":return kD;case"reauthViaPopup":case"reauthViaRedirect":return PD;default:br(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=new $c(2e3,1e4);class fl extends PA{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=b_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MD.get())};e()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="pendingRedirect",Wf=new Map;class LD extends PA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const i=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(t,e){const n=BD(e),i=zD(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function jD(t,e){Wf.set(t._key(),e)}function zD(t){return Ui(t._redirectPersistence)}function BD(t){return Xf(UD,t.config.apiKey,t.name)}async function qD(t,e,n=!1){if(jn(t.app))return Promise.reject(Vi(t));const i=co(t),a=OD(i,e),c=await new LD(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!kA(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FD&&this.cachedEventUids.clear(),this.cachedEventUids.has(wT(e))}saveEventToCache(e){this.cachedEventUids.add(wT(e)),this.lastProcessedEventTime=Date.now()}}function wT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function YD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QD(t);for(const n of e)try{if(XD(n))return}catch{}br(t,"unauthorized-domain")}function XD(t){const e=ay(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!KD.test(n))return!1;if($D.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new $c(3e4,6e4);function ST(){const t=Zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JD(t){return new Promise((e,n)=>{var i,a,l;function c(){ST(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ST(),n(Jr(t,"network-request-failed"))},timeout:WD.get()})}if(!((a=(i=Zr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Zr().gapi)===null||l===void 0)&&l.load)c();else{const d=zO("iframefcb");return Zr()[d]=()=>{gapi.load?c():n(Jr(t,"network-request-failed"))},yA(`${jO()}?onload=${d}`).catch(m=>n(m))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function ZD(t){return Jf=Jf||JD(t),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new $c(5e3,15e3),tP="__/auth/iframe",nP="emulator/auth/iframe",rP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p_(e,nP):`https://${t.config.authDomain}/${tP}`,i={apiKey:e.apiKey,appName:t.name,v:uo},a=iP.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Qc(i).slice(1)}`}async function aP(t){const e=await ZD(t),n=Zr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:sP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Jr(t,"network-request-failed"),d=Zr().setTimeout(()=>{l(c)},eP.get());function m(){Zr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lP=500,uP=600,cP="_blank",hP="http://localhost";class AT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fP(t,e,n,i=lP,a=uP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},oP),{width:i.toString(),height:a.toString(),top:l,left:c}),g=dn().toLowerCase();n&&(d=cA(g)?cP:n),lA(g)&&(e=e||hP,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[x,N])=>`${w}${x}=${N},`,"");if(NO(g)&&d!=="_self")return dP(e||"",d),new AT(null);const v=window.open(e||"",d,_);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new AT(v)}function dP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="__/auth/handler",pP="emulator/auth/handler",gP=encodeURIComponent("fac");async function RT(t,e,n,i,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:uo,eventId:a};if(e instanceof bA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",J2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof Yc){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await t._getAppCheckToken(),g=m?`#${gP}=${encodeURIComponent(m)}`:"";return`${yP(t)}?${Qc(d).slice(1)}${g}`}function yP({config:t}){return t.emulator?p_(t,pP):`https://${t.authDomain}/${mP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="webStorageSupport";class _P{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=qD,this._overrideRedirectResult=jD}async _openPopup(e,n,i,a){var l;Fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await RT(e,n,i,ay(),a);return fP(e,c,b_())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await RT(e,n,i,ay(),a);return ED(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await aP(e),i=new HD(e);return n.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vg,{type:Vg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Vg];c!==void 0&&n(!!c),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pA()||uA()||y_()}}const vP=_P;var xT="@firebase/auth",IT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TP(t){Za(new Gs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gA(t)},g=new UO(i,a,l,m);return QO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Za(new Gs("auth-internal",e=>{const n=co(e.getProvider("auth").getImmediate());return(i=>new bP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(xT,IT,EP(t)),Wr(xT,IT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=5*60,SP=$S("authIdTokenMaxAge")||wP;let CT=null;const AP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>SP)return;const a=n==null?void 0:n.token;CT!==a&&(CT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function T_(t=f_()){const e=Bd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GO(t,{popupRedirectResolver:vP,persistence:[ND,_D,IA]}),i=$S("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=AP(l.toString());mD(n,c,()=>c(n.currentUser)),dD(n,d=>c(d))}}const a=HS("auth");return a&&$O(n,`http://${a}`),n}function RP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LO({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Jr("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",RP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TP("Browser");var xP="firebase",IP="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(xP,IP,"app");var NT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,MA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function C(){}C.prototype=A.prototype,I.D=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(L,j,H){for(var M=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)M[Pt-2]=arguments[Pt];return A.prototype[j].apply(L,M)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,C){C||(C=0);var L=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)L[j]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(j=0;16>j;++j)L[j]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],j=I.g[2];var H=I.g[3],M=A+(H^C&(j^H))+L[0]+3614090360&4294967295;A=C+(M<<7&4294967295|M>>>25),M=H+(j^A&(C^j))+L[1]+3905402710&4294967295,H=A+(M<<12&4294967295|M>>>20),M=j+(C^H&(A^C))+L[2]+606105819&4294967295,j=H+(M<<17&4294967295|M>>>15),M=C+(A^j&(H^A))+L[3]+3250441966&4294967295,C=j+(M<<22&4294967295|M>>>10),M=A+(H^C&(j^H))+L[4]+4118548399&4294967295,A=C+(M<<7&4294967295|M>>>25),M=H+(j^A&(C^j))+L[5]+1200080426&4294967295,H=A+(M<<12&4294967295|M>>>20),M=j+(C^H&(A^C))+L[6]+2821735955&4294967295,j=H+(M<<17&4294967295|M>>>15),M=C+(A^j&(H^A))+L[7]+4249261313&4294967295,C=j+(M<<22&4294967295|M>>>10),M=A+(H^C&(j^H))+L[8]+1770035416&4294967295,A=C+(M<<7&4294967295|M>>>25),M=H+(j^A&(C^j))+L[9]+2336552879&4294967295,H=A+(M<<12&4294967295|M>>>20),M=j+(C^H&(A^C))+L[10]+4294925233&4294967295,j=H+(M<<17&4294967295|M>>>15),M=C+(A^j&(H^A))+L[11]+2304563134&4294967295,C=j+(M<<22&4294967295|M>>>10),M=A+(H^C&(j^H))+L[12]+1804603682&4294967295,A=C+(M<<7&4294967295|M>>>25),M=H+(j^A&(C^j))+L[13]+4254626195&4294967295,H=A+(M<<12&4294967295|M>>>20),M=j+(C^H&(A^C))+L[14]+2792965006&4294967295,j=H+(M<<17&4294967295|M>>>15),M=C+(A^j&(H^A))+L[15]+1236535329&4294967295,C=j+(M<<22&4294967295|M>>>10),M=A+(j^H&(C^j))+L[1]+4129170786&4294967295,A=C+(M<<5&4294967295|M>>>27),M=H+(C^j&(A^C))+L[6]+3225465664&4294967295,H=A+(M<<9&4294967295|M>>>23),M=j+(A^C&(H^A))+L[11]+643717713&4294967295,j=H+(M<<14&4294967295|M>>>18),M=C+(H^A&(j^H))+L[0]+3921069994&4294967295,C=j+(M<<20&4294967295|M>>>12),M=A+(j^H&(C^j))+L[5]+3593408605&4294967295,A=C+(M<<5&4294967295|M>>>27),M=H+(C^j&(A^C))+L[10]+38016083&4294967295,H=A+(M<<9&4294967295|M>>>23),M=j+(A^C&(H^A))+L[15]+3634488961&4294967295,j=H+(M<<14&4294967295|M>>>18),M=C+(H^A&(j^H))+L[4]+3889429448&4294967295,C=j+(M<<20&4294967295|M>>>12),M=A+(j^H&(C^j))+L[9]+568446438&4294967295,A=C+(M<<5&4294967295|M>>>27),M=H+(C^j&(A^C))+L[14]+3275163606&4294967295,H=A+(M<<9&4294967295|M>>>23),M=j+(A^C&(H^A))+L[3]+4107603335&4294967295,j=H+(M<<14&4294967295|M>>>18),M=C+(H^A&(j^H))+L[8]+1163531501&4294967295,C=j+(M<<20&4294967295|M>>>12),M=A+(j^H&(C^j))+L[13]+2850285829&4294967295,A=C+(M<<5&4294967295|M>>>27),M=H+(C^j&(A^C))+L[2]+4243563512&4294967295,H=A+(M<<9&4294967295|M>>>23),M=j+(A^C&(H^A))+L[7]+1735328473&4294967295,j=H+(M<<14&4294967295|M>>>18),M=C+(H^A&(j^H))+L[12]+2368359562&4294967295,C=j+(M<<20&4294967295|M>>>12),M=A+(C^j^H)+L[5]+4294588738&4294967295,A=C+(M<<4&4294967295|M>>>28),M=H+(A^C^j)+L[8]+2272392833&4294967295,H=A+(M<<11&4294967295|M>>>21),M=j+(H^A^C)+L[11]+1839030562&4294967295,j=H+(M<<16&4294967295|M>>>16),M=C+(j^H^A)+L[14]+4259657740&4294967295,C=j+(M<<23&4294967295|M>>>9),M=A+(C^j^H)+L[1]+2763975236&4294967295,A=C+(M<<4&4294967295|M>>>28),M=H+(A^C^j)+L[4]+1272893353&4294967295,H=A+(M<<11&4294967295|M>>>21),M=j+(H^A^C)+L[7]+4139469664&4294967295,j=H+(M<<16&4294967295|M>>>16),M=C+(j^H^A)+L[10]+3200236656&4294967295,C=j+(M<<23&4294967295|M>>>9),M=A+(C^j^H)+L[13]+681279174&4294967295,A=C+(M<<4&4294967295|M>>>28),M=H+(A^C^j)+L[0]+3936430074&4294967295,H=A+(M<<11&4294967295|M>>>21),M=j+(H^A^C)+L[3]+3572445317&4294967295,j=H+(M<<16&4294967295|M>>>16),M=C+(j^H^A)+L[6]+76029189&4294967295,C=j+(M<<23&4294967295|M>>>9),M=A+(C^j^H)+L[9]+3654602809&4294967295,A=C+(M<<4&4294967295|M>>>28),M=H+(A^C^j)+L[12]+3873151461&4294967295,H=A+(M<<11&4294967295|M>>>21),M=j+(H^A^C)+L[15]+530742520&4294967295,j=H+(M<<16&4294967295|M>>>16),M=C+(j^H^A)+L[2]+3299628645&4294967295,C=j+(M<<23&4294967295|M>>>9),M=A+(j^(C|~H))+L[0]+4096336452&4294967295,A=C+(M<<6&4294967295|M>>>26),M=H+(C^(A|~j))+L[7]+1126891415&4294967295,H=A+(M<<10&4294967295|M>>>22),M=j+(A^(H|~C))+L[14]+2878612391&4294967295,j=H+(M<<15&4294967295|M>>>17),M=C+(H^(j|~A))+L[5]+4237533241&4294967295,C=j+(M<<21&4294967295|M>>>11),M=A+(j^(C|~H))+L[12]+1700485571&4294967295,A=C+(M<<6&4294967295|M>>>26),M=H+(C^(A|~j))+L[3]+2399980690&4294967295,H=A+(M<<10&4294967295|M>>>22),M=j+(A^(H|~C))+L[10]+4293915773&4294967295,j=H+(M<<15&4294967295|M>>>17),M=C+(H^(j|~A))+L[1]+2240044497&4294967295,C=j+(M<<21&4294967295|M>>>11),M=A+(j^(C|~H))+L[8]+1873313359&4294967295,A=C+(M<<6&4294967295|M>>>26),M=H+(C^(A|~j))+L[15]+4264355552&4294967295,H=A+(M<<10&4294967295|M>>>22),M=j+(A^(H|~C))+L[6]+2734768916&4294967295,j=H+(M<<15&4294967295|M>>>17),M=C+(H^(j|~A))+L[13]+1309151649&4294967295,C=j+(M<<21&4294967295|M>>>11),M=A+(j^(C|~H))+L[4]+4149444226&4294967295,A=C+(M<<6&4294967295|M>>>26),M=H+(C^(A|~j))+L[11]+3174756917&4294967295,H=A+(M<<10&4294967295|M>>>22),M=j+(A^(H|~C))+L[2]+718787259&4294967295,j=H+(M<<15&4294967295|M>>>17),M=C+(H^(j|~A))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(j+(M<<21&4294967295|M>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+H&4294967295}i.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var C=A-this.blockSize,L=this.B,j=this.h,H=0;H<A;){if(j==0)for(;H<=C;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<A;)if(L[j++]=I.charCodeAt(H++),j==this.blockSize){a(this,L),j=0;break}}else for(;H<A;)if(L[j++]=I[H++],j==this.blockSize){a(this,L),j=0;break}}this.h=j,this.o+=A},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var C=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=C&255,C/=256;for(this.u(I),I=Array(16),A=C=0;4>A;++A)for(var L=0;32>L;L+=8)I[C++]=this.g[A]>>>L&255;return I};function l(I,A){var C=d;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function c(I,A){this.h=A;for(var C=[],L=!0,j=I.length-1;0<=j;j--){var H=I[j]|0;L&&H==A||(C[j]=H,L=!1)}this.g=C}var d={};function m(I){return-128<=I&&128>I?l(I,function(A){return new c([A|0],0>A?-1:0)}):new c([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return v;if(0>I)return O(g(-I));for(var A=[],C=1,L=0;I>=C;L++)A[L]=I/C|0,C*=4294967296;return new c(A,0)}function _(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return O(_(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(A,8)),L=v,j=0;j<I.length;j+=8){var H=Math.min(8,I.length-j),M=parseInt(I.substring(j,j+H),A);8>H?(H=g(Math.pow(A,H)),L=L.j(H).add(g(M))):(L=L.j(C),L=L.add(g(M)))}return L}var v=m(0),w=m(1),x=m(16777216);t=c.prototype,t.m=function(){if(k(this))return-O(this).m();for(var I=0,A=1,C=0;C<this.g.length;C++){var L=this.i(C);I+=(0<=L?L:4294967296+L)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(k(this))return"-"+O(this).toString(I);for(var A=g(Math.pow(I,6)),C=this,L="";;){var j=F(C,A).g;C=V(C,j.j(A));var H=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=j,N(C))return H+L;for(;6>H.length;)H="0"+H;L=H+L}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=V(this,I),k(I)?-1:N(I)?0:1};function O(I){for(var A=I.g.length,C=[],L=0;L<A;L++)C[L]=~I.g[L];return new c(C,~I.h).add(w)}t.abs=function(){return k(this)?O(this):this},t.add=function(I){for(var A=Math.max(this.g.length,I.g.length),C=[],L=0,j=0;j<=A;j++){var H=L+(this.i(j)&65535)+(I.i(j)&65535),M=(H>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);L=M>>>16,H&=65535,M&=65535,C[j]=M<<16|H}return new c(C,C[C.length-1]&-2147483648?-1:0)};function V(I,A){return I.add(O(A))}t.j=function(I){if(N(this)||N(I))return v;if(k(this))return k(I)?O(this).j(O(I)):O(O(this).j(I));if(k(I))return O(this.j(O(I)));if(0>this.l(x)&&0>I.l(x))return g(this.m()*I.m());for(var A=this.g.length+I.g.length,C=[],L=0;L<2*A;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var j=0;j<I.g.length;j++){var H=this.i(L)>>>16,M=this.i(L)&65535,Pt=I.i(j)>>>16,lt=I.i(j)&65535;C[2*L+2*j]+=M*lt,G(C,2*L+2*j),C[2*L+2*j+1]+=H*lt,G(C,2*L+2*j+1),C[2*L+2*j+1]+=M*Pt,G(C,2*L+2*j+1),C[2*L+2*j+2]+=H*Pt,G(C,2*L+2*j+2)}for(L=0;L<A;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=A;L<2*A;L++)C[L]=0;return new c(C,0)};function G(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function P(I,A){this.g=I,this.h=A}function F(I,A){if(N(A))throw Error("division by zero");if(N(I))return new P(v,v);if(k(I))return A=F(O(I),A),new P(O(A.g),O(A.h));if(k(A))return A=F(I,O(A)),new P(O(A.g),A.h);if(30<I.g.length){if(k(I)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=A;0>=L.l(I);)C=J(C),L=J(L);var j=re(C,1),H=re(L,1);for(L=re(L,2),C=re(C,2);!N(L);){var M=H.add(L);0>=M.l(I)&&(j=j.add(C),H=M),L=re(L,1),C=re(C,1)}return A=V(I,j.j(A)),new P(j,A)}for(j=v;0<=I.l(A);){for(C=Math.max(1,Math.floor(I.m()/A.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),H=g(C),M=H.j(A);k(M)||0<M.l(I);)C-=L,H=g(C),M=H.j(A);N(H)&&(H=w),j=j.add(H),I=V(I,M)}return new P(j,I)}t.A=function(I){return F(this,I).h},t.and=function(I){for(var A=Math.max(this.g.length,I.g.length),C=[],L=0;L<A;L++)C[L]=this.i(L)&I.i(L);return new c(C,this.h&I.h)},t.or=function(I){for(var A=Math.max(this.g.length,I.g.length),C=[],L=0;L<A;L++)C[L]=this.i(L)|I.i(L);return new c(C,this.h|I.h)},t.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),C=[],L=0;L<A;L++)C[L]=this.i(L)^I.i(L);return new c(C,this.h^I.h)};function J(I){for(var A=I.g.length+1,C=[],L=0;L<A;L++)C[L]=I.i(L)<<1|I.i(L-1)>>>31;return new c(C,I.h)}function re(I,A){var C=A>>5;A%=32;for(var L=I.g.length-C,j=[],H=0;H<L;H++)j[H]=0<A?I.i(H+C)>>>A|I.i(H+C+1)<<32-A:I.i(H+C);return new c(j,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,MA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Fs=c}).apply(typeof NT<"u"?NT:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UA,fc,LA,Zf,cy,VA,jA,zA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,b){return h==Array.prototype||h==Object.prototype||(h[y]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=n(this);function a(h,y){if(y)e:{var b=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in b))break e;b=b[$]}h=h[h.length-1],R=b[h],y=y(R),y!=R&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var b=0,R=!1,$={next:function(){if(!R&&b<h.length){var Z=b++;return{value:y(Z,h[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,b){return h.call.apply(h.bind,arguments)}function v(h,y,b){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function w(h,y,b){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,w.apply(null,arguments)}function x(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function N(h,y){function b(){}b.prototype=y.prototype,h.aa=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(R,$,Z){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return y.prototype[$].apply(R,ue)}}function k(h){const y=h.length;if(0<y){const b=Array(y);for(let R=0;R<y;R++)b[R]=h[R];return b}return[]}function O(h,y){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(m(R)){const $=h.length||0,Z=R.length||0;h.length=$+Z;for(let ue=0;ue<Z;ue++)h[$+ue]=R[ue]}else h.push(R)}}class V{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function F(h){return F[" "](h),h}F[" "]=function(){};var J=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function re(h,y,b){for(const R in h)y.call(b,h[R],R,h)}function I(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function A(h){const y={};for(const b in h)y[b]=h[b];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,y){let b,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(b in R)h[b]=R[b];for(let Z=0;Z<C.length;Z++)b=C[Z],Object.prototype.hasOwnProperty.call(R,b)&&(h[b]=R[b])}}function j(h){var y=1;h=h.split(":");const b=[];for(;0<y&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function H(h){d.setTimeout(()=>{throw h},0)}function M(){var h=Qe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Pt{constructor(){this.h=this.g=null}add(y,b){const R=lt.get();R.set(y,b),this.h?this.h.next=R:this.g=R,this.h=R}}var lt=new V(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,Qe=new Pt,z=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(oe)}};var oe=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(b){H(b)}var y=lt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return h}();function De(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{F(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Re[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}N(De,le);var Re={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Bt="closure_listenable_"+(1e6*Math.random()|0),at=0;function Ir(h,y,b,R,$){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!R,this.ha=$,this.key=++at,this.da=this.fa=!1}function Wi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ai(h){this.src=h,this.g={},this.h=0}ai.prototype.add=function(h,y,b,R,$){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var ue=ra(h,y,R,$);return-1<ue?(y=h[ue],b||(y.fa=!1)):(y=new Ir(y,this.src,Z,!!R,$),y.fa=b,h.push(y)),y};function na(h,y){var b=y.type;if(b in h.g){var R=h.g[b],$=Array.prototype.indexOf.call(R,y,void 0),Z;(Z=0<=$)&&Array.prototype.splice.call(R,$,1),Z&&(Wi(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function ra(h,y,b,R){for(var $=0;$<h.length;++$){var Z=h[$];if(!Z.da&&Z.listener==y&&Z.capture==!!b&&Z.ha==R)return $}return-1}var ia="closure_lm_"+(1e6*Math.random()|0),Xl={};function lh(h,y,b,R,$){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)lh(h,y[Z],b,R,$);return null}return b=uh(b),h&&h[Bt]?h.K(y,b,g(R)?!!R.capture:!1,$):Hn(h,y,b,!1,R,$)}function Hn(h,y,b,R,$,Z){if(!y)throw Error("Invalid event type");var ue=g($)?!!$.capture:!!$,ze=yo(h);if(ze||(h[ia]=ze=new ai(h)),b=ze.add(y,b,R,ue,Z),b.proxy)return b;if(R=wm(),b.proxy=R,R.src=h,R.listener=b,h.addEventListener)ve||($=ue),$===void 0&&($=!1),h.addEventListener(y.toString(),R,$);else if(h.attachEvent)h.attachEvent(sa(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function wm(){function h(b){return y.call(h.src,h.listener,b)}const y=Sm;return h}function Wl(h,y,b,R,$){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Wl(h,y[Z],b,R,$);else R=g(R)?!!R.capture:!!R,b=uh(b),h&&h[Bt]?(h=h.i,y=String(y).toString(),y in h.g&&(Z=h.g[y],b=ra(Z,b,R,$),-1<b&&(Wi(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete h.g[y],h.h--)))):h&&(h=yo(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ra(y,b,R,$)),(b=-1<h?y[h]:null)&&go(b))}function go(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Bt])na(y.i,h);else{var b=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(b,R,h.capture):y.detachEvent?y.detachEvent(sa(b),R):y.addListener&&y.removeListener&&y.removeListener(R),(b=yo(y))?(na(b,h),b.h==0&&(b.src=null,y[ia]=null)):Wi(h)}}}function sa(h){return h in Xl?Xl[h]:Xl[h]="on"+h}function Sm(h,y){if(h.da)h=!0;else{y=new De(y,this);var b=h.listener,R=h.ha||h.src;h.fa&&go(h),h=b.call(R,y)}return h}function yo(h){return h=h[ia],h instanceof ai?h:null}var Jl="__closure_events_fn_"+(1e9*Math.random()>>>0);function uh(h){return typeof h=="function"?h:(h[Jl]||(h[Jl]=function(y){return h.handleEvent(y)}),h[Jl])}function gt(){he.call(this),this.i=new ai(this),this.M=this,this.F=null}N(gt,he),gt.prototype[Bt]=!0,gt.prototype.removeEventListener=function(h,y,b,R){Wl(this,h,y,b,R)};function Je(h,y){var b,R=h.F;if(R)for(b=[];R;R=R.F)b.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var $=y;y=new le(R,h),L(y,$)}if($=!0,b)for(var Z=b.length-1;0<=Z;Z--){var ue=y.g=b[Z];$=Nn(ue,R,!0,y)&&$}if(ue=y.g=h,$=Nn(ue,R,!0,y)&&$,$=Nn(ue,R,!1,y)&&$,b)for(Z=0;Z<b.length;Z++)ue=y.g=b[Z],$=Nn(ue,R,!1,y)&&$}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var b=h.g[y],R=0;R<b.length;R++)Wi(b[R]);delete h.g[y],h.h--}}this.F=null},gt.prototype.K=function(h,y,b,R){return this.i.add(String(h),y,!1,b,R)},gt.prototype.L=function(h,y,b,R){return this.i.add(String(h),y,!0,b,R)};function Nn(h,y,b,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,Z=0;Z<y.length;++Z){var ue=y[Z];if(ue&&!ue.da&&ue.capture==b){var ze=ue.listener,Mt=ue.ha||ue.src;ue.fa&&na(h.i,ue),$=ze.call(Mt,R)!==!1&&$}}return $&&!R.defaultPrevented}function sn(h,y,b){if(typeof h=="function")b&&(h=w(h,b));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function ch(h){h.g=sn(()=>{h.g=null,h.i&&(h.i=!1,ch(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Am extends he{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ch(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(h){he.call(this),this.h=h,this.g={}}N(aa,he);var oa=[];function la(h){re(h.g,function(y,b){this.g.hasOwnProperty(b)&&go(y)},h),h.g={}}aa.prototype.N=function(){aa.aa.N.call(this),la(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,_o=d.JSON.parse,ua=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Zl(){}Zl.prototype.h=null;function eu(h){return h.h||(h.h=h.i())}function tu(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){le.call(this,"d")}N(li,le);function nu(){le.call(this,"c")}N(nu,le);var Cr={},ru=null;function Ji(){return ru=ru||new gt}Cr.La="serverreachability";function vo(h){le.call(this,Cr.La,h)}N(vo,le);function Zi(h){const y=Ji();Je(y,new vo(y))}Cr.STAT_EVENT="statevent";function hh(h,y){le.call(this,Cr.STAT_EVENT,h),this.stat=y}N(hh,le);function ct(h){const y=Ji();Je(y,new hh(y,h))}Cr.Ma="timingevent";function kt(h,y){le.call(this,Cr.Ma,h),this.size=y}N(kt,le);function xt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Gn(){this.g=!0}Gn.prototype.xa=function(){this.g=!1};function iu(h,y,b,R,$,Z){h.info(function(){if(h.g)if(Z)for(var ue="",ze=Z.split("&"),Mt=0;Mt<ze.length;Mt++){var Be=ze[Mt].split("=");if(1<Be.length){var Ft=Be[0];Be=Be[1];var Ut=Ft.split("_");ue=2<=Ut.length&&Ut[1]=="type"?ue+(Ft+"="+Be+"&"):ue+(Ft+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+y+`
`+b+`
`+ue})}function Rm(h,y,b,R,$,Z,ue){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+y+`
`+b+`
`+Z+" "+ue})}function es(h,y,b,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ca(h,b)+(R?" "+R:"")})}function fh(h,y){h.info(function(){return"TIMEOUT: "+y})}Gn.prototype.info=function(){};function ca(h,y){if(!h.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var R=b[h];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var Z=$[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return or(b)}catch{return y}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function Or(){}N(Or,Zl),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Nr=new Or;function mn(h,y,b,R){this.j=h,this.i=y,this.l=b,this.R=R||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var su={},bo={};function lr(h,y,b){h.L=1,h.v=pa(On(y)),h.m=b,h.P=!0,ci(h,null)}function ci(h,y){h.F=Date.now(),ha(h),h.A=On(h.v);var b=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),hu(b.i,"t",R),h.C=0,b=h.j.J,h.h=new wt,h.g=Ih(h.j,b?y:null,!h.m),0<h.O&&(h.M=new Am(w(h.Y,h,h.g),h.O)),y=h.U,b=h.g,R=h.ca;var $="readystatechange";Array.isArray($)||($&&(oa[0]=$.toString()),$=oa);for(var Z=0;Z<$.length;Z++){var ue=lh(b,$[Z],R||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Zi(),iu(h.i,h.u,h.A,h.l,h.R,h.m)}mn.prototype.ca=function(h){h=h.target;const y=this.M;y&&Yn(h)==3?y.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=Yn(this.g);var y=this.g.Ba();const _i=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||bh(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=_i?Zi(3):Zi(2)),ns(this);var b=this.g.Z();this.X=b;t:if(dh(this)){var R=bh(this.g);h="";var $=R.length,Z=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),Dr(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(R[y],{stream:!(Z&&y==$-1)});R.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=b==200,Rm(this.i,this.u,this.A,this.l,this.R,Ut,b),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Mt=this.g;if((ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ze)){var Be=ze;break t}}Be=null}if(b=Be)es(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,b);else{this.o=!1,this.s=3,ct(12),Kt(this),Dr(this);break e}}if(this.P){b=!0;let Yt;for(;!this.J&&this.C<ue.length;)if(Yt=mh(this,ue),Yt==bo){Ut==4&&(this.s=4,ct(14),b=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==su){this.s=4,ct(15),es(this.i,this.l,ue,"[Invalid Chunk]"),b=!1;break}else es(this.i,this.l,Yt,null),fa(this,Yt);if(dh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||ue.length!=0||this.h.h||(this.s=1,ct(16),b=!1),this.o=this.o&&b,!b)es(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),Dr(this);else if(0<ue.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),wa(Ft),Ft.M=!0,ct(11))}}else es(this.i,this.l,ue,null),fa(this,ue);Ut==4&&Kt(this),this.o&&!this.J&&(Ut==4?Ah(this.j,this):(this.o=!1,ha(this)))}else Om(this.g),b==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Kt(this),Dr(this)}}}catch{}finally{}};function dh(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function mh(h,y){var b=h.C,R=y.indexOf(`
`,b);return R==-1?bo:(b=Number(y.substring(b,R)),isNaN(b)?su:(R+=1,R+b>y.length?bo:(y=y.slice(R,R+b),h.C=R+b,y)))}mn.prototype.cancel=function(){this.J=!0,Kt(this)};function ha(h){h.S=Date.now()+h.I,ph(h,h.I)}function ph(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xt(w(h.ba,h),y)}function ns(h){h.B&&(d.clearTimeout(h.B),h.B=null)}mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(fh(this.i,this.A),this.L!=2&&(Zi(),ct(17)),Kt(this),this.s=2,Dr(this)):ph(this,this.S-h)};function Dr(h){h.j.G==0||h.J||Ah(h.j,h)}function Kt(h){ns(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,la(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function fa(h,y){try{var b=h.j;if(b.G!=0&&(b.g==h||au(b.h,h))){if(!h.K&&au(b.h,h)&&b.G==3){try{var R=b.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Do(b),No(b);else break e;gu(b),ct(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=xt(w(b.Za,b),6e3));if(1>=To(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else yi(b,11)}else if((h.K||b.g==h)&&Do(b),!G(y))for($=b.Da.g.parse(y),y=0;y<$.length;y++){let Be=$[y];if(b.T=Be[0],Be=Be[1],b.G==2)if(Be[0]=="c"){b.K=Be[1],b.ia=Be[2];const Ft=Be[3];Ft!=null&&(b.la=Ft,b.j.info("VER="+b.la));const Ut=Be[4];Ut!=null&&(b.Aa=Ut,b.j.info("SVER="+b.Aa));const _i=Be[5];_i!=null&&typeof _i=="number"&&0<_i&&(R=1.5*_i,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Yt=h.g;if(Yt){const jr=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var Z=R.h;Z.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(wo(Z,Z.h),Z.h=null))}if(R.D){const _u=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&(R.ya=_u,tt(R.I,R.D,_u))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var ue=h;if(R.qa=xh(R,R.J?R.ia:null,R.W),ue.K){pn(R.h,ue);var ze=ue,Mt=R.L;Mt&&(ze.I=Mt),ze.B&&(ns(ze),ha(ze)),R.g=ue}else wh(R);0<b.i.length&&Oo(b)}else Be[0]!="stop"&&Be[0]!="close"||yi(b,7);else b.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?yi(b,7):mu(b):Be[0]!="noop"&&b.l&&b.l.ta(Be),b.v=0)}}Zi(4)}catch{}}var gh=class{constructor(h,y){this.g=h,this.map=y}};function hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function To(h){return h.h?1:h.g?h.g.size:0}function au(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wo(h,y){h.g?h.g.add(y):h.h=y}function pn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}hi.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ou(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.D);return y}return k(h.i)}function xm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],b=h.length,R=0;R<b;R++)y.push(h[R]);return y}y=[],b=0;for(R in h)y[b++]=h[R];return y}function So(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var b=0;b<h;b++)y.push(b);return y}y=[],b=0;for(const R in h)y[b++]=R;return y}}}function lu(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var b=So(h),R=xm(h),$=R.length,Z=0;Z<$;Z++)y.call(void 0,R[Z],b&&b[Z],h)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Im(h,y){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var R=h[b].indexOf("="),$=null;if(0<=R){var Z=h[b].substring(0,R);$=h[b].substring(R+1)}else Z=h[b];y(Z,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,ma(this,h.j),this.o=h.o,this.g=h.g,rs(this,h.s),this.l=h.l;var y=h.i,b=new di;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),fi(this,b),this.m=h.m}else h&&(y=String(h).match(da))?(this.h=!1,ma(this,y[1]||"",!0),this.o=Qn(y[2]||""),this.g=Qn(y[3]||"",!0),rs(this,y[4]),this.l=Qn(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=Qn(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ga(y,uu,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ga(y,uu,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ga(b,b.charAt(0)=="/"?Cm:cu,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ga(b,Ao)),h.join("")};function On(h){return new It(h)}function ma(h,y,b){h.j=b?Qn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function rs(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function fi(h,y,b){y instanceof di?(h.i=y,_h(h.i,h.h)):(b||(y=ga(y,Nm)),h.i=new di(y,h.h))}function tt(h,y,b){h.i.set(y,b)}function pa(h){return tt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Qn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ga(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,yh),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function yh(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uu=/[#\/\?@]/g,cu=/[#\?:]/g,Cm=/[#\?]/g,Nm=/[#\?@]/g,Ao=/#/g;function di(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function $n(h){h.g||(h.g=new Map,h.h=0,h.i&&Im(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}t=di.prototype,t.add=function(h,y){$n(this),this.i=null,h=Pr(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function mi(h,y){$n(h),y=Pr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function pi(h,y){return $n(h),y=Pr(h,y),h.g.has(y)}t.forEach=function(h,y){$n(this),this.g.forEach(function(b,R){b.forEach(function($){h.call(y,$,R,this)},this)},this)},t.na=function(){$n(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let R=0;R<y.length;R++){const $=h[R];for(let Z=0;Z<$.length;Z++)b.push(y[R])}return b},t.V=function(h){$n(this);let y=[];if(typeof h=="string")pi(this,h)&&(y=y.concat(this.g.get(Pr(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)y=y.concat(h[b])}return y},t.set=function(h,y){return $n(this),this.i=null,h=Pr(this,h),pi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function hu(h,y,b){mi(h,y),0<b.length&&(h.i=null,h.g.set(Pr(h,y),k(b)),h.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var R=y[b];const Z=encodeURIComponent(String(R)),ue=this.V(R);for(R=0;R<ue.length;R++){var $=Z;ue[R]!==""&&($+="="+encodeURIComponent(String(ue[R]))),h.push($)}}return this.i=h.join("&")};function Pr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function _h(h,y){y&&!h.j&&($n(h),h.i=null,h.g.forEach(function(b,R){var $=R.toLowerCase();R!=$&&(mi(this,R),hu(this,$,b))},h)),h.j=y}function ya(h,y){const b=new Gn;if(d.Image){const R=new Image;R.onload=x(Kn,b,"TestLoadImage: loaded",!0,y,R),R.onerror=x(Kn,b,"TestLoadImage: error",!1,y,R),R.onabort=x(Kn,b,"TestLoadImage: abort",!1,y,R),R.ontimeout=x(Kn,b,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function ur(h,y){const b=new Gn,R=new AbortController,$=setTimeout(()=>{R.abort(),Kn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(Z=>{clearTimeout($),Z.ok?Kn(b,"TestPingServer: ok",!0,y):Kn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),Kn(b,"TestPingServer: error",!1,y)})}function Kn(h,y,b,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(b)}catch{}}function _a(){this.g=new ua}function kr(h,y,b){const R=b||"";try{lu(h,function($,Z){let ue=$;g($)&&(ue=or($)),y.push(R+Z+"="+encodeURIComponent(ue))})}catch($){throw y.push(R+"type="+encodeURIComponent("_badmap")),$}}function is(h){this.l=h.Ub||null,this.j=h.eb||!1}N(is,Zl),is.prototype.g=function(){return new gi(this.l,this.j)},is.prototype.i=function(h){return function(){return h}}({});function gi(h,y){gt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(gi,gt),t=gi.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Ur(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function fu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):Ur(this),this.readyState==3&&fu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},t.Qa=function(h){this.g&&(this.response=h,Mr(this))},t.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ur(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function Ur(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function du(h){let y="";return re(h,function(b,R){y+=R,y+=":",y+=b,y+=`\r
`}),y}function qt(h,y,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=du(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):tt(h,y,b))}function Ye(h){gt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ye,gt);var Ro=/^https?$/i,va=["POST","PUT"];t=Ye.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?eu(this.o):eu(Nr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){vh(this,Z);return}if(h=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)b.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())b.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(va,y,void 0))||R||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of b)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ba(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){vh(this,Z)}};function vh(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,xo(h),Lr(h)}function xo(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Je(this,"complete"),Je(this,"abort"),Lr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},t.bb=function(){Io(this)};function Io(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Yn(h)!=4||h.Z()!=2)){if(h.u&&Yn(h)==4)sn(h.Ea,0,h);else if(Je(h,"readystatechange"),Yn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var R;if(R=ue===0){var $=String(h.D).match(da)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),R=!Ro.test($?$.toLowerCase():"")}b=R}if(b)Je(h,"complete"),Je(h,"success");else{h.m=6;try{var Z=2<Yn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",xo(h)}}finally{Lr(h)}}}}function Lr(h,y){if(h.g){ba(h);const b=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Je(h,"ready");try{b.onreadystatechange=R}catch{}}}function ba(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Yn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),_o(y)}};function bh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Om(h){const y={};h=(h.g&&2<=Yn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(G(h[R]))continue;var b=j(h[R]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=y[$]||[];y[$]=Z,Z.push(b)}I(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function Co(h){this.Aa=0,this.i=[],this.j=new Gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,h),this.cb=Ea("retryDelaySeedMs",1e4,h),this.Wa=Ea("forwardChannelMaxRetries",2,h),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(h&&h.concurrentRequestLimit),this.Da=new _a,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Co.prototype,t.la=8,t.G=1,t.connect=function(h,y,b,R){ct(0),this.W=h,this.H=y||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=xh(this,null,this.W),Oo(this)};function mu(h){if(Eh(h),h.G==3){var y=h.U++,b=On(h.I);if(tt(b,"SID",h.K),tt(b,"RID",y),tt(b,"TYPE","terminate"),Ta(h,b),y=new mn(h,h.j,y),y.L=2,y.v=pa(On(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=Ih(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ha(y)}Rh(h)}function No(h){h.g&&(wa(h),h.g.cancel(),h.g=null)}function Eh(h){No(h),h.u&&(d.clearTimeout(h.u),h.u=null),Do(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Oo(h){if(!Eo(h.h)&&!h.s){h.s=!0;var y=h.Ga;ce||z(),ge||(ce(),ge=!0),Qe.add(y,h),h.B=0}}function Dm(h,y){return To(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xt(w(h.Ga,h,y),yu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new mn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=A(Z),L(Z,this.S)):Z=this.S),this.m!==null||this.O||($.H=Z,Z=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Th(this,$,y),b=On(this.I),tt(b,"RID",h),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Ta(this,b),Z&&(this.O?y="headers="+encodeURIComponent(String(du(Z)))+"&"+y:this.m&&qt(b,this.m,Z)),wo(this.h,$),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",y),tt(b,"SID","null"),$.T=!0,lr($,b,null)):lr($,b,y),this.G=2}}else this.G==3&&(h?pu(this,h):this.i.length==0||Eo(this.h)||pu(this))};function pu(h,y){var b;y?b=y.l:b=h.U++;const R=On(h.I);tt(R,"SID",h.K),tt(R,"RID",b),tt(R,"AID",h.T),Ta(h,R),h.m&&h.o&&qt(R,h.m,h.o),b=new mn(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Th(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wo(h.h,b),lr(b,R,y)}function Ta(h,y){h.H&&re(h.H,function(b,R){tt(y,R,b)}),h.l&&lu({},function(b,R){tt(y,R,b)})}function Th(h,y,b){b=Math.min(h.i.length,b);var R=h.l?w(h.l.Na,h.l,h):null;e:{var $=h.i;let Z=-1;for(;;){const ue=["count="+b];Z==-1?0<b?(Z=$[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let ze=!0;for(let Mt=0;Mt<b;Mt++){let Be=$[Mt].g;const Ft=$[Mt].map;if(Be-=Z,0>Be)Z=Math.max(0,$[Mt].g-100),ze=!1;else try{kr(Ft,ue,"req"+Be+"_")}catch{R&&R(Ft)}}if(ze){R=ue.join("&");break e}}}return h=h.i.splice(0,b),y.D=h,R}function wh(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;ce||z(),ge||(ce(),ge=!0),Qe.add(y,h),h.v=0}}function gu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xt(w(h.Fa,h),yu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xt(w(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),No(this),Sh(this))};function wa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Sh(h){h.g=new mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=On(h.qa);tt(y,"RID","rpc"),tt(y,"SID",h.K),tt(y,"AID",h.T),tt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&tt(y,"TO",h.ja),tt(y,"TYPE","xmlhttp"),Ta(h,y),h.m&&h.o&&qt(y,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=pa(On(y)),b.m=null,b.P=!0,ci(b,h)}t.Za=function(){this.C!=null&&(this.C=null,No(this),gu(this),ct(19))};function Do(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ah(h,y){var b=null;if(h.g==y){Do(h),wa(h),h.g=null;var R=2}else if(au(h.h,y))b=y.D,pn(h.h,y),R=1;else return;if(h.G!=0){if(y.o)if(R==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;R=Ji(),Je(R,new kt(R,b)),Oo(h)}else wh(h);else if($=y.s,$==3||$==0&&0<y.X||!(R==1&&Dm(h,y)||R==2&&gu(h)))switch(b&&0<b.length&&(y=h.h,y.i=y.i.concat(b)),$){case 1:yi(h,5);break;case 4:yi(h,10);break;case 3:yi(h,6);break;default:yi(h,2)}}}function yu(h,y){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*y}function yi(h,y){if(h.j.info("Error code "+y),y==2){var b=w(h.fb,h),R=h.Xa;const $=!R;R=new It(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ma(R,"https"),pa(R),$?ya(R.toString(),b):ur(R.toString(),b)}else ct(2);h.G=0,h.l&&h.l.sa(y),Rh(h),Eh(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Rh(h){if(h.G=0,h.ka=[],h.l){const y=ou(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function xh(h,y,b){var R=b instanceof It?On(b):new It(b);if(R.g!="")y&&(R.g=y+"."+R.g),rs(R,R.s);else{var $=d.location;R=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var Z=new It(null);R&&ma(Z,R),y&&(Z.g=y),$&&rs(Z,$),b&&(Z.l=b),R=Z}return b=h.D,y=h.ya,b&&y&&tt(R,b,y),tt(R,"VER",h.la),Ta(h,R),R}function Ih(h,y,b){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Ye(new is({eb:b})):new Ye(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ch(){}t=Ch.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(h,y){return new gn(h,y)};function gn(h,y){gt.call(this),this.g=new Co(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!G(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Vr(this)}N(gn,gt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){mu(this.g)},gn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=or(h),h=b);y.i.push(new gh(y.Ya++,h)),y.G==3&&Oo(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,mu(this.g),delete this.g,gn.aa.N.call(this)};function Nh(h){li.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}N(Nh,li);function Oh(){nu.call(this),this.status=1}N(Oh,nu);function Vr(h){this.g=h}N(Vr,Ch),Vr.prototype.ua=function(){Je(this.g,"a")},Vr.prototype.ta=function(h){Je(this.g,new Nh(h))},Vr.prototype.sa=function(h){Je(this.g,new Oh)},Vr.prototype.ra=function(){Je(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,zA=function(){return new Po},jA=function(){return Ji()},VA=Cr,cy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,Zf=ts,ui.COMPLETE="complete",LA=ui,tu.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",gt.prototype.listen=gt.prototype.K,fc=tu,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,UA=Ye}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const OT="@firebase/firestore",DT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new c_("@firebase/firestore");function ll(){return no.logLevel}function fe(t,...e){if(no.logLevel<=Ue.DEBUG){const n=e.map(w_);no.debug(`Firestore (${Gl}): ${t}`,...n)}}function Hi(t,...e){if(no.logLevel<=Ue.ERROR){const n=e.map(w_);no.error(`Firestore (${Gl}): ${t}`,...n)}}function Dl(t,...e){if(no.logLevel<=Ue.WARN){const n=e.map(w_);no.warn(`Firestore (${Gl}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: `+t;throw Hi(e),new Error(e)}function We(t,e){t||Ae()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class NP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OP{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ji)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string"),new BA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new hn(e)}}class DP{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class PP{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new DP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kP{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){We(this.o===void 0);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new PT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new PT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=MP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Oe(t,e){return t<e?-1:t>e?1:0}function hy(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Oe(i,a);{const l=qA(),c=UP(l.encode(kT(t,n)),l.encode(kT(e,n)));return c!==0?c:Oe(i,a)}}n+=i>65535?2:1}return Oe(t.length,e.length)}function kT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function UP(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Oe(t[n],e[n]);return Oe(t.length,e.length)}function Pl(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=-62135596800,UT=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*UT);return new jt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<MT)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UT}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-MT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new jt(0,0))}static max(){return new xe(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__name__";class Gr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Gr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Oe(e.length,n.length)}static compareSegments(e,n){const i=Gr.isNumericId(e),a=Gr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Gr.extractNumericId(e).compare(Gr.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class ut extends Gr{construct(e,n,i){return new ut(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const LP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Gr{construct(e,n,i){return new nn(e,n,i)}static isValidIdentifier(e){return LP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LT}static keyField(){return new nn([LT])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new me(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ut.fromString(e))}static fromName(e){return new _e(ut.fromString(e).popFirst(5))}static empty(){return new _e(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function VP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(i===1e9?new jt(n+1,0):new jt(n,i));return new Qs(a,_e.empty(),e)}function jP(t){return new Qs(t.readTime,t.key,xc)}class Qs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Qs(xe.min(),_e.empty(),xc)}static max(){return new Qs(xe.max(),_e.empty(),xc)}}function zP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==BP)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,i)=>{n(e)})}static reject(e){return new se((n,i)=>{i(e)})}static waitFor(e){return new se((n,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>i(m))}),c=!0,l===a&&n()})}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next(a=>a?se.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new se((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,n){return new se((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function FP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=-1;function Qd(t){return t==null}function _d(t){return t===0&&1/t==-1/0}function HP(t){return typeof t=="number"&&Number.isInteger(t)&&!_d(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="";function GP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VT(e)),e=QP(t.get(n),e);return VT(e)}function QP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case HA:n+="";break;default:n+=l}}return n}function VT(t){return t+HA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lf(this.root,e,this.comparator,!0)}}class Lf{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new en(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,a,l){return this}insert(e,n,i){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zT(this.data.getIterator())}getIteratorFrom(e){return new zT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class zT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new zt(nn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new QA("Invalid base64 string: "+l):l}}(e);return new rn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const $P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(We(!!t),typeof t=="string"){let e=0;const n=$P.exec(t);if(We(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="server_timestamp",KA="__type__",YA="__previous_value__",XA="__local_write_time__";function A_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KA])===null||n===void 0?void 0:n.stringValue)===$A}function $d(t){const e=t.mapValue.fields[YA];return A_(e)?$d(e):e}function Ic(t){const e=$s(t.mapValue.fields[XA].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,i,a,l,c,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const vd="(default)";class Cc{constructor(e,n){this.projectId=e,this.database=n||vd}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===vd}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="__type__",YP="__max__",Vf={mapValue:{}},JA="__vector__",bd="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:WP(t)?9007199254740991:XP(t)?10:11:Ae()}function ni(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ic(t).isEqual(Ic(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=$s(a.timestampValue),d=$s(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return Ks(a.bytesValue).isEqual(Ks(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Rt(a.doubleValue),d=Rt(l.doubleValue);return c===d?_d(c)===_d(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return Pl(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(jT(c)!==jT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ni(c[m],d[m])))return!1;return!0}(t,e);default:return Ae()}}function Nc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=Ys(t),i=Ys(e);if(n!==i)return Oe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Rt(l.integerValue||l.doubleValue),m=Rt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return BT(t.timestampValue,e.timestampValue);case 4:return BT(Ic(t),Ic(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return function(l,c){const d=Ks(l),m=Ks(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Oe(d[g],m[g]);if(_!==0)return _}return Oe(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Oe(Rt(l.latitude),Rt(c.latitude));return d!==0?d:Oe(Rt(l.longitude),Rt(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qT(t.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,_;const v=l.fields||{},w=c.fields||{},x=(d=v[bd])===null||d===void 0?void 0:d.arrayValue,N=(m=w[bd])===null||m===void 0?void 0:m.arrayValue,k=Oe(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:qT(x,N)}(t.mapValue,e.mapValue);case 11:return function(l,c){if(l===Vf.mapValue&&c===Vf.mapValue)return 0;if(l===Vf.mapValue)return 1;if(c===Vf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let v=0;v<m.length&&v<_.length;++v){const w=hy(m[v],_[v]);if(w!==0)return w;const x=kl(d[m[v]],g[_[v]]);if(x!==0)return x}return Oe(m.length,_.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function BT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=$s(t),i=$s(e),a=Oe(n.seconds,i.seconds);return a!==0?a:Oe(n.nanos,i.nanos)}function qT(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=kl(n[a],i[a]);if(l)return l}return Oe(n.length,i.length)}function Ml(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=$s(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=fy(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${fy(n.fields[c])}`;return a+"}"}(t.mapValue):Ae()}function ed(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$d(t);return e?16+ed(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+ed(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return ea(i.fields,(l,c)=>{a+=l.length+ed(c)}),a}(t.mapValue);default:throw Ae()}}function FT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dy(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function HT(t){return!!t&&"nullValue"in t}function GT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function XP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[WA])===null||n===void 0?void 0:n.stringValue)===JA}function vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=vc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=nn.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=d.popLast()}c?i[d.lastSegment()]=vc(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){ea(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new In(vc(this.value))}}function ZA(t){const e=[];return ea(t.fields,(n,i)=>{const a=new nn([n]);if(td(i)){const l=ZA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,i,a,l,c,d){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new fn(e,0,xe.min(),xe.min(),xe.min(),In.empty(),0)}static newFoundDocument(e,n,i,a){return new fn(e,1,n,xe.min(),i,a,0)}static newNoDocument(e,n){return new fn(e,2,n,xe.min(),xe.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,xe.min(),xe.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.position=e,this.inclusive=n}}function QT(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),n.key):i=kl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function $T(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n="asc"){this.field=e,this.dir=n}}function JP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class Dt extends e1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new ek(e,n,i):n==="array-contains"?new rk(e,i):n==="in"?new ik(e,i):n==="not-in"?new sk(e,i):n==="array-contains-any"?new ak(e,i):new Dt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new tk(e,i):new nk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kl(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends e1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Er(e,n)}matches(e){return t1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function t1(t){return t.op==="and"}function n1(t){return ZP(t)&&t1(t)}function ZP(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function my(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Ml(t.value);if(n1(t))return t.filters.map(e=>my(e)).join(",");{const e=t.filters.map(n=>my(n)).join(",");return`${t.op}(${e})`}}function r1(t,e){return t instanceof Dt?function(i,a){return a instanceof Dt&&i.op===a.op&&i.field.isEqual(a.field)&&ni(i.value,a.value)}(t,e):t instanceof Er?function(i,a){return a instanceof Er&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&r1(c,a.filters[d]),!0):!1}(t,e):void Ae()}function i1(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ml(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(i1).join(" ,")+"}"}(t):"Filter"}class ek extends Dt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class tk extends Dt{constructor(e,n){super(e,"in",n),this.keys=s1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nk extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=s1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function s1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>_e.fromName(i.referenceValue))}class rk extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R_(n)&&Nc(n.arrayValue,this.value)}}class ik extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class sk extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nc(this.value.arrayValue,n)}}class ak extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function KT(t,e=null,n=[],i=[],a=null,l=null,c=null){return new ok(t,e,n,i,a,l,c)}function x_(t){const e=Ie(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>my(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Qd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Ml(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Ml(i)).join(",")),e.le=n}return e.le}function I_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$T(t.startAt,e.startAt)&&$T(t.endAt,e.endAt)}function py(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lk(t,e,n,i,a,l,c,d){return new Jc(t,e,n,i,a,l,c,d)}function C_(t){return new Jc(t)}function YT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function a1(t){return t.collectionGroup!==null}function bc(t){const e=Ie(t);if(e.he===null){e.he=[];const n=new Set;for(const l of e.explicitOrderBy)e.he.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(nn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.he.push(new Td(l,i))}),n.has(nn.keyField().canonicalString())||e.he.push(new Td(nn.keyField(),i))}return e.he}function ei(t){const e=Ie(t);return e.Pe||(e.Pe=uk(e,bc(t))),e.Pe}function uk(t,e){if(t.limitType==="F")return KT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Td(a.field,l)});const n=t.endAt?new Ed(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ed(t.startAt.position,t.startAt.inclusive):null;return KT(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function gy(t,e){const n=t.filters.concat([e]);return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new Jc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return I_(ei(t),ei(e))&&t.limitType===e.limitType}function o1(t){return`${x_(ei(t))}|lt:${t.limitType}`}function ul(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>i1(a)).join(", ")}]`),Qd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Ml(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Ml(a)).join(",")),`Target(${i})`}(ei(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of bc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const g=QT(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,bc(i),a)||i.endAt&&!function(c,d,m){const g=QT(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,bc(i),a))}(t,e)}function ck(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l1(t){return(e,n)=>{let i=!1;for(const a of bc(t)){const l=hk(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function hk(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?kl(m,g):Ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return GA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new pt(_e.comparator);function Gi(){return fk}const u1=new pt(_e.comparator);function dc(...t){let e=u1;for(const n of t)e=e.insert(n.key,n);return e}function c1(t){let e=u1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ba(){return Ec()}function h1(){return Ec()}function Ec(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const dk=new pt(_e.comparator),mk=new zt(_e.comparator);function Le(...t){let e=mk;for(const n of t)e=e.add(n);return e}const pk=new zt(Oe);function gk(){return pk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_d(e)?"-0":e}}function f1(t){return{integerValue:""+t}}function yk(t,e){return HP(e)?f1(e):N_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function _k(t,e,n){return t instanceof Oc?function(a,l){const c={fields:{[KA]:{stringValue:$A},[XA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&A_(l)&&(l=$d(l)),l&&(c.fields[YA]=l),{mapValue:c}}(n,e):t instanceof Dc?m1(t,e):t instanceof Pc?p1(t,e):function(a,l){const c=d1(a,l),d=XT(c)+XT(a.Ie);return dy(c)&&dy(a.Ie)?f1(d):N_(a.serializer,d)}(t,e)}function vk(t,e,n){return t instanceof Dc?m1(t,e):t instanceof Pc?p1(t,e):n}function d1(t,e){return t instanceof wd?function(i){return dy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Oc extends Xd{}class Dc extends Xd{constructor(e){super(),this.elements=e}}function m1(t,e){const n=g1(e);for(const i of t.elements)n.some(a=>ni(a,i))||n.push(i);return{arrayValue:{values:n}}}class Pc extends Xd{constructor(e){super(),this.elements=e}}function p1(t,e){let n=g1(e);for(const i of t.elements)n=n.filter(a=>!ni(a,i));return{arrayValue:{values:n}}}class wd extends Xd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function XT(t){return Rt(t.integerValue||t.doubleValue)}function g1(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.field=e,this.transform=n}}function Ek(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof Dc&&a instanceof Dc||i instanceof Pc&&a instanceof Pc?Pl(i.elements,a.elements,ni):i instanceof wd&&a instanceof wd?ni(i.Ie,a.Ie):i instanceof Oc&&a instanceof Oc}(t.transform,e.transform)}class Tk{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let Wd=class{};function y1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new O_(t.key,sr.none()):new Zc(t.key,t.data,sr.none());{const n=t.data,i=In.empty();let a=new zt(nn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ta(t.key,i,new zn(a.toArray()),sr.none())}}function wk(t,e,n){t instanceof Zc?function(a,l,c){const d=a.value.clone(),m=JT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof ta?function(a,l,c){if(!nd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=JT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(_1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Tc(t,e,n,i){return t instanceof Zc?function(l,c,d,m){if(!nd(l.precondition,c))return d;const g=l.value.clone(),_=ZT(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(t,e,n,i):t instanceof ta?function(l,c,d,m){if(!nd(l.precondition,c))return d;const g=ZT(l.fieldTransforms,m,c),_=c.data;return _.setAll(_1(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(l,c,d){return nd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function Sk(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=d1(i.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(i.field,l))}return n||null}function WT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Pl(i,a,(l,c)=>Ek(l,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zc extends Wd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ta extends Wd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function JT(t,e,n){const i=new Map;We(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,vk(c,d,n[a]))}return i}function ZT(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,_k(l,c,e))}return i}class O_ extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ak extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wk(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Tc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Tc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=h1();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=y1(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,(n,i)=>WT(n,i))&&Pl(this.baseMutations,e.baseMutations,(n,i)=>WT(n,i))}}class D_{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){We(e.mutations.length===i.length);let a=function(){return dk}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new D_(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Fe;function Ck(t){switch(t){case ae.OK:return Ae();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ae()}}function v1(t){if(t===void 0)return Hi("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Ot.OK:return ae.OK;case Ot.CANCELLED:return ae.CANCELLED;case Ot.UNKNOWN:return ae.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ae.INTERNAL;case Ot.UNAVAILABLE:return ae.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ae.NOT_FOUND;case Ot.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ot.ABORTED:return ae.ABORTED;case Ot.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ot.DATA_LOSS:return ae.DATA_LOSS;default:return Ae()}}(Fe=Ot||(Ot={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Fs([4294967295,4294967295],0);function ew(t){const e=qA().encode(t),n=new MA;return n.update(e),new Uint8Array(n.digest())}function tw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([a,l],0)]}class P_{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(i<0)throw new mc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Fs.fromNumber(this.Ee)}Ae(e,n,i){let a=e.add(n.multiply(Fs.fromNumber(i)));return a.compare(Nk)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=ew(e),[i,a]=tw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new P_(l,a,n);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const n=ew(e),[i,a]=tw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,eh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Jd(xe.min(),a,new pt(Oe),Gi(),Le())}}class eh{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new eh(i,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,i,a){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=a}}class b1{constructor(e,n){this.targetId=e,this.ge=n}}class E1{constructor(e,n,i=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class nw{constructor(){this.pe=0,this.ye=rw(),this.we=rn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),i=Le();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ae()}}),new eh(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=rw()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ok{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Gi(),this.$e=jf(),this.Ue=jf(),this.Ke=new pt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,i=e.ge.count,a=this.Xe(n);if(a){const l=a.target;if(py(l))if(i===0){const c=new _e(l.path);this.ze(n,c,fn.newNoDocument(c,xe.min()))}else We(i===1);else{const c=this.et(n);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Ks(i).toUint8Array()}catch(m){if(m instanceof QA)return Dl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new P_(c,a,l)}catch(m){return Dl(m instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,l,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&py(d.target)){const m=new _e(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,fn.newNoDocument(m,e))}l.ve&&(n.set(c,l.Fe()),l.Me())}});let i=Le();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Jd(e,n,this.Ke,this.Qe,i);return this.Qe=Gi(),this.$e=jf(),this.Ue=jf(),this.Ke=new pt(Oe),a}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new nw,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nw),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function jf(){return new pt(_e.comparator)}function rw(){return new pt(_e.comparator)}const Dk={asc:"ASCENDING",desc:"DESCENDING"},Pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kk={and:"AND",or:"OR"};class Mk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _y(t,e){return t.useProto3Json||Qd(e)?e:{value:e}}function Sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Uk(t,e){return Sd(t,e.toTimestamp())}function ti(t){return We(!!t),xe.fromTimestamp(function(n){const i=$s(n);return new jt(i.seconds,i.nanos)}(t))}function k_(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=function(a){return new ut(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function w1(t){const e=ut.fromString(t);return We(I1(e)),e}function by(t,e){return k_(t.databaseId,e.path)}function jg(t,e){const n=w1(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(A1(n))}function S1(t,e){return k_(t.databaseId,e)}function Lk(t){const e=w1(t);return e.length===4?ut.emptyPath():A1(e)}function Ey(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function A1(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iw(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function Vk(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string"),rn.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),rn.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?ae.UNKNOWN:v1(g.code);return new me(_,g.message||"")}(c);n=new E1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=jg(t,i.document.name),l=ti(i.document.updateTime),c=i.document.createTime?ti(i.document.createTime):xe.min(),d=new In({mapValue:{fields:i.document.fields}}),m=fn.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];n=new rd(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=jg(t,i.document),l=i.readTime?ti(i.readTime):xe.min(),c=fn.newNoDocument(a,l),d=i.removedTargetIds||[];n=new rd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=jg(t,i.document),l=i.removedTargetIds||[];n=new rd([],l,a,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Ik(a,l),d=i.targetId;n=new b1(d,c)}}return n}function jk(t,e){let n;if(e instanceof Zc)n={update:iw(t,e.key,e.value)};else if(e instanceof O_)n={delete:by(t,e.key)};else if(e instanceof ta)n={update:iw(t,e.key,e.data),updateMask:Kk(e.fieldMask)};else{if(!(e instanceof Ak))return Ae();n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Oc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Dc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wd)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Uk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(t,e.precondition)),n}function zk(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(a,l){let c=a.updateTime?ti(a.updateTime):ti(l);return c.isEqual(xe.min())&&(c=ti(l)),new Tk(c,a.transformResults||[])}(n,e))):[]}function Bk(t,e){return{documents:[S1(t,e.path)]}}function qk(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=S1(t,a);const l=function(g){if(g.length!==0)return x1(Er.create(g,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:cl(w.field),direction:Gk(w.dir)}}(_))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=_y(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:a}}function Fk(t){let e=Lk(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){We(i===1);const _=n.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=function(v){const w=R1(v);return w instanceof Er&&n1(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(v){return v.map(w=>function(N){return new Td(hl(N.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(v){let w;return w=typeof v=="object"?v.value:v,Qd(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(v){const w=!!v.before,x=v.values||[];return new Ed(x,w)}(n.startAt));let g=null;return n.endAt&&(g=function(v){const w=!v.before,x=v.values||[];return new Ed(x,w)}(n.endAt)),lk(e,a,c,l,d,"F",m,g)}function Hk(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=hl(n.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=hl(n.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=hl(n.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hl(n.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(hl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(i=>R1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function Gk(t){return Dk[t]}function Qk(t){return Pk[t]}function $k(t){return kk[t]}function cl(t){return{fieldPath:t.canonicalString()}}function hl(t){return nn.fromServerFormat(t.fieldPath)}function x1(t){return t instanceof Dt?function(n){if(n.op==="=="){if(GT(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(HT(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GT(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(HT(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:Qk(n.op),value:n.value}}}(t):t instanceof Er?function(n){const i=n.getFilters().map(a=>x1(a));return i.length===1?i[0]:{compositeFilter:{op:$k(n.op),filters:i}}}(t):Ae()}function Kk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,i,a,l=xe.min(),c=xe.min(),d=rn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.Tt=e}}function Xk(t){const e=Fk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Tn=new Jk}addToCollectionParentIndex(e,n){return this.Tn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Qs.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class Jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new zt(ut.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C1=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(C1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ul(0)}static Kn(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="LruGarbageCollector",Zk=1048576;function ow([t,e],[n,i]){const a=Oe(t,n);return a===0?Oe(e,i):a}class e4{constructor(e){this.Hn=e,this.buffer=new zt(ow),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ow(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(aw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$l(n)?fe(aw,"Ignoring IndexedDB error during garbage collection: ",n):await Ql(n)}await this.er(3e5)})}}class n4{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Gd.ae);const i=new e4(n);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(sw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sw):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(i=v,d=Date.now(),this.removeTargets(e,i,n))).next(v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(g=Date.now(),ll()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function r4(t,e){return new n4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&Tc(i.mutation,a,zn.empty(),jt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Le()){const a=Ba();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let c=dc();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const i=Ba();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Le()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,i,a){let l=Gi();const c=Ec(),d=function(){return Ec()}();return n.forEach((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof ta)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Tc(_.mutation,g,_.mutation.getFieldMask(),jt.now())):c.set(g.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),n.forEach((g,_)=>{var v;return d.set(g,new s4(_,(v=c.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,n){const i=Ec();let a=new pt((c,d)=>c-d),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let _=i.get(m)||zn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const v=(a.get(d.batchId)||Le()).add(m);a=a.insert(d.batchId,v)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,v=h1();_.forEach(w=>{if(!l.has(w)){const x=y1(n.get(w),i.get(w));x!==null&&v.set(w,x),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return se.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):a1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):se.resolve(Ba());let d=xc,m=l;return c.next(g=>se.forEach(g,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{m=m.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Le())).next(_=>({batchId:d,changes:c1(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let a=dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=dc();return this.indexManager.getCollectionParents(e,l).next(d=>se.forEach(d,m=>{const g=function(v,w){return new Jc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(_=>{_.forEach((v,w)=>{c=c.insert(v,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,fn.newInvalidDocument(_)))});let d=dc();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&Tc(_.mutation,g,zn.empty(),jt.now()),Yd(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return se.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ti(a.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:Xk(a.bundledQuery),readTime:ti(a.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.overlays=new pt(_e.comparator),this.Rr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ba();return se.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.Et(e,n,l)}),se.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const a=Ba(),l=n.length+1,c=new _e(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new pt((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=Ba(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return se.resolve(d)}Et(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new xk(n,i));let l=this.Rr.get(n);l===void 0&&(l=Le(),this.Rr.set(n,l)),this.Rr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(){this.Vr=new zt($t.mr),this.gr=new zt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new $t(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new $t(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new _e(new ut([])),i=new $t(n,e),a=new $t(n,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new ut([])),i=new $t(n,e),a=new $t(n,e+1);let l=Le();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new $t(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zt($t.mr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Rk(l,n,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Nr(i),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?S_:this.Fr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new $t(n,0),a=new $t(n,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new zt(Oe);return n.forEach(a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),se.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new $t(new _e(l),0);let d=new zt(Oe);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Cr)),!0)},c),se.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){We(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return se.forEach(n.mutations,a=>{const l=new $t(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new $t(n,0),a=this.Mr.firstAfterOrEqual(i);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.kr=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let i=Gi();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():fn.newInvalidDocument(a))}),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Gi();const c=n.path,d=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||zP(jP(_),i)<=0||(a.has(_.key)||Yd(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ae()}qr(e,n){return se.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new f4(this)}getSize(e){return se.resolve(this.size)}}class f4 extends i4{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),se.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.persistence=e,this.Qr=new ho(n=>x_(n),I_),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new M_,this.targetCount=0,this.Kr=Ul.Un()}forEachTarget(e,n){return this.Qr.forEach((i,a)=>n(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),se.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.zn(n),se.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=n&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),se.waitFor(l).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),se.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Gd(0),this.zr=!1,this.zr=!0,this.jr=new u4,this.referenceDelegate=e(this),this.Hr=new d4(this),this.indexManager=new Wk,this.remoteDocumentCache=function(a){return new h4(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Yk(n),this.Yr=new o4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new c4(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){fe("MemoryPersistence","Starting transaction:",e);const a=new m4(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,n){return se.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class m4 extends qP{constructor(e){super(),this.currentSequenceNumber=e}}class U_{constructor(e){this.persistence=e,this.ti=new M_,this.ni=null}static ri(e){return new U_(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),se.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.ii,i=>{const a=_e.fromPath(i);return this.si(e,a).next(l=>{l||n.removeEntry(a,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return se.or([()=>se.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ad{constructor(e,n){this.persistence=e,this.oi=new ho(i=>GP(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=r4(this,n)}static ri(e,n){return new Ad(e,n)}Zr(){}Xr(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return se.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?se.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,n).next(d=>{d||(i++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),se.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ed(e.data.value)),n}ar(e,n,i){return se.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return se.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=a}static Yi(e,n){let i=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new L_(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Q2()?8:FP(dn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.rs(e,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,n,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new p4;return this._s(e,n,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,n,c,d.size)})}).next(()=>l.result)}us(e,n,i,a){return i.documentReadCount<this.es?(ll()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),se.resolve()):(ll()<=Ue.DEBUG&&fe("QueryEngine","Query:",ul(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(ll()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):se.resolve())}rs(e,n){if(YT(n))return se.resolve(null);let i=ei(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),i=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Le(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.cs(n,d);return this.ls(n,g,c,m.readTime)?this.rs(e,yy(n,null,"F")):this.hs(e,g,n,m)}))})))}ss(e,n,i,a){return YT(n)||a.isEqual(xe.min())?se.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(n,l);return this.ls(n,c,i,a)?se.resolve(null):(ll()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ul(n)),this.hs(e,c,n,VP(a,xc)).next(d=>d))})}cs(e,n){let i=new zt(l1(e));return n.forEach((a,l)=>{Yd(e,l)&&(i=i.add(l))}),i}ls(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,n,i){return ll()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ul(n)),this.ns.getDocumentsMatchingQuery(e,n,Qs.min(),i)}hs(e,n,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="LocalStore",y4=3e8;class _4{constructor(e,n,i,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new pt(Oe),this.Is=new ho(l=>x_(l),I_),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function v4(t,e,n,i){return new _4(t,e,n,i)}async function O1(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Le();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return n.localDocuments.getDocuments(i,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function b4(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const v=g.batch,w=v.keys();let x=se.resolve();return w.forEach(N=>{x=x.next(()=>_.getEntry(m,N)).next(k=>{const O=g.docVersions.get(N);We(O!==null),k.version.compareTo(O)<0&&(v.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,v))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function D1(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function E4(t,e){const n=Ie(t),i=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const d=[];e.targetChanges.forEach((_,v)=>{const w=a.get(v);if(!w)return;d.push(n.Hr.removeMatchingKeys(l,_.removedDocuments,v).next(()=>n.Hr.addMatchingKeys(l,_.addedDocuments,v)));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(rn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),a=a.insert(v,x),function(k,O,V){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=y4?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(w,x,_)&&d.push(n.Hr.updateTargetData(l,x))});let m=Gi(),g=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(T4(l,c,e.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!i.isEqual(xe.min())){const _=n.Hr.getLastRemoteSnapshotVersion(l).next(v=>n.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return se.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(n.Ts=a,l))}function T4(t,e,n){let i=Le(),a=Le();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let c=Gi();return n.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(xe.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):fe(V_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function w4(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=S_),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function S4(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Hr.getTargetData(i,e).next(l=>l?(a=l,se.resolve(a)):n.Hr.allocateTargetId(i).next(c=>(a=new zs(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Ty(t,e,n){const i=Ie(t),a=i.Ts.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!$l(c))throw c;fe(V_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function lw(t,e,n){const i=Ie(t);let a=xe.min(),l=Le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const v=Ie(m),w=v.Is.get(_);return w!==void 0?se.resolve(v.Ts.get(w)):v.Hr.getTargetData(g,_)}(i,c,ei(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,n?a:xe.min(),n?l:Le())).next(d=>(A4(i,ck(e),d),{documents:d,gs:l})))}function A4(t,e,n){let i=t.Es.get(e)||xe.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Es.set(e,i)}class uw{constructor(){this.activeTargetIds=gk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R4{constructor(){this.ho=new uw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new uw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="ConnectivityMonitor";class hw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(cw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function wy(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="RestConnection",I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===vd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,n,i,a,l){const c=wy(),d=this.bo(e,n.toUriEncodedString());fe(zg,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,i).then(g=>(fe(zg,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Dl(zg,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,n,i,a,l,c){return this.So(e,n,i,a,l)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,n){const i=I4[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class O4 extends C4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,a){const l=wy();return new Promise((c,d)=>{const m=new UA;m.setWithCredentials(!0),m.listenOnce(LA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Zf.NO_ERROR:const _=m.getResponseJson();fe(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case Zf.TIMEOUT:fe(ln,`RPC '${e}' ${l} timed out`),d(new me(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const v=m.getStatus();if(fe(ln,`RPC '${e}' ${l} failed with status:`,v,"response text:",m.getResponseText()),v>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const N=function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(V)>=0?V:ae.UNKNOWN}(x.status);d(new me(N,x.message))}else d(new me(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new me(ae.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{fe(ln,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);fe(ln,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",g,i,15)})}Wo(e,n,i){const a=wy(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zA(),d=jA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const _=l.join("");fe(ln,`Creating RPC '${e}' stream ${a}: ${_}`,m);const v=c.createWebChannel(_,m);let w=!1,x=!1;const N=new N4({Fo:O=>{x?fe(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(w||(fe(ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),fe(ln,`RPC '${e}' stream ${a} sending:`,O),v.send(O))},Mo:()=>v.close()}),k=(O,V,G)=>{O.listen(V,P=>{try{G(P)}catch(F){setTimeout(()=>{throw F},0)}})};return k(v,fc.EventType.OPEN,()=>{x||(fe(ln,`RPC '${e}' stream ${a} transport opened.`),N.Qo())}),k(v,fc.EventType.CLOSE,()=>{x||(x=!0,fe(ln,`RPC '${e}' stream ${a} transport closed`),N.Uo())}),k(v,fc.EventType.ERROR,O=>{x||(x=!0,Dl(ln,`RPC '${e}' stream ${a} transport errored:`,O),N.Uo(new me(ae.UNAVAILABLE,"The operation could not be completed")))}),k(v,fc.EventType.MESSAGE,O=>{var V;if(!x){const G=O.data[0];We(!!G);const P=G,F=(P==null?void 0:P.error)||((V=P[0])===null||V===void 0?void 0:V.error);if(F){fe(ln,`RPC '${e}' stream ${a} received error:`,F);const J=F.status;let re=function(C){const L=Ot[C];if(L!==void 0)return v1(L)}(J),I=F.message;re===void 0&&(re=ae.INTERNAL,I="Unknown error status: "+J+" with message "+F.message),x=!0,N.Uo(new me(re,I)),v.close()}else fe(ln,`RPC '${e}' stream ${a} received:`,G),N.Ko(G)}}),k(d,VA.STAT_EVENT,O=>{O.stat===cy.PROXY?fe(ln,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===cy.NOPROXY&&fe(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Bg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new Mk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="PersistentStream";class k1{constructor(e,n,i,a,l,c,d,m){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new P1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Hi(n.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===n&&this.V_(i,a)},i=>{e(()=>{const a=new me(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(fe(fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D4 extends k1{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Vk(this.serializer,e),i=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?ti(c.readTime):xe.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Ey(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=py(m)?{documents:Bk(l,m)}:{query:qk(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=T1(l,c.resumeToken);const g=_y(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(xe.min())>0){d.readTime=Sd(l,c.snapshotVersion.toTimestamp());const g=_y(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=Hk(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.I_(n)}}class P4 extends k1{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=zk(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Ey(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>jk(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{}class M4 extends k4{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,vy(n,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ae.UNKNOWN,l.toString())})}Co(e,n,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,vy(n,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(ae.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class U4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(n),this.N_=!1):fe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class L4{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{fo(this)&&(fe(ro,"Restarting streams for network reachability change."),await async function(m){const g=Ie(m);g.W_.add(4),await th(g),g.j_.set("Unknown"),g.W_.delete(4),await em(g)}(this))})}),this.j_=new U4(i,a)}}async function em(t){if(fo(t))for(const e of t.G_)await e(!0)}async function th(t){for(const e of t.G_)await e(!1)}function M1(t,e){const n=Ie(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),q_(n)?B_(n):Kl(n).c_()&&z_(n,e))}function j_(t,e){const n=Ie(t),i=Kl(n);n.K_.delete(e),i.c_()&&U1(n,e),n.K_.size===0&&(i.c_()?i.P_():fo(n)&&n.j_.set("Unknown"))}function z_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Kl(t).y_(e)}function U1(t,e){t.H_.Ne(e),Kl(t).w_(e)}function B_(t){t.H_=new Ok({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Kl(t).start(),t.j_.B_()}function q_(t){return fo(t)&&!Kl(t).u_()&&t.K_.size>0}function fo(t){return Ie(t).W_.size===0}function L1(t){t.H_=void 0}async function V4(t){t.j_.set("Online")}async function j4(t){t.K_.forEach((e,n)=>{z_(t,e)})}async function z4(t,e){L1(t),q_(t)?(t.j_.q_(e),B_(t)):t.j_.set("Unknown")}async function B4(t,e,n){if(t.j_.set("Online"),e instanceof E1&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(t,e)}catch(i){fe(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Rd(t,i)}else if(e instanceof rd?t.H_.We(e):e instanceof b1?t.H_.Ze(e):t.H_.je(e),!n.isEqual(xe.min()))try{const i=await D1(t.localStore);n.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.K_.get(g);_&&l.K_.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.K_.get(m);if(!_)return;l.K_.set(m,_.withResumeToken(rn.EMPTY_BYTE_STRING,_.snapshotVersion)),U1(l,m);const v=new zs(_.target,m,g,_.sequenceNumber);z_(l,v)}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(i){fe(ro,"Failed to raise snapshot:",i),await Rd(t,i)}}async function Rd(t,e,n){if(!$l(e))throw e;t.W_.add(1),await th(t),t.j_.set("Offline"),n||(n=()=>D1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe(ro,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await em(t)})}function V1(t,e){return e().catch(n=>Rd(t,n,e))}async function tm(t){const e=Ie(t),n=Xs(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:S_;for(;q4(e);)try{const a=await w4(e.localStore,i);if(a===null){e.U_.length===0&&n.P_();break}i=a.batchId,F4(e,a)}catch(a){await Rd(e,a)}j1(e)&&z1(e)}function q4(t){return fo(t)&&t.U_.length<10}function F4(t,e){t.U_.push(e);const n=Xs(t);n.c_()&&n.S_&&n.b_(e.mutations)}function j1(t){return fo(t)&&!Xs(t).u_()&&t.U_.length>0}function z1(t){Xs(t).start()}async function H4(t){Xs(t).C_()}async function G4(t){const e=Xs(t);for(const n of t.U_)e.b_(n.mutations)}async function Q4(t,e,n){const i=t.U_.shift(),a=D_.from(i,e,n);await V1(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await tm(t)}async function $4(t,e){e&&Xs(t).S_&&await async function(i,a){if(function(c){return Ck(c)&&c!==ae.ABORTED}(a.code)){const l=i.U_.shift();Xs(i).h_(),await V1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await tm(i)}}(t,e),j1(t)&&z1(t)}async function dw(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),fe(ro,"RemoteStore received new credentials");const i=fo(n);n.W_.add(3),await th(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await em(n)}async function K4(t,e){const n=Ie(t);e?(n.W_.delete(2),await em(n)):e||(n.W_.add(2),await th(n),n.j_.set("Unknown"))}function Kl(t){return t.J_||(t.J_=function(n,i,a){const l=Ie(n);return l.M_(),new D4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:V4.bind(null,t),No:j4.bind(null,t),Lo:z4.bind(null,t),p_:B4.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),q_(t)?B_(t):t.j_.set("Unknown")):(await t.J_.stop(),L1(t))})),t.J_}function Xs(t){return t.Y_||(t.Y_=function(n,i,a){const l=Ie(n);return l.M_(),new P4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:H4.bind(null,t),Lo:$4.bind(null,t),D_:G4.bind(null,t),v_:Q4.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await tm(t)):(await t.Y_.stop(),t.U_.length>0&&(fe(ro,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,d=new F_(e,n,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H_(t,e){if(Hi("AsyncQueue",`${e}: ${t}`),$l(t))return new me(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=dc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new gl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.Z_=new pt(_e.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ll{constructor(e,n,i,a,l,c,d,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Ll(e,n,gl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class X4{constructor(){this.queries=pw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const a=Ie(n),l=a.queries;a.queries=pw(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new me(ae.ABORTED,"Firestore shutting down"))}}function pw(){return new ho(t=>o1(t),Kd)}async function B1(t,e){const n=Ie(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new Y4,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await n.onListen(a,!0);break;case 1:l.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=H_(c,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.ta.push(e),e.sa(n.onlineState),l.ea&&e.oa(l.ea)&&G_(n)}async function q1(t,e){const n=Ie(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function W4(t,e){const n=Ie(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&G_(n)}function J4(t,e,n){const i=Ie(t),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(n);i.queries.delete(e)}function G_(t){t.ia.forEach(e=>{e.next()})}var Sy,gw;(gw=Sy||(Sy={}))._a="default",gw.Cache="cache";class F1{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Ll(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.key=e}}class G1{constructor(e){this.key=e}}class Z4{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=l1(e),this.wa=new gl(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new mw,a=n?n.wa:this.wa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,v)=>{const w=a.get(_),x=Yd(this.query,v)?v:null,N=!!w&&this.mutatedKeys.has(w.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;w&&x?w.data.isEqual(x.data)?N!==k&&(i.track({type:3,doc:x}),O=!0):this.va(w,x)||(i.track({type:2,doc:x}),O=!0,(m&&this.ya(x,m)>0||g&&this.ya(x,g)<0)&&(d=!0)):!w&&x?(i.track({type:0,doc:x}),O=!0):w&&!x&&(i.track({type:1,doc:w}),O=!0,(m||g)&&(d=!0)),O&&(x?(c=c.add(x),l=k?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,v)=>function(x,N){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return k(x)-k(N)}(_.type,v.type)||this.ya(_.doc,v.doc)),this.Ca(i),a=a!=null&&a;const d=n&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new Ll(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new G1(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new H1(i))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ll.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Q_="SyncEngine";class eM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class tM{constructor(e){this.key=e,this.Ba=!1}}class nM{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ho(d=>o1(d),Kd),this.qa=new Map,this.Qa=new Set,this.$a=new pt(_e.comparator),this.Ua=new Map,this.Ka=new M_,this.Wa={},this.Ga=new Map,this.za=Ul.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function rM(t,e,n=!0){const i=W1(t);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await Q1(i,e,n,!0),a}async function iM(t,e){const n=W1(t);await Q1(n,e,!0,!1)}async function Q1(t,e,n,i){const a=await S4(t.localStore,ei(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return i&&(d=await sM(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&M1(t.remoteStore,a),d}async function sM(t,e,n,i,a){t.Ha=(v,w,x)=>async function(k,O,V,G){let P=O.view.ba(V);P.ls&&(P=await lw(k.localStore,O.query,!1).then(({documents:I})=>O.view.ba(I,P)));const F=G&&G.targetChanges.get(O.targetId),J=G&&G.targetMismatches.get(O.targetId)!=null,re=O.view.applyChanges(P,k.isPrimaryClient,F,J);return _w(k,O.targetId,re.Ma),re.snapshot}(t,v,w,x);const l=await lw(t.localStore,e,!0),c=new Z4(e,l.gs),d=c.ba(l.documents),m=eh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(d,t.isPrimaryClient,m);_w(t,n,g.Ma);const _=new eM(e,n,c);return t.ka.set(e,_),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),g.snapshot}async function aM(t,e,n){const i=Ie(t),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!Kd(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ty(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&j_(i.remoteStore,a.targetId),Ay(i,a.targetId)}).catch(Ql)):(Ay(i,a.targetId),await Ty(i.localStore,a.targetId,!0))}async function oM(t,e){const n=Ie(t),i=n.ka.get(e),a=n.qa.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),j_(n.remoteStore,i.targetId))}async function lM(t,e,n){const i=pM(t);try{const a=await function(c,d){const m=Ie(c),g=jt.now(),_=d.reduce((x,N)=>x.add(N.key),Le());let v,w;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let N=Gi(),k=Le();return m.ds.getEntries(x,_).next(O=>{N=O,N.forEach((V,G)=>{G.isValidDocument()||(k=k.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,N)).next(O=>{v=O;const V=[];for(const G of d){const P=Sk(G,v.get(G.key).overlayedDocument);P!=null&&V.push(new ta(G.key,P,ZA(P.value.mapValue),sr.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,V,d)}).next(O=>{w=O;const V=O.applyToLocalDocumentSet(v,k);return m.documentOverlayCache.saveOverlays(x,O.batchId,V)})}).then(()=>({batchId:w.batchId,changes:c1(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new pt(Oe)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,n),await nh(i,a.changes),await tm(i.remoteStore)}catch(a){const l=H_(a,"Failed to persist write");n.reject(l)}}async function $1(t,e){const n=Ie(t);try{const i=await E4(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.Ua.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?We(c.Ba):a.removedDocuments.size>0&&(We(c.Ba),c.Ba=!1))}),await nh(n,i,e)}catch(i){await Ql(i)}}function yw(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ie(c);m.onlineState=d;let g=!1;m.queries.forEach((_,v)=>{for(const w of v.ta)w.sa(d)&&(g=!0)}),g&&G_(m)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uM(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Ua.get(e),l=a&&a.key;if(l){let c=new pt(_e.comparator);c=c.insert(l,fn.newNoDocument(l,xe.min()));const d=Le().add(l),m=new Jd(xe.min(),new Map,new pt(Oe),c,d);await $1(i,m),i.$a=i.$a.remove(l),i.Ua.delete(e),$_(i)}else await Ty(i.localStore,e,!1).then(()=>Ay(i,e,n)).catch(Ql)}async function cM(t,e){const n=Ie(t),i=e.batch.batchId;try{const a=await b4(n.localStore,e);Y1(n,i,null),K1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nh(n,a)}catch(a){await Ql(a)}}async function hM(t,e,n){const i=Ie(t);try{const a=await function(c,d){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(v=>(We(v!==null),_=v.keys(),m.mutationQueue.removeMutationBatch(g,v))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(i.localStore,e);Y1(i,e,n),K1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nh(i,a)}catch(a){await Ql(a)}}function K1(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Y1(t,e,n){const i=Ie(t);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||X1(t,i)})}function X1(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(j_(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),$_(t))}function _w(t,e,n){for(const i of n)i instanceof H1?(t.Ka.addReference(i.key,e),fM(t,i)):i instanceof G1?(fe(Q_,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||X1(t,i.key)):Ae()}function fM(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(fe(Q_,"New document in limbo: "+n),t.Qa.add(i),$_(t))}function $_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new _e(ut.fromString(e)),i=t.za.next();t.Ua.set(i,new tM(n)),t.$a=t.$a.insert(n,i),M1(t.remoteStore,new zs(ei(C_(n.path)),i,"TargetPurposeLimboResolution",Gd.ae))}}async function nh(t,e,n){const i=Ie(t),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,n).then(g=>{var _;if((g||n)&&i.isPrimaryClient){const v=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=L_.Yi(m.targetId,g);l.push(v)}}))}),await Promise.all(c),i.La.p_(a),await async function(m,g){const _=Ie(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>se.forEach(g,w=>se.forEach(w.Hi,x=>_.persistence.referenceDelegate.addReference(v,w.targetId,x)).next(()=>se.forEach(w.Ji,x=>_.persistence.referenceDelegate.removeReference(v,w.targetId,x)))))}catch(v){if(!$l(v))throw v;fe(V_,"Failed to update sequence numbers: "+v)}for(const v of g){const w=v.targetId;if(!v.fromCache){const x=_.Ts.get(w),N=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(N);_.Ts=_.Ts.insert(w,k)}}}(i.localStore,l))}async function dM(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){fe(Q_,"User change. New user:",e.toKey());const i=await O1(n.localStore,e);n.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new me(ae.CANCELLED,c))})}),l.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nh(n,i.Rs)}}function mM(t,e){const n=Ie(t),i=n.Ua.get(e);if(i&&i.Ba)return Le().add(i.key);{let a=Le();const l=n.qa.get(e);if(!l)return a;for(const c of l){const d=n.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function W1(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uM.bind(null,e),e.La.p_=W4.bind(null,e.eventManager),e.La.Ja=J4.bind(null,e.eventManager),e}function pM(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hM.bind(null,e),e}class xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return v4(this.persistence,new g4,e.initialUser,this.serializer)}Xa(e){return new N1(U_.ri,this.serializer)}Za(e){return new R4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xd.provider={build:()=>new xd};class gM extends xd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){We(this.persistence.referenceDelegate instanceof Ad);const i=this.persistence.referenceDelegate.garbageCollector;return new t4(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new N1(i=>Ad.ri(i,n),this.serializer)}}class Ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dM.bind(null,this.syncEngine),await K4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X4}()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),i=function(l){return new O4(l)}(e.databaseInfo);return function(l,c,d,m){return new M4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,c,d){return new L4(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>yw(this.syncEngine,n,0),function(){return hw.D()?new hw:new x4}())}createSyncEngine(e,n){return function(a,l,c,d,m,g,_){const v=new nM(a,l,c,d,m,g);return _&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Ie(a);fe(ro,"RemoteStore shutting down."),l.W_.add(5),await th(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class yM{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=FA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(Ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(Ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=H_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await O1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _M(t);fe(Ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>dw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>dw(e.remoteStore,a)),t._onlineComponents=e}async function _M(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ws,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new xd)}}else fe(Ws,"Using default OfflineComponentProvider"),await qg(t,new gM(void 0));return t._offlineComponents}async function Z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ws,"Using user provided OnlineComponentProvider"),await vw(t,t._uninitializedComponentsProvider._online)):(fe(Ws,"Using default OnlineComponentProvider"),await vw(t,new Ry))),t._onlineComponents}function vM(t){return Z1(t).then(e=>e.syncEngine)}async function eR(t){const e=await Z1(t),n=e.eventManager;return n.onListen=rM.bind(null,e.syncEngine),n.onUnlisten=aM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oM.bind(null,e.syncEngine),n}function bM(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new J1({next:w=>{_.su(),c.enqueueAndForget(()=>q1(l,v));const x=w.docs.has(d);!x&&w.fromCache?g.reject(new me(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&m&&m.source==="server"?g.reject(new me(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new F1(C_(d.path),_,{includeMetadataChanges:!0,Ta:!0});return B1(l,v)}(await eR(t),t.asyncQueue,e,n,i)),i.promise}function EM(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new J1({next:w=>{_.su(),c.enqueueAndForget(()=>q1(l,v)),w.fromCache&&m.source==="server"?g.reject(new me(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new F1(d,_,{includeMetadataChanges:!0,Ta:!0});return B1(l,v)}(await eR(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e,n){if(!n)throw new me(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TM(t,e,n,i){if(e===!0&&i===!0)throw new me(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ew(t){if(!_e.isDocumentKey(t))throw new me(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tw(t){if(_e.isDocumentKey(t))throw new me(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nm(t);throw new me(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firestore.googleapis.com",ww=!0;class Sw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rR,this.ssl=ww}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ww;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zk)throw new me(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new me(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new CP;switch(i.type){case"firstParty":return new PP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=bw.get(n);i&&(fe("ComponentProvider","Removing Datastore"),bw.delete(n),i.terminate())}(this),Promise.resolve()}}function wM(t,e,n,i={}){var a;const l=(t=Tr(t,rm))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l.host!==rR&&l.host!==d&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!Ja(m,c)&&(t._setSettings(m),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=hn.MOCK_USER;else{g=KS(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new me(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new hn(v)}t._authCredentials=new NP(new BA(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=class iR{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new iR(this.firestore,e,this._query)}};class Tn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Hs extends im{constructor(e,n,i){super(e,n,C_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new _e(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function Yi(t,e,...n){if(t=dt(t),nR("collection","path",e),t instanceof rm){const i=ut.fromString(e,...n);return Tw(i),new Hs(t,null,i)}{if(!(t instanceof Tn||t instanceof Hs))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return Tw(i),new Hs(t.firestore,null,i)}}function Cn(t,e,...n){if(t=dt(t),arguments.length===1&&(e=FA.newId()),nR("doc","path",e),t instanceof rm){const i=ut.fromString(e,...n);return Ew(i),new Tn(t,null,new _e(i))}{if(!(t instanceof Tn||t instanceof Hs))throw new me(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ut.fromString(e,...n));return Ew(i),new Tn(t.firestore,t instanceof Hs?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="AsyncQueue";class Rw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new P1(this,"async_queue_retry"),this.Su=()=>{const i=Bg();i&&fe(Aw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=Bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$l(e))throw e;fe(Aw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Hi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=F_.createAndSchedule(this,e,n,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class mo extends rm{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new Rw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rw(e),this._firestoreClient=void 0,await e}}}function SM(t,e){const n=typeof t=="object"?t:f_(),i=typeof t=="string"?t:vd,a=Bd(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=GS("firestore");l&&wM(a,...l)}return a}function K_(t){if(t._terminated)throw new me(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AM(t),t._firestoreClient}function AM(t){var e,n,i;const a=t._freezeSettings(),l=function(d,m,g,_){return new KP(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,tR(_.experimentalLongPollingOptions),_.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new yM(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vl(rn.fromBase64String(e))}catch(n){throw new me(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vl(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=/^__.*__$/;class xM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class sR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class W_{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new W_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Id(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(aR(this.Lu)&&RM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class IM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Zd(e)}ju(e,n,i,a=!1){return new W_({Lu:e,methodName:n,zu:i,path:nn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new IM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oR(t,e,n,i,a,l={}){const c=t.ju(l.merge||l.mergeFields?2:0,e,n,a);Z_("Data must be an object, but it was:",c,i);const d=lR(i,c);let m,g;if(l.merge)m=new zn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const w=xy(e,v,n);if(!c.contains(w))throw new me(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cR(_,w)||_.push(w)}m=new zn(_),g=c.fieldTransforms.filter(v=>m.covers(v.field))}else m=null,g=c.fieldTransforms;return new xM(new In(d),m,g)}class lm extends am{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}class J_ extends am{_toFieldTransform(e){return new bk(e.path,new Oc)}isEqual(e){return e instanceof J_}}function CM(t,e,n,i){const a=t.ju(1,e,n);Z_("Data must be an object, but it was:",a,i);const l=[],c=In.empty();ea(i,(m,g)=>{const _=ev(e,m,n);g=dt(g);const v=a.Uu(_);if(g instanceof lm)l.push(_);else{const w=rh(g,v);w!=null&&(l.push(_),c.set(_,w))}});const d=new zn(l);return new sR(c,d,a.fieldTransforms)}function NM(t,e,n,i,a,l){const c=t.ju(1,e,n),d=[xy(e,i,n)],m=[a];if(l.length%2!=0)throw new me(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(xy(e,l[w])),m.push(l[w+1]);const g=[],_=In.empty();for(let w=d.length-1;w>=0;--w)if(!cR(g,d[w])){const x=d[w];let N=m[w];N=dt(N);const k=c.Uu(x);if(N instanceof lm)g.push(x);else{const O=rh(N,k);O!=null&&(g.push(x),_.set(x,O))}}const v=new zn(g);return new sR(_,v,c.fieldTransforms)}function OM(t,e,n,i=!1){return rh(n,t.ju(i?4:3,e))}function rh(t,e){if(uR(t=dt(t)))return Z_("Unsupported field value:",e,t),lR(t,e);if(t instanceof am)return function(i,a){if(!aR(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=rh(d,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return yk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=jt.fromDate(i);return{timestampValue:Sd(a.serializer,l)}}if(i instanceof jt){const l=new jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Sd(a.serializer,l)}}if(i instanceof Y_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vl)return{bytesValue:T1(a.serializer,i._byteString)};if(i instanceof Tn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:k_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof X_)return function(c,d){return{mapValue:{fields:{[WA]:{stringValue:JA},[bd]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return N_(d.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${nm(i)}`)}(t,e)}function lR(t,e){const n={};return GA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(i,a)=>{const l=rh(a,e.qu(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function uR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Y_||t instanceof Vl||t instanceof Tn||t instanceof am||t instanceof X_)}function Z_(t,e,n){if(!uR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=nm(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function xy(t,e,n){if((e=dt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return ev(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const DM=new RegExp("[~\\*/\\[\\]]");function ev(t,e,n){if(e.search(DM)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new me(ae.INVALID_ARGUMENT,d+t+m)}function cR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PM extends hR{data(){return super.data()}}function tv(t,e){return typeof e=="string"?ev(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nv{}class MM extends nv{}function ih(t,e,...n){let i=[];e instanceof nv&&i.push(e),i=i.concat(n),function(l){const c=l.filter(m=>m instanceof rv).length,d=l.filter(m=>m instanceof um).length;if(c>1||c>0&&d>0)throw new me(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class um extends MM{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new um(e,n,i)}_apply(e){const n=this._parse(e);return fR(e._query,n),new im(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=om(e.firestore);return function(l,c,d,m,g,_,v){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new me(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Iw(v,_);const N=[];for(const k of v)N.push(xw(m,l,k));w={arrayValue:{values:N}}}else w=xw(m,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Iw(v,_),w=OM(d,c,v,_==="in"||_==="not-in");return Dt.create(g,_,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jl(t,e,n){const i=e,a=tv("where",t);return um._create(a,i,n)}class rv extends nv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rv(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)fR(c,m),c=gy(c,m)}(e._query,n),new im(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xw(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new me(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a1(e)&&n.indexOf("/")!==-1)throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ut.fromString(n));if(!_e.isDocumentKey(i))throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return FT(t,new _e(i))}if(n instanceof Tn)return FT(t,n._key);throw new me(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nm(n)}.`)}function Iw(t,e){if(!Array.isArray(t)||t.length===0)throw new me(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fR(t,e){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UM{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ea(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[bd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>Rt(c.doubleValue));return new X_(l)}convertGeoPoint(e){return new Y_(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=$d(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const n=$s(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ut.fromString(e);We(I1(i));const a=new Cc(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(n)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mR extends hR{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(tv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class id extends mR{data(e={}){return super.data(e)}}class LM{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new pc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new id(this._firestore,this._userDataWriter,i.key,i,new pc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new id(a._firestore,a._userDataWriter,d.doc.key,d.doc,new pc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new id(a._firestore,a._userDataWriter,d.doc.key,d.doc,new pc(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:VM(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){t=Tr(t,Tn);const e=Tr(t.firestore,mo);return bM(K_(e),t._key).then(n=>zM(e,t,n))}class pR extends UM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Yl(t){t=Tr(t,im);const e=Tr(t.firestore,mo),n=K_(e),i=new pR(e);return kM(t._query),EM(n,t._query).then(a=>new LM(e,i,t,a))}function iv(t,e,n){t=Tr(t,Tn);const i=Tr(t.firestore,mo),a=dR(t.converter,e,n);return cm(i,[oR(om(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,sr.none())])}function jM(t,e,n,...i){t=Tr(t,Tn);const a=Tr(t.firestore,mo),l=om(a);let c;return c=typeof(e=dt(e))=="string"||e instanceof sm?NM(l,"updateDoc",t._key,e,n,i):CM(l,"updateDoc",t._key,e),cm(a,[c.toMutation(t._key,sr.exists(!0))])}function gR(t){return cm(Tr(t.firestore,mo),[new O_(t._key,sr.none())])}function sv(t,e){const n=Tr(t.firestore,mo),i=Cn(t),a=dR(t.converter,e);return cm(n,[oR(om(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,sr.exists(!1))]).then(()=>i)}function cm(t,e){return function(i,a){const l=new ji;return i.asyncQueue.enqueueAndForget(async()=>lM(await vM(i),a,l)),l.promise}(K_(t),e)}function zM(t,e,n){const i=n.docs.get(e._key),a=new pR(t);return new mR(t,a,e._key,i,new pc(n.hasPendingWrites,n.fromCache),e.converter)}function hm(){return new J_("serverTimestamp")}(function(e,n=!0){(function(a){Gl=a})(uo),Za(new Gs("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new mo(new OP(i.getProvider("auth-internal")),new kP(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Wr(OT,DT,e),Wr(OT,DT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebasestorage.googleapis.com",_R="storageBucket",BM=2*60*1e3,qM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends ii{constructor(e,n,i=0){super(Fg(e),`Firebase Storage: ${n} (${Fg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function Fg(t){return"storage/"+t}function av(){const t="An unknown error occurred, please check the error payload for server response.";return new Tt(bt.UNKNOWN,t)}function FM(t){return new Tt(bt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HM(t){return new Tt(bt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(bt.UNAUTHENTICATED,t)}function QM(){return new Tt(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $M(t){return new Tt(bt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function KM(){return new Tt(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YM(){return new Tt(bt.CANCELED,"User canceled the upload/download.")}function XM(t){return new Tt(bt.INVALID_URL,"Invalid URL '"+t+"'.")}function WM(t){return new Tt(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JM(){return new Tt(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_R+"' property when initializing the app?")}function ZM(){return new Tt(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function e3(){return new Tt(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function t3(t){return new Tt(bt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Iy(t){return new Tt(bt.INVALID_ARGUMENT,t)}function vR(){return new Tt(bt.APP_DELETED,"The Firebase app was deleted.")}function n3(t){return new Tt(bt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(t,e){return new Tt(bt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function lc(t){throw new Tt(bt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(i.path==="")return i;throw WM(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(F){F.path_=decodeURIComponent(F.path)}const _="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${_}/b/${a}/o${w}`,"i"),N={bucket:1,path:3},k=n===yR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",V=new RegExp(`^https?://${k}/${a}/${O}`,"i"),P=[{regex:d,indices:m,postModify:l},{regex:x,indices:N,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let F=0;F<P.length;F++){const J=P[F],re=J.regex.exec(e);if(re){const I=re[J.indices.bucket];let A=re[J.indices.path];A||(A=""),i=new Bn(I,A),J.postModify(i);break}}if(i==null)throw XM(e);return i}}class r3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t,e,n){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function _(...O){g||(g=!0,e.apply(null,O))}function v(O){a=setTimeout(()=>{a=null,t(x,m())},O)}function w(){l&&clearTimeout(l)}function x(O,...V){if(g){w();return}if(O){w(),_.call(null,O,...V);return}if(m()||c){w(),_.call(null,O,...V);return}i<64&&(i*=2);let P;d===1?(d=2,P=0):P=(i+Math.random())*1e3,v(P)}let N=!1;function k(O){N||(N=!0,w(),!g&&(a!==null?(O||(d=2),clearTimeout(a),v(0)):O||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,k(!0)},n),k}function s3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return t!==void 0}function o3(t){return typeof t=="object"&&!Array.isArray(t)}function ov(t){return typeof t=="string"||t instanceof String}function Cw(t){return lv()&&t instanceof Blob}function lv(){return typeof Blob<"u"}function Nw(t,e,n,i){if(i<e)throw Iy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Iy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function bR(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Xa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xa||(Xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,i,a,l,c,d,m,g,_,v,w=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,N)=>{this.resolve_=x,this.reject_=N,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Bf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Xa.NO_ERROR,m=l.getStatus();if(!d||l3(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===Xa.ABORT;i(!1,new Bf(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new Bf(g,l))})},n=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());a3(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=av();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?vR():YM();c(m)}else{const m=KM();c(m)}};this.canceled_?n(!1,new Bf(!1,null,!0)):this.backoffId_=i3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bf{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function c3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function h3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function f3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function m3(t,e,n,i,a,l,c=!0){const d=bR(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return f3(g,e),c3(g,n),h3(g,l),d3(g,i),new u3(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function g3(...t){const e=p3();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(lv())return new Blob(t);throw new Tt(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function y3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){if(typeof atob>"u")throw t3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hg{constructor(e,n){this.data=e,this.contentType=n||null}}function v3(t,e){switch(t){case Xr.RAW:return new Hg(ER(e));case Xr.BASE64:case Xr.BASE64URL:return new Hg(TR(t,e));case Xr.DATA_URL:return new Hg(E3(e),T3(e))}throw av()}function ER(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=t.charCodeAt(++n);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function b3(t){let e;try{e=decodeURIComponent(t)}catch{throw wc(Xr.DATA_URL,"Malformed data URL.")}return ER(e)}function TR(t,e){switch(t){case Xr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw wc(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Xr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw wc(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_3(e)}catch(a){throw a.message.includes("polyfill")?a:wc(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}class wR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw wc(Xr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=w3(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function E3(t){const e=new wR(t);return e.base64?TR(Xr.BASE64,e.rest):b3(e.rest)}function T3(t){return new wR(t).contentType}function w3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let i=0,a="";Cw(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(Cw(this.data_)){const i=this.data_,a=y3(i,e,n);return a===null?null:new Ds(a)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(i,!0)}}static getBlob(...e){if(lv()){const n=e.map(i=>i instanceof Ds?i.data_:i);return new Ds(g3.apply(null,n))}else{const n=e.map(c=>ov(c)?v3(Xr.RAW,c).data:c.data_);let i=0;n.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Ds(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){let e;try{e=JSON.parse(t)}catch{return null}return o3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A3(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function AR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e){return e}class _n{constructor(e,n,i,a){this.server=e,this.local=n||e,this.writable=!!i,this.xform=a||R3}}let qf=null;function x3(t){return!ov(t)||t.length<2?t:AR(t)}function RR(){if(qf)return qf;const t=[];t.push(new _n("bucket")),t.push(new _n("generation")),t.push(new _n("metageneration")),t.push(new _n("name","fullPath",!0));function e(l,c){return x3(c)}const n=new _n("name");n.xform=e,t.push(n);function i(l,c){return c!==void 0?Number(c):c}const a=new _n("size");return a.xform=i,t.push(a),t.push(new _n("timeCreated")),t.push(new _n("updated")),t.push(new _n("md5Hash",null,!0)),t.push(new _n("cacheControl",null,!0)),t.push(new _n("contentDisposition",null,!0)),t.push(new _n("contentEncoding",null,!0)),t.push(new _n("contentLanguage",null,!0)),t.push(new _n("contentType",null,!0)),t.push(new _n("metadata","customMetadata",!0)),qf=t,qf}function I3(t,e){function n(){const i=t.bucket,a=t.fullPath,l=new Bn(i,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function C3(t,e,n){const i={};i.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];i[c.local]=c.xform(i,e[c.server])}return I3(i,t),i}function xR(t,e,n){const i=SR(e);return i===null?null:C3(t,i,n)}function N3(t,e,n,i){const a=SR(e);if(a===null||!ov(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const _=t.bucket,v=t.fullPath,w="/b/"+c(_)+"/o/"+c(v),x=uv(w,n,i),N=bR({alt:"media",token:g});return x+N})[0]}function O3(t,e){const n={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class IR{constructor(e,n,i,a){this.url=e,this.method=n,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){if(!t)throw av()}function D3(t,e){function n(i,a){const l=xR(t,a,e);return CR(l!==null),l}return n}function P3(t,e){function n(i,a){const l=xR(t,a,e);return CR(l!==null),N3(l,a,t.host,t._protocol)}return n}function NR(t){function e(n,i){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=QM():a=GM():n.getStatus()===402?a=HM(t.bucket):n.getStatus()===403?a=$M(t.path):a=i,a.status=n.getStatus(),a.serverResponse=i.serverResponse,a}return e}function k3(t){const e=NR(t);function n(i,a){let l=e(i,a);return i.getStatus()===404&&(l=FM(t.path)),l.serverResponse=a.serverResponse,l}return n}function M3(t,e,n){const i=e.fullServerUrl(),a=uv(i,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new IR(a,l,P3(t,n),c);return d.errorHandler=k3(e),d}function U3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function L3(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=U3(null,e)),i}function V3(t,e,n,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let P="";for(let F=0;F<2;F++)P=P+Math.random().toString().slice(2);return P}const m=d();c["Content-Type"]="multipart/related; boundary="+m;const g=L3(e,i,a),_=O3(g,n),v="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",x=Ds.getBlob(v,i,w);if(x===null)throw ZM();const N={name:g.fullPath},k=uv(l,t.host,t._protocol),O="POST",V=t.maxUploadRetryTime,G=new IR(k,O,D3(t,n),V);return G.urlParams=N,G.headers=c,G.body=x.uploadData(),G.errorHandler=NR(e),G}class j3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,a){if(this.sent_)throw lc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z3 extends j3{initXhr(){this.xhr_.responseType="text"}}function OR(){return new z3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new io(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AR(this._location.path)}get storage(){return this._service}get parent(){const e=S3(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new io(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw n3(e)}}function B3(t,e,n){t._throwIfRoot("uploadBytes");const i=V3(t.storage,t._location,RR(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(i,OR).then(a=>({metadata:a,ref:t}))}function q3(t){t._throwIfRoot("getDownloadURL");const e=M3(t.storage,t._location,RR());return t.storage.makeRequestWithTokens(e,OR).then(n=>{if(n===null)throw e3();return n})}function F3(t,e){const n=A3(t._location.path,e),i=new Bn(t._location.bucket,n);return new io(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){return/^[A-Za-z]+:\/\//.test(t)}function G3(t,e){return new io(t,e)}function DR(t,e){if(t instanceof cv){const n=t;if(n._bucket==null)throw JM();const i=new io(n,n._bucket);return e!=null?DR(i,e):i}else return e!==void 0?F3(t,e):t}function Q3(t,e){if(e&&H3(e)){if(t instanceof cv)return G3(t,e);throw Iy("To use ref(service, url), the first argument must be a Storage instance.")}else return DR(t,e)}function Ow(t,e){const n=e==null?void 0:e[_R];return n==null?null:Bn.makeFromBucketSpec(n,t)}function $3(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:KS(a,t.app.options.projectId))}class cv{constructor(e,n,i,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=yR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BM,this._maxUploadRetryTime=qM,this._requests=new Set,a!=null?this._bucket=Bn.makeFromBucketSpec(a,this._host):this._bucket=Ow(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=Ow(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new io(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new r3(vR());{const c=m3(e,this._appId,i,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const Dw="@firebase/storage",Pw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="storage";function K3(t,e,n){return t=dt(t),B3(t,e,n)}function Y3(t){return t=dt(t),q3(t)}function X3(t,e){return t=dt(t),Q3(t,e)}function W3(t=f_(),e){t=dt(t);const i=Bd(t,PR).getImmediate({identifier:e}),a=GS("storage");return a&&J3(i,...a),i}function J3(t,e,n,i={}){$3(t,e,n,i)}function Z3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new cv(n,i,a,e,uo)}function eU(){Za(new Gs(PR,Z3,"PUBLIC").setMultipleInstances(!0)),Wr(Dw,Pw,""),Wr(Dw,Pw,"esm2017")}eU();const tU={apiKey:"AIzaSyC7NsDb66GfmlCGzbMBU-S2KwQiy2vkjNI",authDomain:"freelancerbox-a7f4f.firebaseapp.com",projectId:"freelancerbox-a7f4f",storageBucket:"freelancerbox-a7f4f.appspot.com",messagingSenderId:"994204511794",appId:"1:994204511794:web:ec0cb5a9532167ce93162b",measurementId:"G-E3WGGPRGRM"},hv=WS(tU),Rr=T_(hv),Et=SM(hv),nU=W3(hv);var kR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kw=Ge.createContext&&Ge.createContext(kR),rU=["attr","size","title"];function iU(t,e){if(t==null)return{};var n=sU(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function sU(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cd.apply(this,arguments)}function Mw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mw(Object(n),!0).forEach(function(i){aU(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function aU(t,e,n){return e=oU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oU(t){var e=lU(t,"string");return typeof e=="symbol"?e:e+""}function lU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MR(t){return t&&t.map((e,n)=>Ge.createElement(e.tag,Nd({key:n},e.attr),MR(e.child)))}function Xi(t){return e=>Ge.createElement(uU,Cd({attr:Nd({},t.attr)},e),MR(t.child))}function uU(t){var e=n=>{var{attr:i,size:a,title:l}=t,c=iU(t,rU),d=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Ge.createElement("svg",Cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:m,style:Nd(Nd({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Ge.createElement("title",null,l),t.children)};return kw!==void 0?Ge.createElement(kw.Consumer,null,n=>e(n)):e(kR)}function cU(t){return Xi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6h16"},child:[]},{tag:"path",attr:{d:"M7 12h13"},child:[]},{tag:"path",attr:{d:"M10 18h10"},child:[]}]})(t)}const hU=async(t,e,n)=>{try{const a=(await uD(Rr,t,e)).user;return await hD(a),await iv(Cn(Et,"users",a.uid),{email:a.email,type:n,createdAt:hm()}),a}catch(i){throw new Error(i.message)}},fU=async(t,e)=>{try{return(await cD(Rr,t,e)).user}catch(n){throw new Error(n.message)}},UR=async()=>{try{await pD(Rr)}catch(t){console.error("Error logging out:",t.message)}},dU=t=>Xc(Rr,e=>{t(e)});var Gg={exports:{}},Qg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function mU(){if(Uw)return Qg;Uw=1;var t=Ld();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Qg.useSyncExternalStoreWithSelector=function(m,g,_,v,w){var x=a(null);if(x.current===null){var N={hasValue:!1,value:null};x.current=N}else N=x.current;x=c(function(){function O(J){if(!V){if(V=!0,G=J,J=v(J),w!==void 0&&N.hasValue){var re=N.value;if(w(re,J))return P=re}return P=J}if(re=P,n(G,J))return re;var I=v(J);return w!==void 0&&w(re,I)?(G=J,re):(G=J,P=I)}var V=!1,G,P,F=_===void 0?null:_;return[function(){return O(g())},F===null?void 0:function(){return O(F())}]},[g,_,v,w]);var k=i(m,x[0],x[1]);return l(function(){N.hasValue=!0,N.value=k},[k]),d(k),k},Qg}var Lw;function pU(){return Lw||(Lw=1,Gg.exports=mU()),Gg.exports}var gU=pU();function yU(t){t()}function _U(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yU(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!i||t===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var Vw={notify(){},get:()=>[]};function vU(t,e){let n,i=Vw,a=0,l=!1;function c(k){_();const O=i.subscribe(k);let V=!1;return()=>{V||(V=!0,O(),v())}}function d(){i.notify()}function m(){N.onStateChange&&N.onStateChange()}function g(){return l}function _(){a++,n||(n=t.subscribe(m),i=_U())}function v(){a--,n&&a===0&&(n(),n=void 0,i.clear(),i=Vw)}function w(){l||(l=!0,_())}function x(){l&&(l=!1,v())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:w,tryUnsubscribe:x,getListeners:()=>i};return N}var bU=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EU=bU(),TU=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wU=TU(),SU=()=>EU||wU?U.useLayoutEffect:U.useEffect,AU=SU(),$g=Symbol.for("react-redux-context"),Kg=typeof globalThis<"u"?globalThis:{};function RU(){if(!U.createContext)return{};const t=Kg[$g]??(Kg[$g]=new Map);let e=t.get(U.createContext);return e||(e=U.createContext(null),t.set(U.createContext,e)),e}var Js=RU();function xU(t){const{children:e,context:n,serverState:i,store:a}=t,l=U.useMemo(()=>{const m=vU(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),c=U.useMemo(()=>a.getState(),[a]);AU(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=n||Js;return U.createElement(d.Provider,{value:l},e)}var IU=xU;function fv(t=Js){return function(){return U.useContext(t)}}var LR=fv();function VR(t=Js){const e=t===Js?LR:fv(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var CU=VR();function NU(t=Js){const e=t===Js?CU:VR(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var xr=NU(),OU=(t,e)=>t===e;function DU(t=Js){const e=t===Js?LR:fv(t),n=(i,a={})=>{const{equalityFn:l=OU}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:g}=c;U.useRef(!0);const _=U.useCallback({[i.name](w){return i(w)}}[i.name],[i]),v=gU.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return U.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var wr=DU();function Zt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PU=typeof Symbol=="function"&&Symbol.observable||"@@observable",jw=PU,Yg=()=>Math.random().toString(36).substring(7).split("").join("."),kU={INIT:`@@redux/INIT${Yg()}`,REPLACE:`@@redux/REPLACE${Yg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Yg()}`},Od=kU;function dv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mv(t,e,n){if(typeof t!="function")throw new Error(Zt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(mv)(t,e)}let i=t,a=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((O,V)=>{c.set(V,O)}))}function _(){if(m)throw new Error(Zt(3));return a}function v(O){if(typeof O!="function")throw new Error(Zt(4));if(m)throw new Error(Zt(5));let V=!0;g();const G=d++;return c.set(G,O),function(){if(V){if(m)throw new Error(Zt(6));V=!1,g(),c.delete(G),l=null}}}function w(O){if(!dv(O))throw new Error(Zt(7));if(typeof O.type>"u")throw new Error(Zt(8));if(typeof O.type!="string")throw new Error(Zt(17));if(m)throw new Error(Zt(9));try{m=!0,a=i(a,O)}finally{m=!1}return(l=c).forEach(G=>{G()}),O}function x(O){if(typeof O!="function")throw new Error(Zt(10));i=O,w({type:Od.REPLACE})}function N(){const O=v;return{subscribe(V){if(typeof V!="object"||V===null)throw new Error(Zt(11));function G(){const F=V;F.next&&F.next(_())}return G(),{unsubscribe:O(G)}},[jw](){return this}}}return w({type:Od.INIT}),{dispatch:w,subscribe:v,getState:_,replaceReducer:x,[jw]:N}}function MU(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Od.INIT})>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:Od.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function jR(t){const e=Object.keys(t),n={};for(let l=0;l<e.length;l++){const c=e[l];typeof t[c]=="function"&&(n[c]=t[c])}const i=Object.keys(n);let a;try{MU(n)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const g={};for(let _=0;_<i.length;_++){const v=i[_],w=n[v],x=c[v],N=w(x,d);if(typeof N>"u")throw d&&d.type,new Error(Zt(14));g[v]=N,m=m||N!==x}return m=m||i.length!==Object.keys(c).length,m?g:c}}function Dd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function UU(...t){return e=>(n,i)=>{const a=e(n,i);let l=()=>{throw new Error(Zt(15))};const c={getState:a.getState,dispatch:(m,...g)=>l(m,...g)},d=t.map(m=>m(c));return l=Dd(...d)(a.dispatch),{...a,dispatch:l}}}function LU(t){return dv(t)&&"type"in t&&typeof t.type=="string"}var zR=Symbol.for("immer-nothing"),zw=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function yr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zl=Object.getPrototypeOf;function so(t){return!!t&&!!t[qn]}function Qi(t){var e;return t?BR(t)||Array.isArray(t)||!!t[zw]||!!((e=t.constructor)!=null&&e[zw])||dm(t)||mm(t):!1}var VU=Object.prototype.constructor.toString();function BR(t){if(!t||typeof t!="object")return!1;const e=zl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===VU}function Pd(t,e){fm(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function fm(t){const e=t[qn];return e?e.type_:Array.isArray(t)?1:dm(t)?2:mm(t)?3:0}function Cy(t,e){return fm(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qR(t,e,n){const i=fm(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function jU(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dm(t){return t instanceof Map}function mm(t){return t instanceof Set}function za(t){return t.copy_||t.base_}function Ny(t,e){if(dm(t))return new Map(t);if(mm(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=BR(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[qn];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[c]})}return Object.create(zl(t),i)}else{const i=zl(t);if(i!==null&&n)return{...t};const a=Object.create(i);return Object.assign(a,t)}}function pv(t,e=!1){return pm(t)||so(t)||!Qi(t)||(fm(t)>1&&(t.set=t.add=t.clear=t.delete=zU),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>pv(i,!0))),t}function zU(){yr(2)}function pm(t){return Object.isFrozen(t)}var BU={};function ao(t){const e=BU[t];return e||yr(0,t),e}var kc;function FR(){return kc}function qU(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bw(t,e){e&&(ao("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Oy(t){Dy(t),t.drafts_.forEach(FU),t.drafts_=null}function Dy(t){t===kc&&(kc=t.parent_)}function qw(t){return kc=qU(kc,t)}function FU(t){const e=t[qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Fw(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qn].modified_&&(Oy(e),yr(4)),Qi(t)&&(t=kd(e,t),e.parent_||Md(e,t)),e.patches_&&ao("Patches").generateReplacementPatches_(n[qn].base_,t,e.patches_,e.inversePatches_)):t=kd(e,n,[]),Oy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==zR?t:void 0}function kd(t,e,n){if(pm(e))return e;const i=e[qn];if(!i)return Pd(e,(a,l)=>Hw(t,i,e,a,l,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Md(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),Pd(l,(d,m)=>Hw(t,i,a,d,m,n,c)),Md(t,a,!1),n&&t.patches_&&ao("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function Hw(t,e,n,i,a,l,c){if(so(a)){const d=l&&e&&e.type_!==3&&!Cy(e.assigned_,i)?l.concat(i):void 0,m=kd(t,a,d);if(qR(n,i,m),so(m))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Qi(a)&&!pm(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;kd(t,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Md(t,a)}}function Md(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pv(e,n)}function HU(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:FR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=gv;n&&(a=[i],l=Mc);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return i.draft_=d,i.revoke_=c,d}var gv={get(t,e){if(e===qn)return t;const n=za(t);if(!Cy(n,e))return GU(t,n,e);const i=n[e];return t.finalized_||!Qi(i)?i:i===Xg(t.base_,e)?(Wg(t),t.copy_[e]=ky(i,t)):i},has(t,e){return e in za(t)},ownKeys(t){return Reflect.ownKeys(za(t))},set(t,e,n){const i=HR(za(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const a=Xg(za(t),e),l=a==null?void 0:a[qn];if(l&&l.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(jU(n,a)&&(n!==void 0||Cy(t.base_,e)))return!0;Wg(t),Py(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Xg(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Wg(t),Py(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=za(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){yr(11)},getPrototypeOf(t){return zl(t.base_)},setPrototypeOf(){yr(12)}},Mc={};Pd(gv,(t,e)=>{Mc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mc.deleteProperty=function(t,e){return Mc.set.call(this,t,e,void 0)};Mc.set=function(t,e,n){return gv.set.call(this,t[0],e,n,t[0])};function Xg(t,e){const n=t[qn];return(n?za(n):t)[e]}function GU(t,e,n){var a;const i=HR(e,n);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(t.draft_):void 0}function HR(t,e){if(!(e in t))return;let n=zl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=zl(n)}}function Py(t){t.modified_||(t.modified_=!0,t.parent_&&Py(t.parent_))}function Wg(t){t.copy_||(t.copy_=Ny(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var QU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const l=n;n=e;const c=this;return function(m=l,...g){return c.produce(m,_=>n.call(this,_,...g))}}typeof n!="function"&&yr(6),i!==void 0&&typeof i!="function"&&yr(7);let a;if(Qi(e)){const l=qw(this),c=ky(e,void 0);let d=!0;try{a=n(c),d=!1}finally{d?Oy(l):Dy(l)}return Bw(l,i),Fw(a,l)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===zR&&(a=void 0),this.autoFreeze_&&pv(a,!0),i){const l=[],c=[];ao("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else yr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let i,a;return[this.produce(e,n,(c,d)=>{i=c,a=d}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qi(t)||yr(8),so(t)&&(t=$U(t));const e=qw(this),n=ky(t,void 0);return n[qn].isManual_=!0,Dy(e),n}finishDraft(t,e){const n=t&&t[qn];(!n||!n.isManual_)&&yr(9);const{scope_:i}=n;return Bw(i,e),Fw(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const i=ao("Patches").applyPatches_;return so(t)?i(t,e):this.produce(t,a=>i(a,e))}};function ky(t,e){const n=dm(t)?ao("MapSet").proxyMap_(t,e):mm(t)?ao("MapSet").proxySet_(t,e):HU(t,e);return(e?e.scope_:FR()).drafts_.push(n),n}function $U(t){return so(t)||yr(10,t),GR(t)}function GR(t){if(!Qi(t)||pm(t))return t;const e=t[qn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Ny(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Ny(t,!0);return Pd(n,(i,a)=>{qR(n,i,GR(a))}),e&&(e.finalized_=!1),n}var Fn=new QU,QR=Fn.produce;Fn.produceWithPatches.bind(Fn);Fn.setAutoFreeze.bind(Fn);Fn.setUseStrictShallowCopy.bind(Fn);Fn.applyPatches.bind(Fn);Fn.createDraft.bind(Fn);Fn.finishDraft.bind(Fn);function $R(t){return({dispatch:n,getState:i})=>a=>l=>typeof l=="function"?l(n,i,t):a(l)}var KU=$R(),YU=$R,XU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dd:Dd.apply(null,arguments)};function Gw(t,e){function n(...i){if(e){let a=e(...i);if(!a)throw new Error(zi(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>LU(i)&&i.type===t,n}var KR=class gc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gc.prototype)}static get[Symbol.species](){return gc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gc(...e[0].concat(this)):new gc(...e.concat(this))}};function Qw(t){return Qi(t)?QR(t,()=>{}):t}function $w(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function WU(t){return typeof t=="boolean"}var JU=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new KR;return n&&(WU(n)?c.push(KU):c.push(YU(n.extraArgument))),c},ZU="RTK_autoBatch",Kw=t=>e=>{setTimeout(e,t)},eL=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let a=!0,l=!1,c=!1;const d=new Set,m=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Kw(10):t.type==="callback"?t.queueNotification:Kw(t.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},i,{subscribe(_){const v=()=>a&&_(),w=i.subscribe(v);return d.add(_),()=>{w(),d.delete(_)}},dispatch(_){var v;try{return a=!((v=_==null?void 0:_.meta)!=null&&v[ZU]),l=!a,l&&(c||(c=!0,m(g))),i.dispatch(_)}finally{a=!0}}})},tL=t=>function(n){const{autoBatch:i=!0}=n??{};let a=new KR(t);return i&&a.push(eL(typeof i=="object"?i:void 0)),a};function nL(t){const e=JU(),{reducer:n=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=t||{};let d;if(typeof n=="function")d=n;else if(dv(n))d=jR(n);else throw new Error(zi(1));let m;typeof i=="function"?m=i(e):m=e();let g=Dd;a&&(g=XU({trace:!1,...typeof a=="object"&&a}));const _=UU(...m),v=tL(_);let w=typeof c=="function"?c(v):v();const x=g(...w);return mv(d,l,x)}function YR(t){const e={},n=[];let i;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(zi(28));if(d in e)throw new Error(zi(29));return e[d]=c,a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return t(a),[e,n,i]}function rL(t){return typeof t=="function"}function iL(t,e){let[n,i,a]=YR(e),l;if(rL(t))l=()=>Qw(t());else{const d=Qw(t);l=()=>d}function c(d=l(),m){let g=[n[m.type],...i.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[a]),g.reduce((_,v)=>{if(v)if(so(_)){const x=v(_,m);return x===void 0?_:x}else{if(Qi(_))return QR(_,w=>v(w,m));{const w=v(_,m);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},d)}return c.getInitialState=l,c}var sL=Symbol.for("rtk-slice-createasyncthunk");function aL(t,e){return`${t}/${e}`}function oL({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[sL];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(zi(11));const d=(typeof a.reducers=="function"?a.reducers(uL()):a.reducers)||{},m=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(P,F){const J=typeof P=="string"?P:P.type;if(!J)throw new Error(zi(12));if(J in g.sliceCaseReducersByType)throw new Error(zi(13));return g.sliceCaseReducersByType[J]=F,_},addMatcher(P,F){return g.sliceMatchers.push({matcher:P,reducer:F}),_},exposeAction(P,F){return g.actionCreators[P]=F,_},exposeCaseReducer(P,F){return g.sliceCaseReducersByName[P]=F,_}};m.forEach(P=>{const F=d[P],J={reducerName:P,type:aL(l,P),createNotation:typeof a.reducers=="function"};hL(F)?dL(J,F,_,e):cL(J,F,_)});function v(){const[P={},F=[],J=void 0]=typeof a.extraReducers=="function"?YR(a.extraReducers):[a.extraReducers],re={...P,...g.sliceCaseReducersByType};return iL(a.initialState,I=>{for(let A in re)I.addCase(A,re[A]);for(let A of g.sliceMatchers)I.addMatcher(A.matcher,A.reducer);for(let A of F)I.addMatcher(A.matcher,A.reducer);J&&I.addDefaultCase(J)})}const w=P=>P,x=new Map;let N;function k(P,F){return N||(N=v()),N(P,F)}function O(){return N||(N=v()),N.getInitialState()}function V(P,F=!1){function J(I){let A=I[P];return typeof A>"u"&&F&&(A=O()),A}function re(I=w){const A=$w(x,F,()=>new WeakMap);return $w(A,I,()=>{const C={};for(const[L,j]of Object.entries(a.selectors??{}))C[L]=lL(j,I,O,F);return C})}return{reducerPath:P,getSelectors:re,get selectors(){return re(J)},selectSlice:J}}const G={name:l,reducer:k,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:O,...V(c),injectInto(P,{reducerPath:F,...J}={}){const re=F??c;return P.inject({reducerPath:re,reducer:k},J),{...G,...V(re,!0)}}};return G}}function lL(t,e,n,i){function a(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=n()),t(d,...c)}return a.unwrapped=t,a}var gm=oL();function uL(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function cL({type:t,reducerName:e,createNotation:n},i,a){let l,c;if("reducer"in i){if(n&&!fL(i))throw new Error(zi(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(t,l).exposeCaseReducer(e,l).exposeAction(e,c?Gw(t,c):Gw(t))}function hL(t){return t._reducerDefinitionType==="asyncThunk"}function fL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function dL({type:t,reducerName:e},n,i,a){if(!a)throw new Error(zi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=n,v=a(t,l,_);i.exposeAction(e,v),c&&i.addCase(v.fulfilled,c),d&&i.addCase(v.pending,d),m&&i.addCase(v.rejected,m),g&&i.addMatcher(v.settled,g),i.exposeCaseReducer(e,{fulfilled:c||Ff,pending:d||Ff,rejected:m||Ff,settled:g||Ff})}function Ff(){}function zi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const mL={showMenu:!1},XR=gm({name:"menu",initialState:mL,reducers:{toggleMenu:t=>{t.showMenu=!t.showMenu},closeMenu:t=>{t.showMenu=!1}}}),{toggleMenu:pL,closeMenu:WR}=XR.actions,gL=XR.reducer;function yL(t){return Xi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function _L(t){return Xi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function vL(t){return Xi({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function bL(t){return Xi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function JR(t){return Xi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"},child:[]}]})(t)}function EL(t){return Xi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(t)}function TL(t){return Xi({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"},child:[]}]})(t)}const wL=()=>{const{showMenu:t}=wr(m=>m.menu),e=xr(),[n,i]=U.useState(null),a=ri();U.useEffect(()=>{const m=dU(g=>{i(g)});return()=>m()},[]);const l=()=>{e(pL())},c=()=>{e(WR())},d=async()=>{await UR(),persistor.purge(),a("/login")};return T.jsx("header",{className:"w-full py-4 bg-[#4F46E5] text-white px-6 shadow-md",children:T.jsxs("nav",{className:"max-w-[1300px] mx-auto flex items-center justify-between",children:[T.jsx("div",{className:"logo",children:T.jsx(pr,{to:"/",children:T.jsx("h1",{className:"text-2xl font-bold text-[#F8FAFC]",children:"LaunchDesk"})})}),T.jsx("div",{className:"md:hidden cursor-pointer",children:T.jsx(cU,{onClick:l,size:28})}),T.jsx("ul",{className:`absolute md:static top-full left-0 w-full md:w-auto bg-[#4F46E5] md:bg-transparent px-6 py-4 md:p-0 flex flex-col md:flex-row items-start md:items-center gap-4 md:gap-8 transition-all duration-300 ${t?"mobileMenu":"webMenu"}`,children:n?T.jsxs(T.Fragment,{children:[T.jsx("li",{children:T.jsx(pr,{to:"/",className:"hover:text-[#E11D48]",children:"Home"})}),T.jsx("li",{children:T.jsx(pr,{to:"/about",className:"hover:text-[#E11D48]",children:"About"})}),T.jsx("li",{children:T.jsx(pr,{to:"/profile",children:T.jsx(EL,{})})}),T.jsx("li",{children:T.jsx(pr,{to:"/savedjobs",children:T.jsx(JR,{})})}),T.jsx("li",{children:T.jsx("button",{onClick:d,children:"Log Out"})})]}):T.jsxs(T.Fragment,{children:[T.jsx("li",{children:T.jsx(pr,{onClick:c,to:"/signup",className:"block w-full text-center py-3 rounded-md text-white hover:bg-red-600 hover:text-white transition-colors duration-300",children:"Sign Up"})}),T.jsx("li",{children:T.jsx(pr,{onClick:c,to:"/login",className:"block w-full text-center py-3 rounded-md text-white hover:bg-red-600 hover:text-white transition-colors duration-300",children:"Login"})})]})})]})})},SL=()=>T.jsx("footer",{className:"bg-[#4F46E5] text-white mt-5 py-8",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center md:text-left",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold text-[#F8FAFC]",children:"FreelancerBox"}),T.jsx("p",{className:"text-gray-200 mt-2",children:"Empowering freelancers with the best tools and opportunities."})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC]",children:"Quick Links"}),T.jsxs("ul",{className:"mt-2 space-y-2",children:[T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"Home"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"About"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"Services"})}),T.jsx("li",{children:T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48]",children:"Contact"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC]",children:"Follow Us"}),T.jsxs("div",{className:"flex justify-center md:justify-start gap-4 mt-2",children:[T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:T.jsx(yL,{})}),T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:T.jsx(bL,{})}),T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:T.jsx(_L,{})}),T.jsx("a",{href:"#",className:"text-gray-300 hover:text-[#E11D48] text-2xl",children:T.jsx(vL,{})})]})]})]}),T.jsxs("div",{className:"border-t border-[#6366F1] mt-6 pt-4 text-center text-gray-300",children:["© ",new Date().getFullYear()," FreelancerBox. All rights reserved."]})]})}),AL=()=>T.jsxs(T.Fragment,{children:[T.jsx(wL,{}),T.jsx(WC,{}),T.jsx(SL,{})]});var sh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oo=typeof window>"u"||"Deno"in globalThis;function ir(){}function RL(t,e){return typeof t=="function"?t(e):t}function My(t){return typeof t=="number"&&t>=0&&t!==1/0}function ZR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yl(t,e){return typeof t=="function"?t(e):t}function gr(t,e){return typeof t=="function"?t(e):t}function Yw(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:d}=t;if(c){if(i){if(e.queryHash!==yv(c,e.options))return!1}else if(!Lc(e.queryKey,c))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||a&&a!==e.state.fetchStatus||l&&!l(e))}function Xw(t,e){const{exact:n,status:i,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Uc(e.options.mutationKey)!==Uc(l))return!1}else if(!Lc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function yv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Uc)(t)}function Uc(t){return JSON.stringify(t,(e,n)=>Ly(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Lc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Lc(t[n],e[n])):!1}function ex(t,e){if(t===e)return t;const n=Ww(t)&&Ww(e);if(n||Ly(t)&&Ly(e)){const i=n?t:Object.keys(t),a=i.length,l=n?e:Object.keys(e),c=l.length,d=n?[]:{};let m=0;for(let g=0;g<c;g++){const _=n?g:l[g];(!n&&i.includes(_)||n)&&t[_]===void 0&&e[_]===void 0?(d[_]=void 0,m++):(d[_]=ex(t[_],e[_]),d[_]===t[_]&&t[_]!==void 0&&m++)}return a===c&&m===a?t:d}return e}function Uy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Ww(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ly(t){if(!Jw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Jw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jw(t){return Object.prototype.toString.call(t)==="[object Object]"}function xL(t){return new Promise(e=>{setTimeout(e,t)})}function Vy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ex(t,e):e}function IL(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function CL(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var _v=Symbol();function tx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_v?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var qa,Ps,_l,yS,NL=(yS=class extends sh{constructor(){super();Se(this,qa);Se(this,Ps);Se(this,_l);de(this,_l,e=>{if(!oo&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){q(this,Ps)||this.setEventListener(q(this,_l))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ps))==null||e.call(this),de(this,Ps,void 0))}setEventListener(e){var n;de(this,_l,e),(n=q(this,Ps))==null||n.call(this),de(this,Ps,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){q(this,qa)!==e&&(de(this,qa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof q(this,qa)=="boolean"?q(this,qa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qa=new WeakMap,Ps=new WeakMap,_l=new WeakMap,yS),vv=new NL,vl,ks,bl,_S,OL=(_S=class extends sh{constructor(){super();Se(this,vl,!0);Se(this,ks);Se(this,bl);de(this,bl,e=>{if(!oo&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){q(this,ks)||this.setEventListener(q(this,bl))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,ks))==null||e.call(this),de(this,ks,void 0))}setEventListener(e){var n;de(this,bl,e),(n=q(this,ks))==null||n.call(this),de(this,ks,e(this.setOnline.bind(this)))}setOnline(e){q(this,vl)!==e&&(de(this,vl,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return q(this,vl)}},vl=new WeakMap,ks=new WeakMap,bl=new WeakMap,_S),Ud=new OL;function jy(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}function DL(t){return Math.min(1e3*2**t,3e4)}function nx(t){return(t??"online")==="online"?Ud.isOnline():!0}var rx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Jg(t){return t instanceof rx}function ix(t){let e=!1,n=0,i=!1,a;const l=jy(),c=k=>{var O;i||(w(new rx(k)),(O=t.abort)==null||O.call(t))},d=()=>{e=!0},m=()=>{e=!1},g=()=>vv.isFocused()&&(t.networkMode==="always"||Ud.isOnline())&&t.canRun(),_=()=>nx(t.networkMode)&&t.canRun(),v=k=>{var O;i||(i=!0,(O=t.onSuccess)==null||O.call(t,k),a==null||a(),l.resolve(k))},w=k=>{var O;i||(i=!0,(O=t.onError)==null||O.call(t,k),a==null||a(),l.reject(k))},x=()=>new Promise(k=>{var O;a=V=>{(i||g())&&k(V)},(O=t.onPause)==null||O.call(t)}).then(()=>{var k;a=void 0,i||(k=t.onContinue)==null||k.call(t)}),N=()=>{if(i)return;let k;const O=n===0?t.initialPromise:void 0;try{k=O??t.fn()}catch(V){k=Promise.reject(V)}Promise.resolve(k).then(v).catch(V=>{var re;if(i)return;const G=t.retry??(oo?0:3),P=t.retryDelay??DL,F=typeof P=="function"?P(n,V):P,J=G===!0||typeof G=="number"&&n<G||typeof G=="function"&&G(n,V);if(e||!J){w(V);return}n++,(re=t.onFail)==null||re.call(t,n,V),xL(F).then(()=>g()?void 0:x()).then(()=>{e?w(V):N()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:d,continueRetry:m,canStart:_,start:()=>(_()?N():x().then(N),l)}}var PL=t=>setTimeout(t,0);function kL(){let t=[],e=0,n=d=>{d()},i=d=>{d()},a=PL;const l=d=>{e?t.push(d):a(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&a(()=>{i(()=>{d.forEach(m=>{n(m)})})})};return{batch:d=>{let m;e++;try{m=d()}finally{e--,e||c()}return m},batchCalls:d=>(...m)=>{l(()=>{d(...m)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var tn=kL(),Fa,vS,sx=(vS=class{constructor(){Se(this,Fa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),My(this.gcTime)&&de(this,Fa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oo?1/0:5*60*1e3))}clearGcTimeout(){q(this,Fa)&&(clearTimeout(q(this,Fa)),de(this,Fa,void 0))}},Fa=new WeakMap,vS),El,Tl,rr,Ha,cn,jc,Ga,dr,Pi,bS,ML=(bS=class extends sx{constructor(e){super();Se(this,dr);Se(this,El);Se(this,Tl);Se(this,rr);Se(this,Ha);Se(this,cn);Se(this,jc);Se(this,Ga);de(this,Ga,!1),de(this,jc,e.defaultOptions),this.setOptions(e.options),this.observers=[],de(this,Ha,e.client),de(this,rr,q(this,Ha).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,de(this,El,UL(this.options)),this.state=e.state??q(this,El),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=q(this,cn))==null?void 0:e.promise}setOptions(e){this.options={...q(this,jc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,rr).remove(this)}setData(e,n){const i=Vy(this.state.data,e,this.options);return Ve(this,dr,Pi).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){Ve(this,dr,Pi).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,a;const n=(i=q(this,cn))==null?void 0:i.promise;return(a=q(this,cn))==null||a.cancel(e),n?n.then(ir).catch(ir):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,El))}isActive(){return this.observers.some(e=>gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_v||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ZR(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=q(this,cn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=q(this,cn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),q(this,rr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(q(this,cn)&&(q(this,Ga)?q(this,cn).cancel({revert:!0}):q(this,cn).cancelRetry()),this.scheduleGc()),q(this,rr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ve(this,dr,Pi).call(this,{type:"invalidate"})}fetch(e,n){var m,g,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(q(this,cn))return q(this,cn).continueRetry(),q(this,cn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(w=>w.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(de(this,Ga,!0),i.signal)})},l=()=>{const v=tx(this.options,n),w={client:q(this,Ha),queryKey:this.queryKey,meta:this.meta};return a(w),de(this,Ga,!1),this.options.persister?this.options.persister(v,w,this):v(w)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:q(this,Ha),state:this.state,fetchFn:l};a(c),(m=this.options.behavior)==null||m.onFetch(c,this),de(this,Tl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=c.fetchOptions)==null?void 0:g.meta))&&Ve(this,dr,Pi).call(this,{type:"fetch",meta:(_=c.fetchOptions)==null?void 0:_.meta});const d=v=>{var w,x,N,k;Jg(v)&&v.silent||Ve(this,dr,Pi).call(this,{type:"error",error:v}),Jg(v)||((x=(w=q(this,rr).config).onError)==null||x.call(w,v,this),(k=(N=q(this,rr).config).onSettled)==null||k.call(N,this.state.data,v,this)),this.scheduleGc()};return de(this,cn,ix({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var w,x,N,k;if(v===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(O){d(O);return}(x=(w=q(this,rr).config).onSuccess)==null||x.call(w,v,this),(k=(N=q(this,rr).config).onSettled)==null||k.call(N,v,this.state.error,this),this.scheduleGc()},onError:d,onFail:(v,w)=>{Ve(this,dr,Pi).call(this,{type:"failed",failureCount:v,error:w})},onPause:()=>{Ve(this,dr,Pi).call(this,{type:"pause"})},onContinue:()=>{Ve(this,dr,Pi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),q(this,cn).start()}},El=new WeakMap,Tl=new WeakMap,rr=new WeakMap,Ha=new WeakMap,cn=new WeakMap,jc=new WeakMap,Ga=new WeakMap,dr=new WeakSet,Pi=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...ax(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Jg(a)&&a.revert&&q(this,Tl)?{...q(this,Tl),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),tn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),q(this,rr).notify({query:this,type:"updated",action:e})})},bS);function ax(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function UL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qr,ES,LL=(ES=class extends sh{constructor(e={}){super();Se(this,Qr);this.config=e,de(this,Qr,new Map)}build(e,n,i){const a=n.queryKey,l=n.queryHash??yv(a,n);let c=this.get(l);return c||(c=new ML({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){q(this,Qr).has(e.queryHash)||(q(this,Qr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=q(this,Qr).get(e.queryHash);n&&(e.destroy(),n===e&&q(this,Qr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,Qr).get(e)}getAll(){return[...q(this,Qr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>Yw(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>Yw(e,i)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qr=new WeakMap,ES),$r,vn,Qa,Kr,xs,TS,VL=(TS=class extends sx{constructor(e){super();Se(this,Kr);Se(this,$r);Se(this,vn);Se(this,Qa);this.mutationId=e.mutationId,de(this,vn,e.mutationCache),de(this,$r,[]),this.state=e.state||jL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){q(this,$r).includes(e)||(q(this,$r).push(e),this.clearGcTimeout(),q(this,vn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){de(this,$r,q(this,$r).filter(n=>n!==e)),this.scheduleGc(),q(this,vn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){q(this,$r).length||(this.state.status==="pending"?this.scheduleGc():q(this,vn).remove(this))}continue(){var e;return((e=q(this,Qa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,c,d,m,g,_,v,w,x,N,k,O,V,G,P,F,J,re,I;de(this,Qa,ix({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,C)=>{Ve(this,Kr,xs).call(this,{type:"failed",failureCount:A,error:C})},onPause:()=>{Ve(this,Kr,xs).call(this,{type:"pause"})},onContinue:()=>{Ve(this,Kr,xs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,vn).canRun(this)}));const n=this.state.status==="pending",i=!q(this,Qa).canStart();try{if(!n){Ve(this,Kr,xs).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(a=q(this,vn).config).onMutate)==null?void 0:l.call(a,e,this));const C=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e));C!==this.state.context&&Ve(this,Kr,xs).call(this,{type:"pending",context:C,variables:e,isPaused:i})}const A=await q(this,Qa).start();return await((g=(m=q(this,vn).config).onSuccess)==null?void 0:g.call(m,A,e,this.state.context,this)),await((v=(_=this.options).onSuccess)==null?void 0:v.call(_,A,e,this.state.context)),await((x=(w=q(this,vn).config).onSettled)==null?void 0:x.call(w,A,null,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,A,null,e,this.state.context)),Ve(this,Kr,xs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((V=(O=q(this,vn).config).onError)==null?void 0:V.call(O,A,e,this.state.context,this)),await((P=(G=this.options).onError)==null?void 0:P.call(G,A,e,this.state.context)),await((J=(F=q(this,vn).config).onSettled)==null?void 0:J.call(F,void 0,A,this.state.variables,this.state.context,this)),await((I=(re=this.options).onSettled)==null?void 0:I.call(re,void 0,A,e,this.state.context)),A}finally{Ve(this,Kr,xs).call(this,{type:"error",error:A})}}finally{q(this,vn).runNext(this)}}},$r=new WeakMap,vn=new WeakMap,Qa=new WeakMap,Kr=new WeakSet,xs=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tn.batch(()=>{q(this,$r).forEach(i=>{i.onMutationUpdate(e)}),q(this,vn).notify({mutation:this,type:"updated",action:e})})},TS);function jL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ki,mr,zc,wS,zL=(wS=class extends sh{constructor(e={}){super();Se(this,ki);Se(this,mr);Se(this,zc);this.config=e,de(this,ki,new Set),de(this,mr,new Map),de(this,zc,0)}build(e,n,i){const a=new VL({mutationCache:this,mutationId:++Pf(this,zc)._,options:e.defaultMutationOptions(n),state:i});return this.add(a),a}add(e){q(this,ki).add(e);const n=Hf(e);if(typeof n=="string"){const i=q(this,mr).get(n);i?i.push(e):q(this,mr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(q(this,ki).delete(e)){const n=Hf(e);if(typeof n=="string"){const i=q(this,mr).get(n);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&q(this,mr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Hf(e);if(typeof n=="string"){const i=q(this,mr).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const n=Hf(e);if(typeof n=="string"){const a=(i=q(this,mr).get(n))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tn.batch(()=>{q(this,ki).forEach(e=>{this.notify({type:"removed",mutation:e})}),q(this,ki).clear(),q(this,mr).clear()})}getAll(){return Array.from(q(this,ki))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>Xw(n,i))}findAll(e={}){return this.getAll().filter(n=>Xw(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ir))))}},ki=new WeakMap,mr=new WeakMap,zc=new WeakMap,wS);function Hf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Zw(t){return{onFetch:(e,n)=>{var _,v,w,x,N;const i=e.options,a=(w=(v=(_=e.fetchOptions)==null?void 0:_.meta)==null?void 0:v.fetchMore)==null?void 0:w.direction,l=((x=e.state.data)==null?void 0:x.pages)||[],c=((N=e.state.data)==null?void 0:N.pageParams)||[];let d={pages:[],pageParams:[]},m=0;const g=async()=>{let k=!1;const O=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(e.signal.aborted?k=!0:e.signal.addEventListener("abort",()=>{k=!0}),e.signal)})},V=tx(e.options,e.fetchOptions),G=async(P,F,J)=>{if(k)return Promise.reject();if(F==null&&P.pages.length)return Promise.resolve(P);const re={client:e.client,queryKey:e.queryKey,pageParam:F,direction:J?"backward":"forward",meta:e.options.meta};O(re);const I=await V(re),{maxPages:A}=e.options,C=J?CL:IL;return{pages:C(P.pages,I,A),pageParams:C(P.pageParams,F,A)}};if(a&&l.length){const P=a==="backward",F=P?BL:eS,J={pages:l,pageParams:c},re=F(i,J);d=await G(J,re,P)}else{const P=t??l.length;do{const F=m===0?c[0]??i.initialPageParam:eS(i,d);if(m>0&&F==null)break;d=await G(d,F),m++}while(m<P)}return d};e.options.persister?e.fetchFn=()=>{var k,O;return(O=(k=e.options).persister)==null?void 0:O.call(k,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=g}}}function eS(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function BL(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var vt,Ms,Us,wl,Sl,Ls,Al,Rl,SS,qL=(SS=class{constructor(t={}){Se(this,vt);Se(this,Ms);Se(this,Us);Se(this,wl);Se(this,Sl);Se(this,Ls);Se(this,Al);Se(this,Rl);de(this,vt,t.queryCache||new LL),de(this,Ms,t.mutationCache||new zL),de(this,Us,t.defaultOptions||{}),de(this,wl,new Map),de(this,Sl,new Map),de(this,Ls,0)}mount(){Pf(this,Ls)._++,q(this,Ls)===1&&(de(this,Al,vv.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,vt).onFocus())})),de(this,Rl,Ud.subscribe(async t=>{t&&(await this.resumePausedMutations(),q(this,vt).onOnline())})))}unmount(){var t,e;Pf(this,Ls)._--,q(this,Ls)===0&&((t=q(this,Al))==null||t.call(this),de(this,Al,void 0),(e=q(this,Rl))==null||e.call(this),de(this,Rl,void 0))}isFetching(t){return q(this,vt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return q(this,Ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,vt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=q(this,vt).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yl(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return q(this,vt).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),a=q(this,vt).get(i.queryHash),l=a==null?void 0:a.state.data,c=RL(e,l);if(c!==void 0)return q(this,vt).build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>q(this,vt).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=q(this,vt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=q(this,vt);tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=q(this,vt);return tn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=tn.batch(()=>q(this,vt).findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(ir).catch(ir)}invalidateQueries(t,e={}){return tn.batch(()=>(q(this,vt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=tn.batch(()=>q(this,vt).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(ir)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(ir)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=q(this,vt).build(this,e);return n.isStaleByTime(yl(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ir).catch(ir)}fetchInfiniteQuery(t){return t.behavior=Zw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ir).catch(ir)}ensureInfiniteQueryData(t){return t.behavior=Zw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ud.isOnline()?q(this,Ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,vt)}getMutationCache(){return q(this,Ms)}getDefaultOptions(){return q(this,Us)}setDefaultOptions(t){de(this,Us,t)}setQueryDefaults(t,e){q(this,wl).set(Uc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...q(this,wl).values()],n={};return e.forEach(i=>{Lc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){q(this,Sl).set(Uc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...q(this,Sl).values()],n={};return e.forEach(i=>{Lc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...q(this,Us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===_v&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...q(this,Us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){q(this,vt).clear(),q(this,Ms).clear()}},vt=new WeakMap,Ms=new WeakMap,Us=new WeakMap,wl=new WeakMap,Sl=new WeakMap,Ls=new WeakMap,Al=new WeakMap,Rl=new WeakMap,SS),Rn,je,Bc,bn,$a,xl,Vs,Yr,qc,Il,Cl,Ka,Ya,js,Nl,Xe,yc,zy,By,qy,Fy,Hy,Gy,Qy,ox,AS,FL=(AS=class extends sh{constructor(e,n){super();Se(this,Xe);Se(this,Rn);Se(this,je);Se(this,Bc);Se(this,bn);Se(this,$a);Se(this,xl);Se(this,Vs);Se(this,Yr);Se(this,qc);Se(this,Il);Se(this,Cl);Se(this,Ka);Se(this,Ya);Se(this,js);Se(this,Nl,new Set);this.options=n,de(this,Rn,e),de(this,Yr,null),de(this,Vs,jy()),this.options.experimental_prefetchInRender||q(this,Vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,je).addObserver(this),tS(q(this,je),this.options)?Ve(this,Xe,yc).call(this):this.updateResult(),Ve(this,Xe,Fy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $y(q(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $y(q(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ve(this,Xe,Hy).call(this),Ve(this,Xe,Gy).call(this),q(this,je).removeObserver(this)}setOptions(e){const n=this.options,i=q(this,je);if(this.options=q(this,Rn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof gr(this.options.enabled,q(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ve(this,Xe,Qy).call(this),q(this,je).setOptions(this.options),n._defaulted&&!Uy(this.options,n)&&q(this,Rn).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,je),observer:this});const a=this.hasListeners();a&&nS(q(this,je),i,this.options,n)&&Ve(this,Xe,yc).call(this),this.updateResult(),a&&(q(this,je)!==i||gr(this.options.enabled,q(this,je))!==gr(n.enabled,q(this,je))||yl(this.options.staleTime,q(this,je))!==yl(n.staleTime,q(this,je)))&&Ve(this,Xe,zy).call(this);const l=Ve(this,Xe,By).call(this);a&&(q(this,je)!==i||gr(this.options.enabled,q(this,je))!==gr(n.enabled,q(this,je))||l!==q(this,js))&&Ve(this,Xe,qy).call(this,l)}getOptimisticResult(e){const n=q(this,Rn).getQueryCache().build(q(this,Rn),e),i=this.createResult(n,e);return GL(this,i)&&(de(this,bn,i),de(this,xl,this.options),de(this,$a,q(this,je).state)),i}getCurrentResult(){return q(this,bn)}trackResult(e,n){const i={};return Object.keys(e).forEach(a=>{Object.defineProperty(i,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),e[a])})}),i}trackProp(e){q(this,Nl).add(e)}getCurrentQuery(){return q(this,je)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=q(this,Rn).defaultQueryOptions(e),i=q(this,Rn).getQueryCache().build(q(this,Rn),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return Ve(this,Xe,yc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,bn)))}createResult(e,n){var A;const i=q(this,je),a=this.options,l=q(this,bn),c=q(this,$a),d=q(this,xl),g=e!==i?e.state:q(this,Bc),{state:_}=e;let v={..._},w=!1,x;if(n._optimisticResults){const C=this.hasListeners(),L=!C&&tS(e,n),j=C&&nS(e,i,n,a);(L||j)&&(v={...v,...ax(_.data,e.options)}),n._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:N,errorUpdatedAt:k,status:O}=v;if(n.select&&v.data!==void 0)if(l&&v.data===(c==null?void 0:c.data)&&n.select===q(this,qc))x=q(this,Il);else try{de(this,qc,n.select),x=n.select(v.data),x=Vy(l==null?void 0:l.data,x,n),de(this,Il,x),de(this,Yr,null)}catch(C){de(this,Yr,C)}else x=v.data;if(n.placeholderData!==void 0&&x===void 0&&O==="pending"){let C;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData))C=l.data;else if(C=typeof n.placeholderData=="function"?n.placeholderData((A=q(this,Cl))==null?void 0:A.state.data,q(this,Cl)):n.placeholderData,n.select&&C!==void 0)try{C=n.select(C),de(this,Yr,null)}catch(L){de(this,Yr,L)}C!==void 0&&(O="success",x=Vy(l==null?void 0:l.data,C,n),w=!0)}q(this,Yr)&&(N=q(this,Yr),x=q(this,Il),k=Date.now(),O="error");const V=v.fetchStatus==="fetching",G=O==="pending",P=O==="error",F=G&&V,J=x!==void 0,I={status:O,fetchStatus:v.fetchStatus,isPending:G,isSuccess:O==="success",isError:P,isInitialLoading:F,isLoading:F,data:x,dataUpdatedAt:v.dataUpdatedAt,error:N,errorUpdatedAt:k,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>g.dataUpdateCount||v.errorUpdateCount>g.errorUpdateCount,isFetching:V,isRefetching:V&&!G,isLoadingError:P&&!J,isPaused:v.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:P&&J,isStale:bv(e,n),refetch:this.refetch,promise:q(this,Vs)};if(this.options.experimental_prefetchInRender){const C=H=>{I.status==="error"?H.reject(I.error):I.data!==void 0&&H.resolve(I.data)},L=()=>{const H=de(this,Vs,I.promise=jy());C(H)},j=q(this,Vs);switch(j.status){case"pending":e.queryHash===i.queryHash&&C(j);break;case"fulfilled":(I.status==="error"||I.data!==j.value)&&L();break;case"rejected":(I.status!=="error"||I.error!==j.reason)&&L();break}}return I}updateResult(){const e=q(this,bn),n=this.createResult(q(this,je),this.options);if(de(this,$a,q(this,je).state),de(this,xl,this.options),q(this,$a).data!==void 0&&de(this,Cl,q(this,je)),Uy(n,e))return;de(this,bn,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!q(this,Nl).size)return!0;const c=new Set(l??q(this,Nl));return this.options.throwOnError&&c.add("error"),Object.keys(q(this,bn)).some(d=>{const m=d;return q(this,bn)[m]!==e[m]&&c.has(m)})};Ve(this,Xe,ox).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ve(this,Xe,Fy).call(this)}},Rn=new WeakMap,je=new WeakMap,Bc=new WeakMap,bn=new WeakMap,$a=new WeakMap,xl=new WeakMap,Vs=new WeakMap,Yr=new WeakMap,qc=new WeakMap,Il=new WeakMap,Cl=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,js=new WeakMap,Nl=new WeakMap,Xe=new WeakSet,yc=function(e){Ve(this,Xe,Qy).call(this);let n=q(this,je).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ir)),n},zy=function(){Ve(this,Xe,Hy).call(this);const e=yl(this.options.staleTime,q(this,je));if(oo||q(this,bn).isStale||!My(e))return;const i=ZR(q(this,bn).dataUpdatedAt,e)+1;de(this,Ka,setTimeout(()=>{q(this,bn).isStale||this.updateResult()},i))},By=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,je)):this.options.refetchInterval)??!1},qy=function(e){Ve(this,Xe,Gy).call(this),de(this,js,e),!(oo||gr(this.options.enabled,q(this,je))===!1||!My(q(this,js))||q(this,js)===0)&&de(this,Ya,setInterval(()=>{(this.options.refetchIntervalInBackground||vv.isFocused())&&Ve(this,Xe,yc).call(this)},q(this,js)))},Fy=function(){Ve(this,Xe,zy).call(this),Ve(this,Xe,qy).call(this,Ve(this,Xe,By).call(this))},Hy=function(){q(this,Ka)&&(clearTimeout(q(this,Ka)),de(this,Ka,void 0))},Gy=function(){q(this,Ya)&&(clearInterval(q(this,Ya)),de(this,Ya,void 0))},Qy=function(){const e=q(this,Rn).getQueryCache().build(q(this,Rn),this.options);if(e===q(this,je))return;const n=q(this,je);de(this,je,e),de(this,Bc,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},ox=function(e){tn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(q(this,bn))}),q(this,Rn).getQueryCache().notify({query:q(this,je),type:"observerResultsUpdated"})})},AS);function HL(t,e){return gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tS(t,e){return HL(t,e)||t.state.data!==void 0&&$y(t,e,e.refetchOnMount)}function $y(t,e,n){if(gr(e.enabled,t)!==!1){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&bv(t,e)}return!1}function nS(t,e,n,i){return(t!==e||gr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&bv(t,n)}function bv(t,e){return gr(e.enabled,t)!==!1&&t.isStaleByTime(yl(e.staleTime,t))}function GL(t,e){return!Uy(t.getCurrentResult(),e)}var lx=U.createContext(void 0),QL=t=>{const e=U.useContext(lx);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$L=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(lx.Provider,{value:t,children:e})),ux=U.createContext(!1),KL=()=>U.useContext(ux);ux.Provider;function YL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XL=U.createContext(YL()),WL=()=>U.useContext(XL);function JL(t,e){return typeof t=="function"?t(...e):!!t}function rS(){}var ZL=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},eV=t=>{U.useEffect(()=>{t.clearReset()},[t])},tV=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&t.data===void 0||JL(n,[t.error,i])),nV=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},rV=(t,e)=>t.isLoading&&t.isFetching&&!e,iV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,iS=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function sV(t,e,n){var v,w,x,N,k;const i=QL(),a=KL(),l=WL(),c=i.defaultQueryOptions(t);(w=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||w.call(v,c),c._optimisticResults=a?"isRestoring":"optimistic",nV(c),ZL(c,l),eV(l);const d=!i.getQueryCache().get(c.queryHash),[m]=U.useState(()=>new e(i,c)),g=m.getOptimisticResult(c),_=!a&&t.subscribed!==!1;if(U.useSyncExternalStore(U.useCallback(O=>{const V=_?m.subscribe(tn.batchCalls(O)):rS;return m.updateResult(),V},[m,_]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),U.useEffect(()=>{m.setOptions(c)},[c,m]),iV(c,g))throw iS(c,m,l);if(tV({result:g,errorResetBoundary:l,throwOnError:c.throwOnError,query:i.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((N=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||N.call(x,c,g),c.experimental_prefetchInRender&&!oo&&rV(g,a)){const O=d?iS(c,m,l):(k=i.getQueryCache().get(c.queryHash))==null?void 0:k.promise;O==null||O.catch(rS).finally(()=>{m.updateResult()})}return c.notifyOnChangeProps?g:m.trackResult(g)}function ym(t,e){return sV(t,FL)}const aV=async()=>{try{return(await Yl(Yi(Et,"posts"))).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error fetching posts:",t.message),[]}},Sr=()=>T.jsx("div",{className:"min-h-[80vh] flex justify-center items-center",children:T.jsx("div",{className:"loader"})}),oV=({buttonText:t})=>T.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-5 rounded-lg shadow-sm transition duration-300 my-10",children:t}),cx=gm({name:"bookmarkedJobs",initialState:{jobIds:[]},reducers:{setSavedJobs:(t,e)=>{console.log("🔥 Bookmarked jobs set in Redux:",e.payload),t.jobIds=e.payload,console.log(`Bookmarked job IDs: ${t.jobIds}`)},addSavedJob:(t,e)=>{t.jobIds.includes(e.payload)||(t.jobIds.push(e.payload),console.log(`Job ID ${e.payload} added to bookmarks`))},removeSavedJob:(t,e)=>{t.jobIds=t.jobIds.filter(n=>n!==e.payload),console.log(`Job ID ${e.payload} removed from bookmarks`)}}}),{setSavedJobs:lV,addSavedJob:uV,removeSavedJob:cV}=cx.actions,hV=cx.reducer,fV=async(t,e)=>{try{const n=await sv(Yi(Et,"savedJobs"),{userId:t,jobId:e,date:hm()});return console.log("Saved job to Firestore with ID:",n.id),n.id}catch(n){throw console.error("Error saving job:",n),n}},hx=({post:t,setselectedPost:e})=>{const n=wr(d=>d.user.currentUser),i=wr(d=>d.bookmarkedJobs.jobIds),a=xr(),l=i.includes(t.id),c=async d=>{if(d.stopPropagation(),!n){alert("Please log in first to save jobs.");return}const m=t.id;if(l){const g=ih(Yi(Et,"savedJobs"),jl("userId","==",n.uid),jl("jobId","==",m)),_=await Yl(g);for(const v of _.docs)await gR(Cn(Et,"savedJobs",v.id));a(cV(m)),console.log("job removed from bookmark")}else await fV(n.uid,m),a(uV(m))};return T.jsxs("div",{onClick:()=>e(t),className:"post-card relative bg-white py-4 px-6 mb-4 rounded-md shadow-md hover:shadow-xl cursor-pointer  hover:border-blue-600 border-2 border-transparent",children:[l?T.jsx(JR,{onClick:c,className:"absolute top-3 right-4 text-2xl text-[#4F46E5]"}):T.jsx(TL,{onClick:c,className:"absolute top-3 right-4 text-2xl text-[#4F46E5]"}),T.jsx("h3",{className:"text-xl font-semibold text-blue-600 mb-2",children:t.title}),T.jsx("p",{className:"text-gray-700 mb-4",children:t.description}),T.jsx("div",{className:"flex justify-between items-center",children:T.jsx("p",{className:"font-bold text-green-600",children:t.salary})})]},t.id)},dV=async t=>{try{console.log("🔍 Fetching bookmarks for uid:",t);const e=ih(Yi(Et,"savedJobs"),jl("userId","==",t)),i=(await Yl(e)).docs.map(a=>a.data().jobId);return console.log("✅ Bookmarked job IDs:",i),i}catch(e){return console.error("❌ Error fetching bookmarks:",e),[]}},mV=t=>{const e=xr();return ym({queryKey:["savedJobs",t],queryFn:()=>dV(t),enabled:!!t,onSuccess:n=>{console.log("📥 Bookmarked job IDs fetched from Firestore:",n),e(lV(n))}})},sS=()=>{const t=wr(d=>d.user.currentUser);U.useEffect(()=>{console.log("Current User:",t)},[]);const{isLoading:e}=mV(t==null?void 0:t.uid),{data:n,isLoading:i,error:a}=ym({queryKey:["posts"],queryFn:aV}),[l,c]=U.useState(null);return U.useEffect(()=>{n&&n.length>0&&l===null&&c(n[0])},[n,l]),i||e?T.jsx(Sr,{}):a?T.jsx("div",{children:"Error loading posts"}):T.jsx(T.Fragment,{children:T.jsxs("div",{className:"flex flex-col items-center pt-[5rem] px-4",children:[T.jsx("h1",{className:"text-5xl font-bold text-blue-700 text-center mb-8",children:"Browse Jobs"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-[1300px]",children:[T.jsx("div",{className:"space-y-6",children:n.map(d=>T.jsx(hx,{post:d,setselectedPost:c},d.id))}),T.jsx("div",{className:"post-details",children:l&&T.jsxs("div",{className:"p-6 rounded-md bg-white shadow-md border-2 border-blue-600 space-y-4",children:[T.jsx("h2",{className:"text-2xl font-bold text-blue-700",children:l.title}),T.jsx("p",{className:"text-md text-gray-800",children:l.description}),T.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["Salary: $",l.salary]}),T.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["Company: ",l.company]}),T.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["Location: ",l.location]}),T.jsx(u_,{to:`/jobs/${l.id}`,children:T.jsx(oV,{buttonText:"Apply Now"})})]})})]})]})})},pV=()=>T.jsxs("div",{className:"bg-gray-50 text-gray-800",children:[T.jsx("section",{className:"min-h-[90vh] bg-gradient-to-r from-blue-100 via-white to-blue-100 flex items-center justify-center px-6 py-16",children:T.jsxs("div",{className:"max-w-4xl text-center",children:[T.jsx("h1",{className:"text-5xl font-bold text-blue-700 mb-6",children:"We're Building The Future of Job Applications"}),T.jsx("p",{className:"text-lg text-gray-700",children:"Simplifying the hiring journey for both companies and job seekers through smart and intuitive tools."})]})}),T.jsx("section",{className:"py-20 px-6 max-w-6xl mx-auto",children:T.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-3xl font-bold text-blue-600 mb-4",children:"Our Story"}),T.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We started as a group of passionate developers who noticed how hard it was to apply for jobs efficiently. We decided to build a platform that puts job seekers first — simple, fast, and effective. From submitting resumes to getting hired — we're with you every step of the way."})]}),T.jsx("div",{className:"bg-white h-64 rounded-xl shadow-lg border border-blue-100 flex items-center justify-center text-blue-600 text-2xl font-semibold",children:"💼 Your Dream Job Awaits"})]})}),T.jsxs("section",{className:"bg-white py-20 px-6",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("h2",{className:"text-3xl font-bold text-blue-600",children:"Our Mission"}),T.jsx("p",{className:"text-gray-600 mt-2",children:"What drives us every day"})]}),T.jsxs("div",{className:"relative border-l-4 border-blue-500 pl-6 max-w-3xl mx-auto space-y-10",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold text-blue-700",children:"Empower Job Seekers"}),T.jsx("p",{className:"text-gray-600",children:"Give applicants the tools they need to stand out and succeed."})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold text-blue-700",children:"Simplify Hiring"}),T.jsx("p",{className:"text-gray-600",children:"Make the hiring process smoother for employers with effective tools."})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold text-blue-700",children:"Build Connections"}),T.jsx("p",{className:"text-gray-600",children:"Bridge the gap between top talent and meaningful work opportunities."})]})]})]}),T.jsxs("section",{className:"py-20 px-6 bg-blue-50",children:[T.jsxs("div",{className:"text-center mb-12",children:[T.jsx("h2",{className:"text-3xl font-bold text-blue-700",children:"Meet The Team"}),T.jsx("p",{className:"text-gray-600 mt-2",children:"We're builders, dreamers, and doers."})]}),T.jsx("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3 max-w-6xl mx-auto",children:[1,2,3].map(t=>T.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition duration-300 text-center",children:[T.jsx("div",{className:"h-24 w-24 mx-auto bg-blue-200 rounded-full mb-4"}),T.jsxs("h3",{className:"font-semibold text-blue-700 text-lg",children:["Team Member ",t]}),T.jsx("p",{className:"text-gray-600 text-sm",children:"Frontend Developer"})]},t))})]}),T.jsx("section",{className:"py-20 px-6 bg-white",children:T.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[T.jsx("blockquote",{className:"text-2xl italic text-gray-700",children:"“We’re not just building software — we’re building hope for every job seeker out there.”"}),T.jsx("p",{className:"mt-4 text-blue-600 font-bold",children:"— The JobConnect Team"})]})})]}),gV={currentUser:null},fx=gm({name:"user",initialState:gV,reducers:{setUser:(t,e)=>{t.currentUser=e.payload},logoutUser:t=>{t.currentUser=null},updateEditedUser:(t,e)=>({...t,...e.payload})}}),{setUser:_m,logoutUser:_j,updateEditedUser:yV}=fx.actions,_V=fx.reducer;function dx(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=dx(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Wa(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=dx(t))&&(i&&(i+=" "),i+=e);return i}function vV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}vV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ah=t=>typeof t=="number"&&!isNaN(t),lo=t=>typeof t=="string",$i=t=>typeof t=="function",bV=t=>lo(t)||ah(t),Ky=t=>lo(t)||$i(t)?t:null,EV=(t,e)=>t===!1||ah(t)&&t>0?t:e,Yy=t=>U.isValidElement(t)||lo(t)||$i(t)||ah(t);function TV(t,e,n=300){let{scrollHeight:i,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=i+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function wV({enter:t,exit:e,appendPosition:n=!1,collapse:i=!0,collapseDuration:a=300}){return function({children:l,position:c,preventExitTransition:d,done:m,nodeRef:g,isIn:_,playToast:v}){let w=n?`${t}--${c}`:t,x=n?`${e}--${c}`:e,N=U.useRef(0);return U.useLayoutEffect(()=>{let k=g.current,O=w.split(" "),V=G=>{G.target===g.current&&(v(),k.removeEventListener("animationend",V),k.removeEventListener("animationcancel",V),N.current===0&&G.type!=="animationcancel"&&k.classList.remove(...O))};k.classList.add(...O),k.addEventListener("animationend",V),k.addEventListener("animationcancel",V)},[]),U.useEffect(()=>{let k=g.current,O=()=>{k.removeEventListener("animationend",O),i?TV(k,m,a):m()};_||(d?O():(N.current=1,k.className+=` ${x}`,k.addEventListener("animationend",O)))},[_]),Ge.createElement(Ge.Fragment,null,l)}}function aS(t,e){return{content:mx(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function mx(t,e,n=!1){return U.isValidElement(t)&&!lo(t.type)?U.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):$i(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function SV({closeToast:t,theme:e,ariaLabel:n="close"}){return Ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),t(!0)},"aria-label":n},Ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function AV({delay:t,isRunning:e,closeToast:n,type:i="default",hide:a,className:l,controlledProgress:c,progress:d,rtl:m,isIn:g,theme:_}){let v=a||c&&d===0,w={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${d})`);let x=Wa("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),N=$i(l)?l({rtl:m,type:i,defaultClassName:x}):Wa(x,l),k={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{g&&n()}};return Ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},Ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${i}`}),Ge.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:N,style:w,...k}))}var RV=1,px=()=>`${RV++}`;function xV(t,e,n){let i=1,a=0,l=[],c=[],d=e,m=new Map,g=new Set,_=G=>(g.add(G),()=>g.delete(G)),v=()=>{c=Array.from(m.values()),g.forEach(G=>G())},w=({containerId:G,toastId:P,updateId:F})=>{let J=G?G!==t:t!==1,re=m.has(P)&&F==null;return J||re},x=(G,P)=>{m.forEach(F=>{var J;(P==null||P===F.props.toastId)&&((J=F.toggle)==null||J.call(F,G))})},N=G=>{var P,F;(F=(P=G.props)==null?void 0:P.onClose)==null||F.call(P,G.removalReason),G.isActive=!1},k=G=>{if(G==null)m.forEach(N);else{let P=m.get(G);P&&N(P)}v()},O=()=>{a-=l.length,l=[]},V=G=>{var P,F;let{toastId:J,updateId:re}=G.props,I=re==null;G.staleId&&m.delete(G.staleId),G.isActive=!0,m.set(J,G),v(),n(aS(G,I?"added":"updated")),I&&((F=(P=G.props).onOpen)==null||F.call(P))};return{id:t,props:d,observe:_,toggle:x,removeToast:k,toasts:m,clearQueue:O,buildToast:(G,P)=>{if(w(P))return;let{toastId:F,updateId:J,data:re,staleId:I,delay:A}=P,C=J==null;C&&a++;let L={...d,style:d.toastStyle,key:i++,...Object.fromEntries(Object.entries(P).filter(([H,M])=>M!=null)),toastId:F,updateId:J,data:re,isIn:!1,className:Ky(P.className||d.toastClassName),progressClassName:Ky(P.progressClassName||d.progressClassName),autoClose:P.isLoading?!1:EV(P.autoClose,d.autoClose),closeToast(H){m.get(F).removalReason=H,k(F)},deleteToast(){let H=m.get(F);if(H!=null){if(n(aS(H,"removed")),m.delete(F),a--,a<0&&(a=0),l.length>0){V(l.shift());return}v()}}};L.closeButton=d.closeButton,P.closeButton===!1||Yy(P.closeButton)?L.closeButton=P.closeButton:P.closeButton===!0&&(L.closeButton=Yy(d.closeButton)?d.closeButton:!0);let j={content:G,props:L,staleId:I};d.limit&&d.limit>0&&a>d.limit&&C?l.push(j):ah(A)?setTimeout(()=>{V(j)},A):V(j)},setProps(G){d=G},setToggle:(G,P)=>{let F=m.get(G);F&&(F.toggle=P)},isToastActive:G=>{var P;return(P=m.get(G))==null?void 0:P.isActive},getSnapshot:()=>c}}var En=new Map,Vc=[],Xy=new Set,IV=t=>Xy.forEach(e=>e(t)),gx=()=>En.size>0;function CV(){Vc.forEach(t=>_x(t.content,t.options)),Vc=[]}var NV=(t,{containerId:e})=>{var n;return(n=En.get(e||1))==null?void 0:n.toasts.get(t)};function yx(t,e){var n;if(e)return!!((n=En.get(e))!=null&&n.isToastActive(t));let i=!1;return En.forEach(a=>{a.isToastActive(t)&&(i=!0)}),i}function OV(t){if(!gx()){Vc=Vc.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||bV(t))En.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=En.get(t.containerId);e?e.removeToast(t.id):En.forEach(n=>{n.removeToast(t.id)})}}var DV=(t={})=>{En.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function _x(t,e){Yy(t)&&(gx()||Vc.push({content:t,options:e}),En.forEach(n=>{n.buildToast(t,e)}))}function PV(t){var e;(e=En.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function vx(t,e){En.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function kV(t){let e=t.containerId||1;return{subscribe(n){let i=xV(e,t,IV);En.set(e,i);let a=i.observe(n);return CV(),()=>{a(),En.delete(e)}},setProps(n){var i;(i=En.get(e))==null||i.setProps(n)},getSnapshot(){var n;return(n=En.get(e))==null?void 0:n.getSnapshot()}}}function MV(t){return Xy.add(t),()=>{Xy.delete(t)}}function UV(t){return t&&(lo(t.toastId)||ah(t.toastId))?t.toastId:px()}function oh(t,e){return _x(t,e),e.toastId}function vm(t,e){return{...e,type:e&&e.type||t,toastId:UV(e)}}function bm(t){return(e,n)=>oh(e,vm(t,n))}function Ke(t,e){return oh(t,vm("default",e))}Ke.loading=(t,e)=>oh(t,vm("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function LV(t,{pending:e,error:n,success:i},a){let l;e&&(l=lo(e)?Ke.loading(e,a):Ke.loading(e.render,{...a,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(g,_,v)=>{if(_==null){Ke.dismiss(l);return}let w={type:g,...c,...a,data:v},x=lo(_)?{render:_}:_;return l?Ke.update(l,{...w,...x}):Ke(x.render,{...w,...x}),v},m=$i(t)?t():t;return m.then(g=>d("success",i,g)).catch(g=>d("error",n,g)),m}Ke.promise=LV;Ke.success=bm("success");Ke.info=bm("info");Ke.error=bm("error");Ke.warning=bm("warning");Ke.warn=Ke.warning;Ke.dark=(t,e)=>oh(t,vm("default",{theme:"dark",...e}));function VV(t){OV(t)}Ke.dismiss=VV;Ke.clearWaitingQueue=DV;Ke.isActive=yx;Ke.update=(t,e={})=>{let n=NV(t,e);if(n){let{props:i,content:a}=n,l={delay:100,...i,...e,toastId:e.toastId||t,updateId:px()};l.toastId!==t&&(l.staleId=t);let c=l.render||a;delete l.render,oh(c,l)}};Ke.done=t=>{Ke.update(t,{progress:1})};Ke.onChange=MV;Ke.play=t=>vx(!0,t);Ke.pause=t=>vx(!1,t);function jV(t){var e;let{subscribe:n,getSnapshot:i,setProps:a}=U.useRef(kV(t)).current;a(t);let l=(e=U.useSyncExternalStore(n,i,i))==null?void 0:e.slice();function c(d){if(!l)return[];let m=new Map;return t.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:_}=g.props;m.has(_)||m.set(_,[]),m.get(_).push(g)}),Array.from(m,g=>d(g[0],g[1]))}return{getToastToRender:c,isToastActive:yx,count:l==null?void 0:l.length}}function zV(t){let[e,n]=U.useState(!1),[i,a]=U.useState(!1),l=U.useRef(null),c=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:m,closeToast:g,onClick:_,closeOnClick:v}=t;PV({id:t.toastId,containerId:t.containerId,fn:n}),U.useEffect(()=>{if(t.pauseOnFocusLoss)return w(),()=>{x()}},[t.pauseOnFocusLoss]);function w(){document.hasFocus()||V(),window.addEventListener("focus",O),window.addEventListener("blur",V)}function x(){window.removeEventListener("focus",O),window.removeEventListener("blur",V)}function N(I){if(t.draggable===!0||t.draggable===I.pointerType){G();let A=l.current;c.canCloseOnClick=!0,c.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(c.start=I.clientX,c.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(c.start=I.clientY,c.removalDistance=A.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function k(I){let{top:A,bottom:C,left:L,right:j}=l.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&t.pauseOnHover&&I.clientX>=L&&I.clientX<=j&&I.clientY>=A&&I.clientY<=C?V():O()}function O(){n(!0)}function V(){n(!1)}function G(){c.didMove=!1,document.addEventListener("pointermove",F),document.addEventListener("pointerup",J)}function P(){document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",J)}function F(I){let A=l.current;if(c.canDrag&&A){c.didMove=!0,e&&V(),t.draggableDirection==="x"?c.delta=I.clientX-c.start:c.delta=I.clientY-c.start,c.start!==I.clientX&&(c.canCloseOnClick=!1);let C=t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;A.style.transform=`translate3d(${C},0)`,A.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function J(){P();let I=l.current;if(c.canDrag&&c.didMove&&I){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let re={onPointerDown:N,onPointerUp:k};return d&&m&&(re.onMouseEnter=V,t.stacked||(re.onMouseLeave=O)),v&&(re.onClick=I=>{_&&_(I),c.canCloseOnClick&&g(!0)}),{playToast:O,pauseToast:V,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:re}}var BV=typeof window<"u"?U.useLayoutEffect:U.useEffect,Em=({theme:t,type:e,isLoading:n,...i})=>Ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function qV(t){return Ge.createElement(Em,{...t},Ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function FV(t){return Ge.createElement(Em,{...t},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function HV(t){return Ge.createElement(Em,{...t},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function GV(t){return Ge.createElement(Em,{...t},Ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function QV(){return Ge.createElement("div",{className:"Toastify__spinner"})}var Wy={info:FV,warning:qV,success:HV,error:GV,spinner:QV},$V=t=>t in Wy;function KV({theme:t,type:e,isLoading:n,icon:i}){let a=null,l={theme:t,type:e};return i===!1||($i(i)?a=i({...l,isLoading:n}):U.isValidElement(i)?a=U.cloneElement(i,l):n?a=Wy.spinner():$V(e)&&(a=Wy[e](l))),a}var YV=t=>{let{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:l}=zV(t),{closeButton:c,children:d,autoClose:m,onClick:g,type:_,hideProgressBar:v,closeToast:w,transition:x,position:N,className:k,style:O,progressClassName:V,updateId:G,role:P,progress:F,rtl:J,toastId:re,deleteToast:I,isIn:A,isLoading:C,closeOnClick:L,theme:j,ariaLabel:H}=t,M=Wa("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":L}),Pt=$i(k)?k({rtl:J,position:N,type:_,defaultClassName:M}):Wa(M,k),lt=KV(t),ee=!!F||!m,ce={closeToast:w,type:_,theme:j},ge=null;return c===!1||($i(c)?ge=c(ce):U.isValidElement(c)?ge=U.cloneElement(c,ce):ge=SV(ce)),Ge.createElement(x,{isIn:A,done:I,position:N,preventExitTransition:n,nodeRef:i,playToast:l},Ge.createElement("div",{id:re,tabIndex:0,onClick:g,"data-in":A,className:Pt,...a,style:O,ref:i,...A&&{role:P,"aria-label":H}},lt!=null&&Ge.createElement("div",{className:Wa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},lt),mx(d,t,!e),ge,!t.customProgressBar&&Ge.createElement(AV,{...G&&!ee?{key:`p-${G}`}:{},rtl:J,theme:j,delay:m,isRunning:e,isIn:A,closeToast:w,hide:v,type:_,className:V,controlledProgress:ee,progress:F||0})))},XV=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),WV=wV(XV("bounce",!0)),JV={position:"top-right",transition:WV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function ZV(t){let e={...JV,...t},n=t.stacked,[i,a]=U.useState(!0),l=U.useRef(null),{getToastToRender:c,isToastActive:d,count:m}=jV(e),{className:g,style:_,rtl:v,containerId:w,hotKeys:x}=e;function N(O){let V=Wa("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":v});return $i(g)?g({position:O,rtl:v,defaultClassName:V}):Wa(V,Ky(g))}function k(){n&&(a(!0),Ke.play())}return BV(()=>{var O;if(n){let V=l.current.querySelectorAll('[data-in="true"]'),G=12,P=(O=e.position)==null?void 0:O.includes("top"),F=0,J=0;Array.from(V).reverse().forEach((re,I)=>{let A=re;A.classList.add("Toastify__toast--stacked"),I>0&&(A.dataset.collapsed=`${i}`),A.dataset.pos||(A.dataset.pos=P?"top":"bot");let C=F*(i?.2:1)+(i?0:G*I);A.style.setProperty("--y",`${P?C:C*-1}px`),A.style.setProperty("--g",`${G}`),A.style.setProperty("--s",`${1-(i?J:0)}`),F+=A.offsetHeight,J+=.025})}},[i,m,n]),U.useEffect(()=>{function O(V){var G;let P=l.current;x(V)&&((G=P.querySelector('[tabIndex="0"]'))==null||G.focus(),a(!1),Ke.pause()),V.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(a(!0),Ke.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[x]),Ge.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{n&&(a(!1),Ke.pause())},onMouseLeave:k,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((O,V)=>{let G=V.length?{..._}:{..._,pointerEvents:"none"};return Ge.createElement("div",{tabIndex:-1,className:N(O),"data-stacked":n,style:G,key:`c-${O}`},V.map(({content:P,props:F})=>Ge.createElement(YV,{...F,stacked:n,collapseAll:k,isIn:d(F.toastId,F.containerId),key:`t-${F.key}`},P)))}))}const e6=()=>{const[t,e]=U.useState(""),[n,i]=U.useState(""),[a,l]=U.useState(""),[c,d]=U.useState(!1),[m,g]=U.useState(""),[_,v]=U.useState(""),[w,x]=U.useState(""),[N,k]=U.useState(""),[O,V]=U.useState(""),[G,P]=U.useState(""),F=ri(),J=xr();U.useEffect(()=>{const I=T_(),A=Xc(I,async C=>{C&&C.emailVerified&&F("/home")});return()=>A()},[]);const re=async I=>{I.preventDefault(),d(!0);try{const A=await hU(t,n,a);Ke("Verification email sent. Please check your inbox.");const C=setInterval(async()=>{if(await A.reload(),A.emailVerified){clearInterval(C),await SA(A,{displayName:m});const L=w.split(",").map(j=>j.trim());await iv(Cn(Et,"users",A.uid),{uid:A.uid,email:A.email,type:a,username:m,phone:_,bio:G,skills:L,github:N,linkedin:O,createdAt:new Date().toISOString()}),J(_m({uid:A.uid,email:A.email,emailVerified:!0,type:a,username:m,phone:_,bio:G,skills:L,github:N,linkedin:O})),F("/home")}},3e3)}catch(A){console.error("❌ Signup error:",A),alert("Signup failed: "+A.message),d(!1)}};return T.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 px-4",children:c?T.jsx(Sr,{}):T.jsxs("div",{className:"bg-white shadow-lg rounded-xl w-full max-w-md p-8 border-2 border-blue-600",children:[T.jsx("h2",{className:"text-3xl font-semibold text-center text-[#4F46E5] mb-6",children:"Create Account"}),T.jsxs("form",{onSubmit:re,className:"space-y-4",children:[T.jsx("input",{type:"text",placeholder:"Username *",required:!0,value:m,onChange:I=>g(I.target.value),className:"input"}),T.jsx("input",{type:"email",placeholder:"Email *",required:!0,value:t,onChange:I=>e(I.target.value),className:"input"}),T.jsx("input",{type:"password",placeholder:"Password *",required:!0,value:n,onChange:I=>i(I.target.value),className:"input"}),T.jsx("input",{type:"text",placeholder:"Phone",value:_,onChange:I=>v(I.target.value),className:"input"}),T.jsx("input",{type:"text",placeholder:"Skills (comma separated)",value:w,onChange:I=>x(I.target.value),className:"input"}),T.jsx("input",{type:"text",placeholder:"Your Bio",value:G,onChange:I=>P(I.target.value),className:"input"}),T.jsx("input",{type:"url",placeholder:"GitHub Profile",value:N,onChange:I=>k(I.target.value),className:"input"}),T.jsx("input",{type:"url",placeholder:"LinkedIn Profile",value:O,onChange:I=>V(I.target.value),className:"input"}),T.jsxs("div",{className:"flex space-x-6",children:[T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"radio",value:"JobSeeker",checked:a==="JobSeeker",onChange:I=>l(I.target.value),className:"mr-2"}),"JobSeeker"]}),T.jsxs("label",{className:"flex items-center",children:[T.jsx("input",{type:"radio",value:"Recruiter",checked:a==="Recruiter",onChange:I=>l(I.target.value),className:"mr-2"}),"Recruiter"]})]}),T.jsx("button",{type:"submit",className:"w-full bg-[#E11D48] hover:bg-[#c9153e] text-white py-2 rounded-md font-medium transition-all",children:"Sign Up"})]}),T.jsxs("p",{className:"mt-6 text-sm text-center text-gray-600",children:["Already have an account?"," ",T.jsx(pr,{to:"/login",className:"text-[#4F46E5] font-medium hover:underline",children:"Login"})]})]})})},t6=()=>{const[t,e]=U.useState(""),[n,i]=U.useState(""),[a,l]=U.useState(!1),c=xr(),d=ri(),m=async g=>{g.preventDefault(),l(!0);try{const _=await fU(t,n);if(!_.emailVerified){Ke.error("Please verify your email before logging in."),l(!1);return}const v=Cn(Et,"users",_.uid),w=await po(v);if(w.exists()){const x={uid:_.uid,email:_.email,emailVerified:_.emailVerified,...w.data()};c(_m(x))}Ke.success("Login successful!"),d("/home")}catch(_){console.error("Login error:",_),Ke.error("Login failed: "+_.message)}finally{l(!1)}};return T.jsx("div",{className:"flex items-center justify-center min-h-screen  px-4",children:a?T.jsx(Sr,{}):T.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 border border-indigo-300 transition duration-300",children:[T.jsx("h2",{className:"text-3xl font-bold text-center text-indigo-600 mb-6",children:"Welcome Back 👋"}),T.jsxs("form",{onSubmit:m,className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),T.jsx("input",{type:"email",placeholder:"you@example.com",required:!0,value:t,onChange:g=>e(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),T.jsx("input",{type:"password",placeholder:"••••••••",required:!0,value:n,onChange:g=>i(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"})]}),T.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white py-2.5 rounded-md font-semibold text-lg transition duration-200",children:"Login"})]}),T.jsxs("p",{className:"mt-6 text-center text-sm text-gray-600",children:["Don't have an account?"," ",T.jsx("a",{href:"/signup",className:"text-indigo-600 hover:underline font-medium",children:"Sign Up"})]})]})})},n6=()=>T.jsx("div",{className:"min-h-screen bg-gray-100 p-6",children:T.jsxs("div",{className:"max-w-6xl mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Welcome to Your Dashboard"}),T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Total Projects"}),T.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"12"})]}),T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Active Tasks"}),T.jsx("p",{className:"text-3xl font-bold text-green-600",children:"8"})]}),T.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Team Members"}),T.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"5"})]})]}),T.jsxs("div",{className:"mt-10",children:[T.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Recent Activity"}),T.jsx("div",{className:"bg-white p-4 rounded-xl shadow-md text-gray-600",children:T.jsx("p",{children:"No recent activity to display."})})]})]})}),r6=()=>{const t=ri(),e=xr(),n=Rr.currentUser,i=wr(m=>m.user.currentUser),[a,l]=U.useState({username:"",phone:"",education:"",skills:"",confirmPassword:"",confirmEmail:"",github:"",linkedin:""}),c=m=>{const{name:g,value:_}=m.target;l({...a,[g]:_})},d=async m=>{if(m.preventDefault(),!i){alert("❌ User not logged in!");return}try{const g=Cn(Et,"users",i.uid),_=a.skills.split(",").map(w=>w.trim());await iv(g,{username:a.username,email:i.email,phone:a.phone,education:a.education,skills:_,confirmPassword:a.confirmPassword,confirmEmail:a.confirmEmail,github:a.github,linkedin:a.linkedin,uid:i.uid},{merge:!0}),await SA(n,{displayName:a.username});const v={username:a.username,email:i.email,phone:a.phone,education:a.education,skills:_,confirmPassword:a.confirmPassword,confirmEmail:a.confirmEmail,github:a.github,linkedin:a.linkedin,uid:i.uid};e(_m(v)),alert("✅ Profile updated successfully!"),t("/home")}catch(g){console.error("🔥 Firestore error:",g),alert("❌ Something went wrong while saving profile: "+g.message)}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-6",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-10",children:[T.jsx("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-8",children:"Complete Your Profile"}),T.jsxs("form",{onSubmit:d,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx("input",{name:"username",type:"text",placeholder:"Username *",onChange:c,required:!0,className:"input"}),T.jsx("input",{name:"phone",type:"text",placeholder:"Phone Number",onChange:c,className:"input"}),T.jsx("input",{name:"skills",type:"text",placeholder:"Skills (comma separated)",onChange:c,className:"input"}),T.jsx("input",{name:"github",type:"url",placeholder:"GitHub Profile",onChange:c,className:"input"}),T.jsx("input",{name:"linkedin",type:"url",placeholder:"LinkedIn Profile",onChange:c,className:"input"})]}),T.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition duration-300",children:"Save Profile"})]})]})})},oS=({user:t})=>{const e=xr(),[n,i]=U.useState({uid:"",username:"",email:"",phone:"",skills:"",bio:"",github:"",linkedin:"",resumeName:"",resumeURL:""}),[a,l]=U.useState(!1),[c,d]=U.useState(!0),[m,g]=U.useState(null),[_,v]=U.useState(null);U.useEffect(()=>{t&&(i({uid:t.uid||"",username:t.username||"",email:t.email||"",phone:t.phone||"",skills:t.skills||"",bio:t.bio||"",github:t.github||"",linkedin:t.linkedin||"",resumeName:t.resumeName||"",resumeURL:t.resumeURL||""}),d(!1))},[t]);const w=P=>{const{name:F,value:J}=P.target;i(re=>({...re,[F]:J}))},x=P=>{const F=P.target.files[0];F&&g(F)},N=()=>l(!0),k=()=>{t&&i({uid:t.uid||"",username:t.username||"",email:t.email||"",phone:t.phone||"",skills:t.skills||"",bio:t.bio||"",github:t.github||"",linkedin:t.linkedin||"",resumeName:t.resumeName||"",resumeURL:t.resumeURL||""}),l(!1),g(null)},O=async()=>{try{const{uid:P,...F}=n;if(!P){console.error("UID not found, cannot update.");return}if(m){v(!0);const re=X3(nU,`resumes/${P}/${m.name}`);await K3(re,m);const I=await Y3(re);F.resumeURL=I,F.resumeName=m.name,i(A=>({...A,resumeURL:I,resumeName:m.name})),v(!1)}const J=Cn(Et,"users",P);await jM(J,F),e(yV({...n,...F})),l(!1),g(null)}catch(P){console.error("❌ Error updating user info:",P.message)}},V=(P,F)=>T.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center mb-4",children:[T.jsxs("label",{className:"font-medium w-36 text-gray-700",children:[P,":"]}),a?T.jsx("input",{type:"text",name:F,value:n[F],onChange:w,className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):T.jsx("p",{className:"text-gray-800",children:n[F]||"Not provided"})]}),G=()=>T.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-4",children:[T.jsx("label",{className:"font-medium w-36 text-gray-700",children:"Resume:"}),a?T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:x,className:"block"}),n.resumeName&&!m&&T.jsxs("p",{className:"text-sm text-gray-600",children:["Current File : ",T.jsx("strong",{children:n.resumeName})]})]}):n.resumeName?T.jsxs("p",{children:["Uploaded : ",T.jsx("strong",{children:n.resumeName})]}):T.jsx("p",{className:"text-gray-500 italic",children:"No resume uploaded"})]});return c||!t?T.jsx("div",{className:"text-center mt-10",children:"Loading profile..."}):T.jsxs("div",{className:"p-6 bg-white shadow-xl rounded-lg max-w-3xl mx-auto mt-10",children:[T.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Account Information"}),T.jsxs("div",{className:"space-y-4",children:[V("Username","username"),V("Email","email"),V("Phone","phone"),V("Skills","skills"),V("Bio","bio"),V("GitHub","github"),V("LinkedIn","linkedin"),G()]}),a?T.jsxs("div",{className:"flex gap-4 mt-6",children:[T.jsx("button",{onClick:O,className:"bg-green-600 hover:bg-green-700 transition text-white px-5 py-2 rounded-md",children:_?"Uploading...":"Save Changes"}),T.jsx("button",{onClick:k,className:"bg-gray-400 hover:bg-gray-500 transition text-white px-5 py-2 rounded-md",children:"Cancel"})]}):T.jsx("div",{className:"mt-6",children:T.jsx("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 transition text-white px-6 py-2 rounded-md",children:"Edit Profile"})})]})},i6=()=>T.jsx("div",{children:"DeleteAccount"});function s6(t){return Xi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const a6=({showPopUp:t,setshowPopUp:e})=>{const n=()=>{e(!1)};return T.jsx("div",{className:`${t?"flex":"hidden"} fixed inset-0 items-center justify-center    z-50`,children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border-2 border-blue-500 p-8 w-[90%] max-w-lg relative",children:[T.jsx("button",{onClick:n,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-2xl",children:T.jsx(s6,{})}),T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Job Posted!"}),T.jsx("p",{className:"text-gray-600",children:"Your job has been successfully posted to the board."}),T.jsx("button",{onClick:n,className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition duration-300",children:"Close"})]})]})})},o6=()=>{const t=wr(v=>v.user.currentUser),[e,n]=U.useState(!1),[i,a]=U.useState(!1),[l,c]=U.useState({title:"",description:"",location:"",company:"",salary:"",questions:[""]}),d=v=>{const{name:w,value:x}=v.target;c(N=>({...N,[w]:x}))},m=async v=>{v.preventDefault();const{title:w,description:x,location:N,company:k,salary:O}=l;if(!w||!x||!N||!k||!O){alert("Please fill in all required fields before submitting.");return}n(!0);try{await sv(Yi(Et,"posts"),{...l,createdAt:hm(),ownerId:t.uid,postedBy:{uid:t.uid,email:t.email,name:t.username}}),console.log("job posted to posts collection successfully"),c({title:"",description:"",location:"",company:"",salary:"",questions:[""]})}catch(V){console.error("Error posting job:",V)}n(!1),a(!0)},g=(v,w)=>{const x=[...l.questions];x[v]=w,c(N=>({...N,questions:x}))},_=()=>{l.questions.length<5&&c(v=>({...v,questions:[...v.questions,""]}))};return T.jsxs("div",{className:"p-6 max-w-3xl mx-auto mt-10 bg-white rounded-xl shadow-md",children:[T.jsx(a6,{showPopUp:i,setshowPopUp:a}),e?T.jsx(Sr,{}):T.jsxs(T.Fragment,{children:[" ",T.jsx("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Post a Job"}),T.jsxs("form",{className:"flex flex-col gap-4",children:[T.jsx("input",{type:"text",name:"title",value:l.title,onChange:d,placeholder:"Job Title",className:"border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("textarea",{placeholder:"Job Description",value:l.description,name:"description",onChange:d,rows:5,className:"border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("input",{type:"text",name:"location",value:l.location,onChange:d,placeholder:"Location",className:"border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("input",{type:"text",name:"company",onChange:d,value:l.company,placeholder:"Company Name",className:"border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("input",{type:"text",name:"salary",onChange:d,value:l.salary,placeholder:"Salary Range",className:"border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Optional Screening Questions"}),l.questions.map((v,w)=>T.jsx("input",{type:"text",value:v,onChange:x=>g(w,x.target.value),placeholder:`Question ${w+1}`,className:"border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},w)),l.questions.length<5&&T.jsx("button",{type:"button",onClick:_,className:"text-blue-600 hover:underline text-sm",children:"+ Add another question"}),T.jsx("button",{type:"submit",onClick:m,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition duration-200",children:"Submit Job"})]})]})]})},l6=()=>{const[t,e]=U.useState(null),n=Rr.currentUser,[i,a]=U.useState(!1);U.useEffect(()=>{const c=async()=>{try{const d=Yi(Et,"posts"),m=ih(d,jl("ownerId","==",n.uid)),_=(await Yl(m)).docs.map(v=>({id:v.id,...v.data()}));e(_)}catch(d){console.error("❌ Error fetching jobs:",d)}};n!=null&&n.uid&&c()},[n]);const l=async c=>{if(window.confirm("Are you sure you want to delete this job?")){a(c);try{await gR(Cn(Et,"posts",c)),e(m=>m.filter(g=>g.id!==c)),console.log(`🗑️ Job with ID ${c} deleted.`)}catch(m){console.error("❌ Error deleting job:",m)}finally{a(!1)}}};return T.jsx("div",{className:"p-4",children:t?T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"min-w-full table-auto border border-gray-300 rounded-lg shadow-md",children:[T.jsx("thead",{className:"bg-gray-100 text-gray-700",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-2 border",children:"#"}),T.jsx("th",{className:"px-4 py-2 border",children:"Job Title"}),T.jsx("th",{className:"px-4 py-2 border",children:"Company"}),T.jsx("th",{className:"px-4 py-2 border",children:"Actions"})]})}),T.jsxs("tbody",{children:[t.map((c,d)=>T.jsxs("tr",{className:"text-center hover:bg-gray-50",children:[T.jsx("td",{className:"px-4 py-2 border",children:d+1}),T.jsx("td",{className:"px-4 py-2 border",children:c.title}),T.jsx("td",{className:"px-4 py-2 border",children:c.company}),T.jsxs("td",{className:"px-4 py-2 border space-x-2",children:[T.jsx(pr,{to:`/view-job-applicants/${c.id}`,children:T.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-3 py-1 rounded",children:"View Applications"})}),T.jsx("button",{onClick:()=>l(c.id),className:"bg-red-500 hover:bg-red-600 text-white text-sm px-3 py-1 rounded",children:i===c.id?"Deleting...":"Delete"})]})]},c.id)),t.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"py-4 text-center text-gray-500",children:"No jobs posted yet."})})]})]})}):T.jsx(Sr,{})})},u6=()=>{const[t,e]=U.useState([]),[n,i]=U.useState(!1),a=wr(l=>l.user.currentUser);return U.useEffect(()=>{(async()=>{if(a){i(!0);try{const c=ih(Yi(Et,"applications"),jl("applicantId","==",a.uid)),d=await Yl(c),m=await Promise.all(d.docs.map(async g=>{const _=g.data(),v=Cn(Et,"posts",_.jobId),w=await po(v);return{id:g.data(),..._,jobDetails:w.exists()?w.data():{}}}));e(m)}catch(c){console.error("Error fetching applications:",c)}finally{i(!1)}}})()},[a]),T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-3xl font-bold text-blue-700 mb-6",children:"Jobs Applied"}),n?T.jsx(Sr,{}):t.length===0?T.jsx("p",{className:"text-gray-500",children:"You haven't applied to any jobs yet."}):t.map(l=>{var c,d;return T.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg shadow-sm bg-white",children:[T.jsx("h3",{className:"text-xl font-semibold text-blue-600",children:l.jobDetails.title||"Untitled Job"}),T.jsxs("p",{className:"text-gray-700 mb-1",children:[T.jsx("strong",{children:"Company:"})," ",l.jobDetails.company||"N/A"]}),T.jsxs("p",{className:"text-gray-700 mb-1",children:[T.jsx("strong",{children:"Location:"})," ",l.jobDetails.location||"N/A"]}),T.jsxs("p",{className:"text-sm text-gray-500",children:[T.jsx("strong",{children:"Applied On:"})," ",((d=(c=l.createdAt)==null?void 0:c.toDate)==null?void 0:d.call(c).toLocaleDateString())||"Unknown"]}),l.resumeURL&&T.jsx("a",{href:l.resumeURL,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline text-sm mt-2 inline-block",children:"View Resume"})]},l.id)})]})},c6={jobId:null,resumeURL:null,answers:[],userInfo:null},bx=gm({name:"jobApplication",initialState:c6,reducers:{setJobId:(t,e)=>{t.jobId=e.payload},setResumeURL:(t,e)=>{t.resumeURL=e.payload},setAnswers:(t,e)=>{t.answers=e.payload},setUserInfo:(t,e)=>{t.userInfo=e.payload},resetApplication:t=>{t.jobId=null,t.resumeURL=null,t.answers=[],t.userInfo=null}}}),{setJobId:h6,setResumeURL:f6,setAnswers:d6,setUserInfo:m6,resetApplication:p6}=bx.actions,g6=bx.reducer;var Ev="persist:",Tv="persist/FLUSH",Tm="persist/REHYDRATE",wv="persist/PAUSE",Sv="persist/PERSIST",Av="persist/PURGE",Rv="persist/REGISTER",y6=-1;function sd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sd=function(n){return typeof n}:sd=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},sd(t)}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function _6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(n,!0).forEach(function(i){v6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function v6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b6(t,e,n,i){i.debug;var a=_6({},n);return t&&sd(t)==="object"&&Object.keys(t).forEach(function(l){l!=="_persist"&&e[l]===n[l]&&(a[l]=t[l])}),a}function E6(t){var e=t.blacklist||null,n=t.whitelist||null,i=t.transforms||[],a=t.throttle||0,l="".concat(t.keyPrefix!==void 0?t.keyPrefix:Ev).concat(t.key),c=t.storage,d;t.serialize===!1?d=function(J){return J}:typeof t.serialize=="function"?d=t.serialize:d=T6;var m=t.writeFailHandler||null,g={},_={},v=[],w=null,x=null,N=function(J){Object.keys(J).forEach(function(re){V(re)&&g[re]!==J[re]&&v.indexOf(re)===-1&&v.push(re)}),Object.keys(g).forEach(function(re){J[re]===void 0&&V(re)&&v.indexOf(re)===-1&&g[re]!==void 0&&v.push(re)}),w===null&&(w=setInterval(k,a)),g=J};function k(){if(v.length===0){w&&clearInterval(w),w=null;return}var F=v.shift(),J=i.reduce(function(re,I){return I.in(re,F,g)},g[F]);if(J!==void 0)try{_[F]=d(J)}catch(re){console.error("redux-persist/createPersistoid: error serializing state",re)}else delete _[F];v.length===0&&O()}function O(){Object.keys(_).forEach(function(F){g[F]===void 0&&delete _[F]}),x=c.setItem(l,d(_)).catch(G)}function V(F){return!(n&&n.indexOf(F)===-1&&F!=="_persist"||e&&e.indexOf(F)!==-1)}function G(F){m&&m(F)}var P=function(){for(;v.length!==0;)k();return x||Promise.resolve()};return{update:N,flush:P}}function T6(t){return JSON.stringify(t)}function w6(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Ev).concat(t.key),i=t.storage;t.debug;var a;return t.deserialize===!1?a=function(c){return c}:typeof t.deserialize=="function"?a=t.deserialize:a=S6,i.getItem(n).then(function(l){if(l)try{var c={},d=a(l);return Object.keys(d).forEach(function(m){c[m]=e.reduceRight(function(g,_){return _.out(g,m,d)},a(d[m]))}),c}catch(m){throw m}else return})}function S6(t){return JSON.parse(t)}function A6(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Ev).concat(t.key);return e.removeItem(n,R6)}function R6(t){}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(n,!0).forEach(function(i){x6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function x6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6(t,e){if(t==null)return{};var n=C6(t,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function C6(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}var N6=5e3;function O6(t,e){var n=t.version!==void 0?t.version:y6;t.debug;var i=t.stateReconciler===void 0?b6:t.stateReconciler,a=t.getStoredState||w6,l=t.timeout!==void 0?t.timeout:N6,c=null,d=!1,m=!0,g=function(v){return v._persist.rehydrated&&c&&!m&&c.update(v),v};return function(_,v){var w=_||{},x=w._persist,N=I6(w,["_persist"]),k=N;if(v.type===Sv){var O=!1,V=function(A,C){O||(v.rehydrate(t.key,A,C),O=!0)};if(l&&setTimeout(function(){!O&&V(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},l),m=!1,c||(c=E6(t)),x)return Di({},e(k,v),{_persist:x});if(typeof v.rehydrate!="function"||typeof v.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return v.register(t.key),a(t).then(function(I){var A=t.migrate||function(C,L){return Promise.resolve(C)};A(I,n).then(function(C){V(C)},function(C){V(void 0,C)})},function(I){V(void 0,I)}),Di({},e(k,v),{_persist:{version:n,rehydrated:!1}})}else{if(v.type===Av)return d=!0,v.result(A6(t)),Di({},e(k,v),{_persist:x});if(v.type===Tv)return v.result(c&&c.flush()),Di({},e(k,v),{_persist:x});if(v.type===wv)m=!0;else if(v.type===Tm){if(d)return Di({},k,{_persist:Di({},x,{rehydrated:!0})});if(v.key===t.key){var G=e(k,v),P=v.payload,F=i!==!1&&P!==void 0?i(P,_,G,t):G,J=Di({},F,{_persist:Di({},x,{rehydrated:!0})});return g(J)}}}if(!x)return e(_,v);var re=e(k,v);return re===k?_:g(Di({},re,{_persist:x}))}}function cS(t){return k6(t)||P6(t)||D6()}function D6(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function P6(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function k6(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Jy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(n,!0).forEach(function(i){M6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(n).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function M6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ex={registry:[],bootstrapped:!1},U6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ex,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Rv:return Jy({},e,{registry:[].concat(cS(e.registry),[n.key])});case Tm:var i=e.registry.indexOf(n.key),a=cS(e.registry);return a.splice(i,1),Jy({},e,{registry:a,bootstrapped:a.length===0});default:return e}};function L6(t,e,n){var i=mv(U6,Ex,void 0),a=function(m){i.dispatch({type:Rv,key:m})},l=function(m,g,_){var v={type:Tm,payload:g,err:_,key:m};t.dispatch(v),i.dispatch(v)},c=Jy({},i,{purge:function(){var m=[];return t.dispatch({type:Av,result:function(_){m.push(_)}}),Promise.all(m)},flush:function(){var m=[];return t.dispatch({type:Tv,result:function(_){m.push(_)}}),Promise.all(m)},pause:function(){t.dispatch({type:wv})},persist:function(){t.dispatch({type:Sv,register:a,rehydrate:l})}});return c.persist(),c}var uc={},Gf={},Qf={},fS;function V6(){if(fS)return Qf;fS=1,Qf.__esModule=!0,Qf.default=a;function t(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(l)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function i(l){if((typeof self>"u"?"undefined":t(self))!=="object"||!(l in self))return!1;try{var c=self[l],d="redux-persist ".concat(l," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function a(l){var c="".concat(l,"Storage");return i(c)?self[c]:n}return Qf}var dS;function j6(){if(dS)return Gf;dS=1,Gf.__esModule=!0,Gf.default=n;var t=e(V6());function e(i){return i&&i.__esModule?i:{default:i}}function n(i){var a=(0,t.default)(i);return{getItem:function(c){return new Promise(function(d,m){d(a.getItem(c))})},setItem:function(c,d){return new Promise(function(m,g){m(a.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,m){d(a.removeItem(c))})}}}return Gf}var mS;function z6(){if(mS)return uc;mS=1,uc.__esModule=!0,uc.default=void 0;var t=e(j6());function e(i){return i&&i.__esModule?i:{default:i}}var n=(0,t.default)("local");return uc.default=n,uc}var B6=z6();const q6=RS(B6),F6={key:"root",storage:q6,whitelist:["user","bookmarkedJobs"]},H6=jR({user:_V,menu:gL,jobApplication:g6,bookmarkedJobs:hV}),G6=O6(F6,H6),Tx=nL({reducer:G6,middleware:t=>t({serializableCheck:{ignoreActions:[Tv,Tm,wv,Sv,Av,Rv]}})}),wx=L6(Tx),Q6=()=>{const t=ri(),e=xr(),n=wr(_=>_.user.currentUser),[i,a]=U.useState("Account Information");U.useEffect(()=>{const _=T_(),v=Xc(_,async w=>{if(w&&!n){const x=Cn(Et,"users",w.uid),N=await po(x);N.exists()&&e(_m(N.data()))}});return()=>v()},[e,n]);const l=_=>_==="JobSeeker"?["Account Information","Delete Account","Jobs Applied"]:_==="Recruiter"?["Account Information","Post a Job","Delete Account","Jobs Posted"]:["Account Information"],c=async()=>{await UR(),wx.purge(),e(WR()),t("/login")};if(!n)return T.jsx("div",{children:"Loading profile…"});const d=n.type||n.type,m=l(d),g=()=>{switch(i){case"Account Information":return T.jsx(oS,{user:n});case"Post a Job":return T.jsx(o6,{});case"Delete Account":return T.jsx(i6,{});case"Jobs Posted":return T.jsx(l6,{});case"Jobs Applied":return T.jsx(u6,{});default:return T.jsx(oS,{user:n})}};return T.jsx("div",{className:"w-full",children:T.jsxs("div",{className:"profile-content py-10 flex w-full max-w-[1300px] mx-auto",children:[T.jsxs("div",{className:"profile-options flex flex-col min-w-[250px] bg-white shadow-md rounded-xl p-4 gap-2",children:[m.map((_,v)=>T.jsx("div",{onClick:()=>a(_),className:`transition-all duration-200 border px-4 py-3 rounded-lg cursor-pointer ${i===_?"bg-gray-700 text-white border-gray-700":"bg-gray-100 text-gray-800 hover:bg-gray-200 border-gray-300"}`,children:T.jsx("h2",{className:"text-lg font-medium select-none",children:_})},v)),T.jsx("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 mt-4 rounded-lg transition duration-200",children:"Logout"})]}),T.jsx("div",{className:"container min-h-12 min-w-[70%] p-4",children:g()})]})})},$6=()=>{const{id:t}=i_(),[e,n]=U.useState(""),[i,a]=U.useState(null),[l,c]=U.useState(!0),d=xr();U.useEffect(()=>{const _=Rr.currentUser;_&&d(m6({email:_.email,displayName:_.displayName,emailVerified:_.emailVerified,uid:_.uid}))},[d]),U.useEffect(()=>{const _=async()=>{try{const v=Cn(Et,"posts",t),w=await po(v);w.exists()?a(w.data()):console.log("No such job found!")}catch(v){console.error("Error fetching job:",v)}finally{c(!1)}};t&&(d(h6(t)),_())},[t,d]);const m=_=>{const v=_.target.value,w=g(v);n(v),d(f6(w))};function g(_){const v=_.match(/\/d\/(.*?)\//);return v&&v[1]?`https://drive.google.com/uc?id=${v[1]}`:_}return l?T.jsx(Sr,{}):i?T.jsxs("div",{className:"mx-auto py-12 px-4 flex flex-col md:flex-row gap-8 w-full max-w-[1300px]",children:[T.jsxs("div",{className:"left w-full md:w-[40%] border-2 border-blue-600 p-6 rounded-lg",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4 text-blue-700",children:"Paste Google Drive Resume Link"}),T.jsx("input",{type:"url",placeholder:"https://drive.google.com/...",value:e,onChange:m,className:"w-full border p-2 rounded mb-4"}),T.jsx(pr,{to:`/screening-questions/${t}`,children:T.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg shadow-md transition duration-200 mt-6",disabled:!e,children:"Continue"})})]}),T.jsxs("div",{className:"right w-full md:w-[60%] bg-white p-6 rounded-lg",children:[T.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-4",children:i.title}),T.jsx("p",{className:"text-gray-700 mb-6",children:i.description}),T.jsxs("p",{className:"text-lg font-semibold text-green-700 mb-2",children:["Company: ",i.company]}),T.jsxs("p",{className:"text-lg font-semibold text-green-700 mb-2",children:["Location: ",i.location]}),T.jsxs("p",{className:"text-lg font-semibold text-green-700 mb-2",children:["Salary: $",i.salary]})]})]}):T.jsx("div",{className:"text-center py-12",children:"Job not found."})},Sx=async t=>{const e=Cn(Et,"posts",t),n=await po(e);if(!n.exists())throw new Error("Job not found");return{id:n.id,...n.data()}},K6=()=>{const{id:t}=i_(),e=ri(),n=xr(),i=Rr.currentUser,{data:a,isLoading:l,error:c}=ym({queryKey:["job",t],queryFn:()=>Sx(t),enabled:!!t}),d=(a==null?void 0:a.questions)||[],[m,g]=U.useState(Array(d.length).fill("")),_=(w,x)=>{const N=[...m];N[w]=x,g(N)},v=w=>{if(w.preventDefault(),!i){alert("Please login first to proceed.");return}const x=d.map((N,k)=>({question:N,answer:m[k]}));n(d6({QA:x,jobId:t})),e("/review")};return c?T.jsx("div",{className:"flex justify-center items-center h-screen",children:T.jsx("p",{className:"text-red-500 text-lg",children:"Error loading job data"})}):T.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4 py-10",children:T.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-xl shadow-lg p-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-blue-700 mb-8",children:"Screening Questions"}),l?T.jsx(Sr,{}):d.length>0?T.jsxs("form",{className:"space-y-6",onSubmit:v,children:[d.map((w,x)=>T.jsxs("div",{children:[T.jsxs("label",{className:"block text-gray-800 font-medium mb-2",children:[x+1,". ",w]}),T.jsx("textarea",{rows:"3",placeholder:"Type your answer...",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",value:m[x],onChange:N=>_(x,N.target.value),required:!0})]},x)),T.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-md shadow-md transition duration-300",children:"Next Step"})]}):T.jsx("p",{className:"text-gray-600 text-center",children:"No questions provided by the employer."})]})})},Y6=()=>{const t=ri(),e=xr(),n=wr(x=>x.jobApplication||{}),{resumeURL:i,QA:a=[],jobId:l}=n,c=Rr.currentUser,[d,m]=U.useState(!1),{data:g,isLoading:_,error:v}=ym({queryKey:["job",l],queryFn:()=>Sx(l),enabled:!!l}),w=async()=>{if(!c){alert("You must be logged in to submit an application.");return}m(!0);try{await sv(Yi(Et,"applications"),{...n,applicantId:c.uid,ownerId:(g==null?void 0:g.ownerId)||"",createdAt:hm()}),alert("Application Submitted Successfully!"),e(p6()),t("/thank-you")}catch(x){console.error("Error submitting application:",x),alert("Failed to submit application. Please try again later.")}finally{m(!1)}};return _?T.jsx(Sr,{}):v?T.jsxs("div",{className:"text-center py-10 text-red-600 font-semibold",children:["Error loading job: ",v.message]}):T.jsx("div",{className:"max-w-5xl mx-auto px-4 py-10",children:d?T.jsx(Sr,{}):T.jsxs("div",{className:"flex flex-col",children:[T.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-8 text-center",children:"Review Your Application"}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8 border border-blue-100",children:[T.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-2",children:(g==null?void 0:g.title)||"Job Title"}),T.jsxs("p",{className:"text-gray-700 mb-1",children:[T.jsx("strong",{children:"Company:"})," ",(g==null?void 0:g.company)||"N/A"]}),T.jsxs("p",{className:"text-gray-700 mb-1",children:[T.jsx("strong",{children:"Location:"})," ",(g==null?void 0:g.location)||"N/A"]}),T.jsxs("p",{className:"text-gray-700 mb-1",children:[T.jsx("strong",{children:"Salary:"})," $",(g==null?void 0:g.salary)||"N/A"]}),T.jsx("p",{className:"text-gray-700 mt-2",children:(g==null?void 0:g.description)||"No description available."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8 border border-blue-100",children:[T.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-4",children:"Resume Preview"}),i?T.jsx("iframe",{src:i,title:"Resume Preview",className:"w-full h-[500px] border rounded",allowFullScreen:!0}):T.jsx("p",{className:"text-red-500",children:"No resume uploaded."})]}),T.jsxs("div",{className:"bg-white p-6 rounded-lg shadow mb-8 border border-blue-100",children:[T.jsx("h2",{className:"text-2xl font-semibold text-blue-600 mb-4",children:"Screening Answers"}),a.length>0?a.map((x,N)=>T.jsxs("div",{className:"mb-4",children:[T.jsxs("p",{className:"font-semibold text-gray-800",children:["Q",N+1,": ",x.question]}),T.jsxs("p",{className:"text-gray-700 mt-1",children:[T.jsx("strong",{children:"Answer:"})," ",x.answer||"No answer provided."]})]},N)):T.jsx("p",{className:"text-gray-500",children:"No answers submitted."})]}),T.jsx("div",{className:"text-center",children:T.jsx("button",{onClick:w,className:"bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold py-3 px-8 rounded-lg transition duration-200",children:"Submit Application"})})]})})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),pS=t=>{const e=W6(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ax=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),J6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>U.createElement("svg",{ref:m,...Z6,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:Ax("lucide",a),...!l&&!J6(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>U.createElement(g,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=(t,e)=>{const n=U.forwardRef(({className:i,...a},l)=>U.createElement(ej,{ref:l,iconNode:e,className:Ax(`lucide-${X6(pS(t))}`,`lucide-${t}`,i),...a}));return n.displayName=pS(t),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rj=tj("circle-check-big",nj),ij=()=>{const t=ri();return T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:T.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md w-full",children:[T.jsx(rj,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),T.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Thank You!"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Your job application has been submitted successfully."}),T.jsx("button",{onClick:()=>t("/"),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg transition duration-200",children:"Go to Home"})]})})},sj=()=>{const{jobId:t}=i_(),[e,n]=U.useState(null),[i,a]=U.useState([]),[l,c]=U.useState(""),[d,m]=U.useState(!1),[g,_]=U.useState(null);return U.useEffect(()=>{const v=Xc(Rr,w=>{w?n(w):(n(null),c("You must be logged in to view applicants."))});return()=>v()},[]),U.useEffect(()=>{const v=async()=>{if(e){m(!0),c("");try{const x=ih(Yi(Et,"applications"),jl("jobId","==",t)),k=(await Yl(x)).docs.map(O=>({id:O.id,...O.data()})).filter(O=>O.ownerId===e.uid||O.applicantId===e.uid);console.log(k),a(k)}catch(x){console.error("❌ Error fetching applicants:",x),c("Failed to fetch applicants. Please check your permissions.")}finally{m(!1)}}},w=async()=>{if(t)try{const x=Cn(Et,"posts",t),N=await po(x);if(N.exists()){const k=N.data();_(k.title||"Untitled Job")}else _("Job not found")}catch(x){console.error("Error fetching job title:",x),_("Error loading job")}};t&&e&&(v(),w())},[t,e]),T.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[T.jsxs("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:["Applicant for Job ",T.jsx("span",{className:"text-indigo-600",children:g})]}),l&&T.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:l}),d?T.jsx(Sr,{}):i.length>0?T.jsx("ul",{className:"space-y-5",children:i.map(v=>{var w,x;return T.jsxs("li",{className:"bg-white shadow-md rounded-lg p-5 border border-gray-200 hover:shadow-lg transition",children:[T.jsxs("p",{className:"mb-2",children:[T.jsx("strong",{className:"text-indigo-600",children:"Email:"})," ",T.jsx("span",{className:"text-gray-700",children:((w=v.userInfo)==null?void 0:w.email)||"N/A"})]}),T.jsxs("div",{className:"mb-2",children:[T.jsx("strong",{className:"text-indigo-600",children:"Answers:"}),Array.isArray((x=v.answers)==null?void 0:x.QA)&&v.answers.QA.length>0?T.jsx("ul",{className:"list-disc ml-5 text-gray-700 mt-1",children:v.answers.QA.map((N,k)=>T.jsxs("li",{children:[T.jsx("span",{className:"font-semibold",children:"Q:"})," ",N.question,T.jsx("br",{}),T.jsx("span",{className:"font-semibold",children:"A:"})," ",N.answer]},k))}):T.jsx("p",{className:"text-gray-500 ml-2",children:"No answers provided"})]}),T.jsxs("p",{children:[T.jsx("strong",{className:"text-indigo-600",children:"Resume:"})," ",v.resumeURL?T.jsx("a",{href:v.resumeURL,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 underline hover:text-indigo-800",children:"View"}):T.jsx("span",{className:"text-gray-500",children:"Not uploaded"})]})]},v.id)})}):T.jsx("p",{className:"mt-8 text-gray-500 text-center",children:"No applicants found."})]})},aj=()=>{const t=wr(l=>l.bookmarkedJobs.jobIds);wr(l=>l.user.currentUser);const[e,n]=U.useState([]),[i,a]=U.useState(!1);return console.log(t),U.useEffect(()=>{(async()=>{try{a(!0);const d=(await Promise.all(t.map(async m=>{const g=Cn(Et,"posts",m),_=await po(g);return _.exists()?{id:_.id,..._.data()}:null}))).filter(m=>m!==null);n(d),console.log("Saved Jobs:",d)}catch(c){console.error("Failed to fetch saved job details:",c)}finally{a(!1)}})()},[t]),T.jsx(T.Fragment,{children:i?T.jsx("p",{children:"Loading..."}):e.length===0?T.jsx("p",{children:"No jobs bookmarked yet."}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(l=>T.jsx(hx,{post:l},l.id))})})};function gS(){return T.jsx("div",{className:"min-h-screen flex items-center justify-center",children:T.jsx("p",{className:"text-lg font-semibold animate-pulse",children:"Loading..."})})}function oj(){const[t,e]=U.useState(null),[n,i]=U.useState(!0);U.useEffect(()=>{const c=Xc(Rr,d=>{e(d),i(!1)});return()=>c()},[]);const a=({children:c})=>n?T.jsx(gS,{}):!t||!t.emailVerified?T.jsx(ZE,{to:"/login",replace:!0}):c,l=({children:c})=>n?T.jsx(gS,{}):t&&t.emailVerified?T.jsx(ZE,{to:"/home",replace:!0}):c;return T.jsx(ZC,{children:T.jsxs(un,{path:"/",element:T.jsx(AL,{}),children:[T.jsx(un,{index:!0,element:T.jsx(a,{children:T.jsx(sS,{})})}),T.jsx(un,{path:"home",element:T.jsx(a,{children:T.jsx(sS,{})})}),T.jsx(un,{path:"about",element:T.jsx(pV,{})}),T.jsx(un,{path:"signup",element:T.jsx(l,{children:T.jsx(e6,{})})}),T.jsx(un,{path:"login",element:T.jsx(l,{children:T.jsx(t6,{})})}),T.jsx(un,{path:"dashboard",element:T.jsx(a,{children:T.jsx(n6,{})})}),T.jsx(un,{path:"profile",element:T.jsx(a,{children:T.jsx(Q6,{})})}),T.jsx(un,{path:"userdetailspage",element:T.jsx(a,{children:T.jsx(r6,{})})}),T.jsx(un,{path:"jobs/:id",element:T.jsx(a,{children:T.jsx($6,{})})}),T.jsx(un,{path:"screening-questions/:id",element:T.jsx(a,{children:T.jsx(K6,{})})}),T.jsx(un,{path:"review",element:T.jsx(a,{children:T.jsx(Y6,{})})}),T.jsx(un,{path:"/thank-you",element:T.jsx(a,{children:T.jsx(ij,{})})}),T.jsx(un,{path:"savedjobs",element:T.jsx(a,{children:T.jsx(aj,{})})}),T.jsx(un,{path:"view-job-applicants/:jobId",element:T.jsx(a,{children:T.jsx(sj,{})})})]})})}function ad(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ad=function(n){return typeof n}:ad=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ad(t)}function lj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uj(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function cj(t,e,n){return e&&uj(t.prototype,e),t}function hj(t,e){return e&&(ad(e)==="object"||typeof e=="function")?e:od(t)}function Zy(t){return Zy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Zy(t)}function od(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},e_(t,e)}function ld(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rx=function(t){fj(e,t);function e(){var n,i;lj(this,e);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return i=hj(this,(n=Zy(e)).call.apply(n,[this].concat(l))),ld(od(i),"state",{bootstrapped:!1}),ld(od(i),"_unsubscribe",void 0),ld(od(i),"handlePersistorState",function(){var d=i.props.persistor,m=d.getState(),g=m.bootstrapped;g&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return cj(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(U.PureComponent);ld(Rx,"defaultProps",{children:null,loading:null});const dj=new qL;aC.createRoot(document.getElementById("root")).render(T.jsx(U.StrictMode,{children:T.jsx($L,{client:dj,children:T.jsx(IU,{store:Tx,children:T.jsx(Rx,{loading:null,persistor:wx,children:T.jsxs(T2,{basename:"/freelancerbox",children:[T.jsx(oj,{}),T.jsx(ZV,{})]})})})})}));
